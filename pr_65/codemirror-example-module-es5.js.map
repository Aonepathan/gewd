{"version":3,"sources":["webpack:///node_modules/@codemirror/autocomplete/dist/index.js","webpack:///node_modules/@codemirror/state/dist/index.js","webpack:///libs/components/codemirror/index.ts","webpack:///node_modules/@codemirror/rectangular-selection/dist/index.js","webpack:///node_modules/@codemirror/view/dist/index.js","webpack:///libs/components/codemirror/codemirror.module.ts","webpack:///node_modules/crelt/index.es.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.css","webpack:///node_modules/@codemirror/commands/dist/index.js","webpack:///libs/components/codemirror/public_api.ts","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.ts","webpack:///node_modules/@codemirror/comment/dist/index.js","webpack:///node_modules/@codemirror/theme-one-dark/dist/index.js","webpack:///node_modules/@codemirror/lint/dist/index.js","webpack:///node_modules/lezer-tree/dist/tree.es.js","webpack:///node_modules/@codemirror/matchbrackets/dist/index.js","webpack:///node_modules/@codemirror/fold/dist/index.js","webpack:///libs/components/codemirror/codemirror.component.ts","webpack:///node_modules/@codemirror/closebrackets/dist/index.js","webpack:///node_modules/lezer/dist/index.es.js","webpack:///libs/components/codemirror/codemirror.component.scss","webpack:///node_modules/@codemirror/panel/dist/index.js","webpack:///node_modules/@codemirror/tooltip/dist/index.js","webpack:///node_modules/@codemirror/gutter/dist/index.js","webpack:///node_modules/lezer-javascript/dist/index.es.js","webpack:///node_modules/@codemirror/history/dist/index.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.html","webpack:///node_modules/@codemirror/search/dist/index.js","webpack:///node_modules/w3c-keyname/index.es.js","webpack:///node_modules/style-mod/src/style-mod.js","webpack:///node_modules/@codemirror/basic-setup/dist/index.js","webpack:///node_modules/@codemirror/lang-javascript/dist/index.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.module.ts","webpack:///node_modules/@codemirror/text/dist/index.js","webpack:///node_modules/@codemirror/highlight/dist/index.js","webpack:///node_modules/@codemirror/rangeset/dist/index.js","webpack:///node_modules/@codemirror/language/dist/index.js"],"names":["CompletionContext","state","pos","explicit","abortListeners","types","token","resolve","indexOf","name","parent","from","to","text","sliceDoc","type","expr","line","doc","lineAt","start","Math","max","str","slice","found","search","ensureAnchor","listener","push","toSet","chars","flat","Object","keys","join","words","test","replace","prefixMatch","options","first","create","rest","label","i","length","source","RegExp","completeFromList","list","map","o","every","span","match","context","matchBefore","ifIn","nodes","ifNotIn","Option","completion","cur","selection","main","head","_a","addStart","addEnd","flags","ignoreCase","applyCompletion","view","option","apply","result","dispatch","changes","insert","anchor","SourceCache","WeakMap","asSource","Array","isArray","known","get","set","FuzzyMatcher","pattern","folded","any","precise","byWord","p","char","size","part","upper","toUpperCase","toLowerCase","astral","word","direct","len","anyTo","e","min","next","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","prevType","ch","score","positions","completionConfig","define","combine","configs","activateOnTyping","override","maxRenderedOptions","defaultKeymap","a","b","MaxInfoWidth","baseTheme","fontFamily","whiteSpace","overflow","maxWidth_fallback","maxWidth","maxHeight","listStyle","margin","padding","cursor","lineHeight","background_fallback","backgroundColor","color_fallback","color","content","opacity","display","textAlign","position","width","right","left","verticalAlign","height","borderLeft","textDecoration","marginLeft","fontStyle","fontSize","paddingRight","createListBox","id","range","ul","document","createElement","setAttribute","li","appendChild","icon","classList","add","split","cls","labelElt","className","detail","off","j","createTextNode","detailElt","textContent","createInfoDialog","dom","info","then","node","rangeAroundSelected","total","selected","floor","CompletionTooltip","stateField","placeInfo","read","measureInfo","write","positionInfo","key","cState","field","open","config","facet","addEventListener","target","parentNode","nodeName","exec","preventDefault","requestMeasure","updateSel","update","startState","remove","updateSelectedOption","opt","firstChild","nextSibling","hasAttribute","removeAttribute","scrollIntoView","sel","querySelector","rect","getBoundingClientRect","top","clientHeight","textDirection","RTL","spaceLeft","spaceRight","innerWidth","style","toggle","completionTooltip","container","element","self","scrollTop","bottom","MaxOptions","boost","sortOptions","active","hasResult","filter","matcher","sort","cmpOption","prev","CompletionDialog","attrs","tooltip","timestamp","makeAttrs","assign","mapPos","selectedValue","reduce","completionState","Date","now","CompletionState","tr","conf","sources","languageDataAt","value","find","s","ActiveSource","some","touchesRange","sameResults","build","docChanged","effects","effect","is","setSelectedEffect","setSelected","baseAttrs","none","random","toString","iA","iB","endA","endB","dScore","lA","lB","explicitPos","event","annotation","userEvent","handleUserEvent","handleChange","startCompletionEffect","closeCompletionEffect","setActiveEffect","empty","ActiveResult","mapping","provide","f","val","contentAttributes","CompletionInteractMargin","moveCompletionSelection","forward","by","step","offsetHeight","of","acceptCompletion","startCompletion","closeCompletion","RunningQuery","time","updates","done","undefined","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","fromClass","debounceUpdate","running","debounceAccept","composing","startQuery","selectionSet","doesReset","transactions","query","handler","splice","clearTimeout","q","setTimeout","startUpdate","r","pending","Promise","aborted","scheduleAccept","err","accept","updated","current","eventHandlers","compositionstart","compositionend","FieldPos","FieldRange","Snippet","lines","fieldPositions","lineStart","lineObj","baseIndent","indent","tabs","ranges","template","fields","m","seq","index","fieldMarker","widget","fieldRange","mark","ActiveSnippet","deco","setActive","moveToField","snippetState","selectionInsideField","decorations","fieldSelection","snippet","parse","editor","_completion","instantiate","spec","appendConfig","init","addSnippetKeymap","snippetPointerHandler","moveField","dir","last","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","run","shift","snippetKeymap","maps","compute","snippetCompletion","domEventHandlers","mousedown","posAtCoords","x","clientX","y","clientY","completeAnyWord","seen","cat","charCategorizer","end","iterRange","Word","autocompletion","completionKeymapExt","completionKeymap","computeN","completionStatus","currentCompletions","DefaultSplit","MapMode","ChangeDesc","sections","ins","posA","posB","individual","iterChanges","other","composeSets","before","mapSet","assoc","mode","Simple","TrackDel","TrackBefore","TrackAfter","RangeError","json","ChangeSet","inserted","fromA","toA","fromB","_toB","resultSections","resultInserted","filteredSections","iter","SectionIter","addSection","addInsert","filtered","parts","concat","toJSON","lineSep","flush","force","compose","process","sub","insText","insLen","forceJoin","values","append","desc","setA","setB","mkSet","skip","Error","len2","sectionLen","insB","textBit","forward2","SelectionRange","level","change","EditorSelection","abs","mainIndex","eq","which","fromJSON","normalized","bidiLevel","goalColumn","goal","checkSelection","docLength","nextID","Facet","compareInput","compare","isStatic","extensions","FacetProvider","deps","sameArray","enables","dependencies","addresses","getter","idx","multi","depDoc","depSel","depAddrs","dep","reconfigured","depChanged","addr","ensureAddr","newVal","oldVal","compareArray","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","oldAddr","address","changed","dynAddr","getAddr","maybeIndex","initField","StateField","createF","updateF","compareF","provides","Prec_","fallback","extend","prec","ext","PrecExtension","Prec","inner","Compartment","CompartmentInstance","reconfigure","compartment","extension","compartments","Configuration","base","dynamicSlots","staticValues","statusTemplate","oldState","facets","newCompartments","Map","flatten","slot","dynamicSlot","has","status","applying","languageData","allowMultipleSelections","v","lineSeparator","changeFilter","transactionFilter","transactionExtender","Annotation","AnnotationType","StateEffectType","StateEffect","mapped","Transaction","annotations","_doc","_state","newLength","applyTransaction","ann","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","mapDesc","mapEffects","resolveTransactionInner","docSize","single","asArray","resolveTransaction","specs","extendTransaction","filterTransaction","back","invertedDesc","filters","extenders","CharCategory","nonASCIISingleCaseWordChar","wordChar","_","hasWordChar","makeCategorizer","wordChars","Space","Other","EditorState","require","forEach","newDoc","newSelection","toText","changeByRange","result1","newChanges","newMapped","mapBy","string","sliceString","lineBreak","prop","tabSize","phrase","phrases","prototype","hasOwnProperty","call","provider","at","fieldInit","configuration","staticFacet","asSingle","combineConfig","defaults","MaxOff","rectangleFor","startLine","endLine","col","startOff","endOff","startCol","endCol","absoluteColumn","ref","coordsAtPos","viewport","round","defaultCharacterWidth","getPos","offset","number","rectangleSelectionStyle","startSel","newStart","newLine","_extend","multiple","rectangularSelection","eventFilter","altKey","button","mouseSelectionStyle","getSelection","root","contains","nodeType","deepActiveElement","elt","activeElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","childNodes","contentEditable","Rect0","flattenRect","windowRect","win","innerHeight","ScrollSpace","scrollRectIntoView","ownerDocument","defaultView","bounding","body","scrollHeight","scrollWidth","clientWidth","moveX","moveY","scrollBy","scrollLeft","assignedSlot","host","DOMSelection","anchorOffset","focusNode","focusOffset","domSel","preventScrollSupported","focusPreventScroll","focus","stack","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","code","keyCode","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","_plainTextSupported","contentEditablePlainTextSupported","dummy","DOMPos","none$3","ContentView","dirty","editorView","posBefore","posAtStart","children","child","breakAfter","_pos","_side","track","reuseDOM","sync","written","syncNodeInto","rm","_dom","after","bias","lastChild","fromI","fromStart","toI","toEnd","prevEnd","domBoundsAround","startDOM","endDOM","andParent","markParentsDirty","childList","cmView","markDirty","setParent","_rec","_event","ChildCursor","childCursor","findPos","constructor","removeChild","insertBefore","navigator","userAgent","vendor","platform","documentElement","nav","ie_edge","ie_upto10","ie_11up","ie","gecko","chrome","webkit","safari","browser","mac","ie_version","documentMode","gecko_version","chrome_version","ios","maxTouchPoints","android","webkit_version","none$2","InlineView","_other","MaxJoinLen","TextView","textDOM","setDOM","createDOM","_from","_to","side","textCoords","MarkView","tagName","openStart","openEnd","mergeInlineChildren","sliceInlineChildren","inlineDOMAtPos","coordsInChildren","rects","WidgetView","updateDOM","toDOM","ignoreEvent","customView","CompositionView","elts","toOff","fromOff","dLen","merge","pop","become","replaceChildren","getSide","domAtPos","joinInlineInto","coordsAt","combineAttrs","attrsEq","keysA","keysB","updateAttrs","WidgetType","_widget","BlockType","Decoration","startSide","endSide","estimatedHeight","MarkDecoration","block","PointDecoration","getInclusive","LineDecoration","attributes","point","mapMode","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","addRange","LineView","arguments","prevAttrs","takeDeco","transferDOM","setDeco","none$1","childPos","hack","cmIgnore","totalWidth","charWidth","Text","docView","BlockWidgetView","_takeDeco","posAtEnd","ContentBuilder","curLine","breakAtStart","textOff","posCovered","getLine","take","wrapMarks","buildText","addWidget","NullWidget","addLineDeco","builder","spans","finish","tag","clickAddsSelectionRange","dragMovesSelection$1","exceptionSink","updateListener","inputHandler","logException","exception","window","onerror","String","console","error","editable","PluginFieldProvider","PluginField","atomicRanges","scrollMargins","nextPluginID","viewPlugin","ViewPlugin","plugin","handlers","PluginInstance","mustUpdate","destroy","editorAttributes","styleModule","ChangedRange","toB","me","diff","dI","rI","addToSet","ViewUpdate","changedRanges","iterChangedRanges","hasFocus","inputState","notifiedFocused","DocView","compositionDeco","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","contentDOM","updateInner","updateDeco","computeCompositionDeco","forceSelection","prevDeco","decoDiff","findChangedDeco","extendWithRanges","pointerSel","updateSelection","oldLength","updateChildren","observer","ignore","viewState","domHeight","selectionRange","replaceRange","breakAtEnd","fromPointer","mayControlSelection","rapidCompositionStart","betweenUneditable","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","modify","domView","rootView","nearest","localPosFromDOM","scrollDOM","measure","measureTextSize","vs","viewports","BlockGapWidget","pluginField","computeBlockGapDeco","lineGapDeco","mLeft","mRight","mTop","mBottom","margins","textNode","cView","topNode","newFrom","newTo","CompositionWidget","DecorationComparator$1","comp","Direction","LTR","dec","LowTypes","ArabicTypes","Brackets","BracketStack","l","charCodeAt","charType","BidiRE","BidiSpan","order","maybe","computeOrder","direction","outerType","oppositeType","trivialOrder","prevStrong","sI","br","sJ","embed","beforeL","afterL","rtl","movedOver","moveVisually","startIndex","spanI","indexForward","nextIndex","nextSpan","groupAt","categorize","linePos","getdx","getdy","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","halfLine","defaultLineHeight","bounced","blockAtHeight","posAtCoordsImprecise","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","isSuspiciousCaretResult","posFromDOM","contentRect","into","lineWrapping","heightOracle","lineLength","moveToLineBoundary","includeWrap","coords","editorRect","lineView","moveByChar","bidiSpans","check","byGroup","nextCat","moveVertically","distance","startPos","startY","startCoords","resolvedGoal","dist","extra","curY","skipAtoms","oldPos","atoms","moved","between","InputState","lastKeyCode","lastKeyTime","pendingIOSKey","lastSelectionOrigin","lastSelectionTime","lastEscPress","lastContextMenu","scrollHandlers","registeredEvents","customHandlers","compositionEndedAt","mouseSelection","keydown","eventBelongsToEditor","ignoreDuringComposition","mustFlushObserver","forceFlush","runCustomHandlers","ensureHandlers","origin","handled","flushSoon","scroll","screenKeyEvent","ctrlKey","metaKey","flushIOSKey","protectedTab","modifierCodes","MouseSelection","startEvent","lastEvent","move","bind","shiftKey","addsSelectionRange","dragMove","dragMovesSelection","dragging","isInPrimarySelection","select","buttons","removeEventListener","rangeCount","getRangeAt","bubbles","brokenClipboardAPI","capturePaste","cssText","doPaste","input","byLine","linewise","lastLinewiseCopy","lastLine","replaceSelection","setSelectionOrigin","lastTouch","touchstart","touchmove","makeStyle","basicMouseSelection","startMouseSelection","rangeForClick","visual","insideY","inside","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","getClickType","lastTime","startRange","dragstart","dataTransfer","setData","effectAllowed","dropText","dropPos","del","drop","files","finishFile","reader","FileReader","onload","readAsText","getData","paste","data","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","upto","copy","cut","clearData","blur","beforeprint","printing","forceClearComposition","rapid","compositionupdate","contextmenu","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","ceil","lineHeights","newHeight","h","knownHeights","MeasuredHeights","heights","BlockInfo","QueryType","Epsilon","HeightMap","oracle","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","brk","HeightMapBranch","HeightMapBlock","_height","_value","_type","blockAt","_force","measured","more","setHeight","outdated","collapsed","widgetHeight","HeightMapGap","heightForLine","firstLine","ByHeight","unshift","heightForGap","mid","rightTop","rightOffset","subQuery","ByPos","forEachLine","rightStart","balanced","decomposeLeft","mergeGaps","decomposeRight","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","blankContent","gap","enterLine","ensureLine","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","paddingTop","getComputedStyle","parentRect","offsetParent","LineGap","wrapping","LineGapWidget","gA","gB","vertical","ViewState","pixelViewport","inView","paddingBottom","contentWidth","scaler","IdScaler","scrollTo","visibleRanges","mustEnforceCursorAssoc","heightMap","applyChanges","setDoc","getViewport","updateForViewport","lineGaps","ensureLineGaps","draw","computeVisibleRanges","Viewport","BigScaler","newDeco","contentChanges","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLineGaps","mapLineGaps","repeated","parseInt","dTop","dBottom","measureVisibleLineHeights","refresh","mustRefresh","newVP","enforceCursorAssoc","fromDOM","marginTop","visibleTop","visibleBottom","newTop","newBottom","gaps","structure","lineStructure","viewFrom","viewTo","findPosition","gapTo","gapFrom","gapSize","findFraction","ratio","same","editorTop","scaleBlock","scale","counted","array","n","vpHeight","domBase","domTop","domBottom","obj","vp","bTop","bBottom","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","boxSizing","outline","flexDirection","alignItems","overflowX","zIndex","flexGrow","minHeight","wordWrap","wordBreak","overflowWrap","caretColor","contain","background","pointerEvents","animation","visibility","borderLeftColor","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","ignoreSelection","delayedFlush","queue","lastFlush","scrollTargets","intersection","intersecting","_selectionRange","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","prevValue","onSelectionChange","onScroll","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","observe","safariSelectionRangeHack","stop","clear","disconnect","takeRecords","clearSelection","records","newSel","typeOver","record","readMutation","rec","ignoreMutation","childBefore","findChild","childAfter","posAfter","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","endOffset","curAnchor","applyDOMChange","bounds","selPoints","selectionPoints","DOMReader","readRange","selectionFromPoints","preferredPos","preferredSide","findDiff","iHead","iAnchor","minLen","adjust","points","findPointBefore","readNode","nextView","isBlockElement","fromView","overrideDOMText","findPointIn","maxLen","DOMPoint","EditorView","plugins","editorAttrs","contentAttrs","bidiCache","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","runScrollHandlers","mountStyles","ensureGlobalHandler","redrawn","setState","CachedOrder","updatePlugins","styleModules","showAnnouncements","newState","prevSpecs","newPlugins","cancelAnimationFrame","measuring","warn","BadMeasure","scrollPosIntoView","themeClasses","spellcheck","autocorrect","autocapitalize","contenteditable","role","trs","announce","div","mount","reverse","request","requestAnimationFrame","takeField","inst","docTop","readMeasured","ensureTop","lineAtHeight","contentHeight","initial","MaxBidiLine","entry","prefix","dark","given","resizeDebounce","handleResize","querySelectorAll","cache","lastDir","currentPlatform","normalizeKeyName","alt","ctrl","meta","mod","modifiers","handleKeyEvents","runHandlers","getKeymap","keymap","Keymaps","bindings","buildKeymap","runScopeHandlers","scope","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","k","commands","ourObj","full","binding","isChar","fallthrough","runFor","cmd","baseName","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","drawSelectionPlugin","hideNativeSelection","Piece","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","geometryChanged","viewportChanged","animationName","measureRange","prim","piece","measureCursor","c","oldCursors","themeSpec","getBase","wrappedLine","visualLineAt","ltr","lineStyle","leftSide","paddingLeft","rightSide","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","endPos","docLine","spanFrom","spanTo","primary","iterMatches","re","lastIndex","MatchDecorator","regexp","decoration","boundary","global","getDeco","changeFrom","changeTo","_f","_t","createDeco","updateRange","updateFrom","updateTo","fromLine","toLine","filterFrom","filterTo","UnicodeRegexpSupport","unicode","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","render","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","fromCharCode","ph","custom","title","highlightActiveLine","activeLineHighlighter","lineDeco","lastLineStart","Placeholder","wrap","placeholder","__test","CodemirrorModule","declarations","exports","imports","crelt","setSel","moveSel","how","rangeEnd","cursorByChar","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","moveByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","interestingNode","bracketProp","moveBySyntax","closedBy","openedBy","bracket","newPos","matched","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","cursorByPage","cursorPageUp","cursorPageDown","moveByLineBoundary","space","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineStart","cursorLineEnd","toMatchingBracket","matching","cursorMatchingBracket","selectMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","deleteByChar","codePoint","targetPos","deleteCodePointBackward","deleteCodePointForward","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteToLineStart","deleteTrailingWhitespace","trailing","splitLine","transposeChars","blocks","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","explode","cx","simulateBreak","simulateDoubleBreak","lineIndent","changeBySelectedLine","atLine","changeSet","indentSelection","overrideIndentation","norm","indentMore","indentLess","keep","insertTab","emacsStyleKeymap","standardKeymap","defaultTabBinding","CodemirrorExampleComponent","cd","emojiList","normalExtensions","subscription","unsubscribe","codemirror","textarea","detectChanges","insertText","selectedRange","codeMirrorView","selector","toggleComment","getConfig","toggleLineComment","toggleBlockComment","changeLineComment","lineComment","lineUncomment","changeBlockComment","blockComment","blockUncomment","commentKeymap","SearchMargin","findBlockComment","close","textBefore","textAfter","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","charAt","tokens","comments","comment","prevLine","startI","minIndent","chalky","coral","cyan","invalid","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","oneDarkTheme","borderBottom","borderTop","oneDarkHighlightStyle","keyword","deleted","character","propertyName","macroName","variableName","labelName","constant","standard","definition","separator","typeName","modifier","namespace","operator","operatorKeyword","url","escape","link","special","strong","fontWeight","emphasis","heading","atom","bool","processingInstruction","oneDark","SelectedDiagnostic","diagnostic","LintState","diagnostics","panel","d","severity","DiagnosticWidget","findDiagnostic","maybeEnableLint","lintState","activeMark","lintTooltip","setDiagnostics","setDiagnosticsEffect","togglePanel","movePanelSelection","selPos","LintPanel","stackStart","stackEnd","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","timeout","lintSource","delay","lintTime","all","_b","linter","assignKeys","actions","assigned","inPanel","message","action","click","keyIndex","nameElt","onclick","onmousedown","PanelItem","items","onkeydown","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","item","domPos","underline","btoa","svg","font","backgroundPosition","backgroundRepeat","borderRight","borderBottomColor","overflowY","DefaultBufferLength","nextPropID","CachedNode","NodeProp","deserialize","propObj","NodeType","Number","group","noProps","props","skipped","src","groups","NodeSet","newTypes","newProps","Tree","isError","JSON","stringify","TreeCursor","moveTo","_tree","TreeNode","enter","leave","mustLeave","isAnonymous","maxBufferLength","BalanceBranchFactor","balanceRange","buildTree","withHash","tree","hash","contextHash","TreeBuffer","buffer","childString","endIndex","pick","_parent","BufferNode","BufferContext","hasChild","nextChild","nextSignificantParent","getChildren","externalSibling","parentStart","bufferNode","yieldNode","yieldBuf","sibling","atLastNode","depth","scan","FlatBufferCursor","nodeSet","topID","reused","minRepeatType","takeNode","minPos","inRepeat","findBufferSize","Uint16Array","copyToBuffer","localChildren","localPositions","localInRepeat","maxSize","fork","minStart","nodeSize","localSkipped","nodeStart","bufferStart","innerType","maxChild","groupFrom","groupStart","nextEnd","only","containsType","TreeFragment","fragments","minGap","fI","nextF","cI","nextC","nextPos","fFrom","fTo","partial","stringInput","StringInput","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","brackets","maxScanDistance","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","bracketMatchingUnique","bracketMatching","matchingNodes","byProp","matches","matchMarkedBrackets","matchPlainBrackets","firstToken","prevSibling","tokenType","startCh","startToken","basePos","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","foldExists","foldWidget","onSelection","foldedRanges","foldInside","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","foldConfig","posAtDOM","foldGutterDefaults","openText","closedText","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","markers","buildMarkers","viewportLines","initialSpacer","CodemirrorComponent","_changedByValue","codemirrorCreated","_val","_updateValue","editorState","createEditorState","nativeElement","emit","codemirrorExtensions","currentValue","replaceEditorState","transaction","selectionTransaction","markForCheck","changeDetection","OnPush","closeBracketEffect","skipBracketEffect","closedBracket","bracketState","prevLineStart","closeBrackets","handleInput","definedClosing","closing","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","tok","closed","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","isTriple","Stack","reducePos","bufferBase","curContext","parser","dPrec","dynamicPrecedence","minRepeatTerm","storeNode","pushState","getGoto","reduceContext","count","stateFlag","baseStateID","term","isReduce","nextState","maxNode","shiftContext","updateContext","tracker","reuse","isNode","sim","SimulatedStack","stateSlot","hasAction","frame","nextStates","best","validAction","forceReduce","dialectID","dialect","strict","newCx","StackContext","emitContext","Recover","goto","StackBufferCursor","maybeNext","Token","TokenGroup","readToken","contextual","ExternalTokenizer","groupMask","accEnd","allows","overrides","low","high","decodeArray","Type","out","digit","verbose","env","LOG","stackIDs","cutAt","FragmentCursor","fragment","safeFrom","safeTo","trees","nextFragment","fr","nextStart","CachedToken","extended","mask","dummyToken","TokenCache","mainToken","tokenizers","actionIndex","tokenizer","updateCachedToken","addActions","eofTerm","specialized","specializers","pair","putAction","Rec","Parse","recovering","nextStackID","nested","nestEnd","nestWrap","topTerm","stacks","advance","finishNested","newStacks","stopped","stoppedTokens","maybeNest","nest","checkNest","advanceStack","startNested","finished","findFinished","stackToTree","log","getName","SyntaxError","runRecovery","forceAll","maxRemaining","outer","sameState","stackID","strictCx","cxHash","cached","nodeAt","useNode","defaultReduce","getActions","localStack","pushStackDedup","restarted","tokenEnd","deadEnd","restart","advanceFully","forceBase","recoverByInsert","recoverByDelete","forceFinish","bufferLength","findNested","scanForNestEnd","filterEnd","wrapType","startParse","clip","endToken","fromCodePoint","Dialect","disabled","ContextTracker","Parser","cachedDialect","version","tokenArray","tokenData","nodeNames","repeatNodeCount","nodeProps","setProp","nodeID","propSpec","states","Uint32Array","stateData","topTerms","topRules","skippedNodes","maxTerm","dialects","dynamicPrecedences","tokenPrecTable","tokenPrec","termNames","parseDialect","loose","table","groupTag","terminal","flag","iPrev","findOffset","t","Uint8Array","panelConfig","topContainer","bottomContainer","panels","getPanel","panelPlugin","showPanel","PanelGroup","syncClasses","scrollMargin","classes","syncDOM","curDOM","Outside","tooltipPlugin","readMeasure","writeMeasure","showTooltip","tooltips","tooltipViews","tp","createTooltip","views","tip","tooltipView","maybeMeasure","tView","strictSide","positioned","HoverTime","HoverMaxDist","HoverPlugin","setHover","lastMouseMove","hoverTimeout","restartTimeout","checkHover","mouseleave","mousemove","startHover","lastMove","timeStamp","posCoords","bidi","isInTooltip","isOverRange","detach","hoverTooltip","hoverState","hideOnChange","GutterMarker","elementClass","gutterLineClass","renderEmptyElements","elementStyle","lineMarker","updateSpacer","activeGutters","gutter","gutters","flexShrink","unfixGutters","gutterView","fixed","SingleGutterView","syncGutters","updateGutters","lineClasses","classSet","contexts","UpdateContext","advanceCursor","g","offsetWidth","collect","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","sameMarkers","spacer","visualLineAtHeight","prevMarkers","lineNumberMarkers","lineNumberConfig","formatNumber","exists","NumberMarker","_view","lineNumberGutter","others","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","marks","highlightActiveLineGutter","noSemi","incdec","incdecPrefix","templateContent","templateDollarBrace","templateEnd","insertSemi","TSExtends","Dialect_ts","newline","braceR","braceL","semicolon","slash","star","plus","minus","dollar","backtick","backslash","newlineBefore","insertSemicolon","canShift","noSemicolon","incdecToken","mayPostfix","afterDollar","tsExtends","dialectEnabled","spec_identifier","__proto__","as","async","readonly","keyof","unique","infer","module","declare","spec_word","spec_LessThan","jsx","ts","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","historyField_","HistoryState","fromHist","HistEvent","fromTransaction","undone","updateBranch","addSelection","isolate","addMapping","addChanges","history","beforeinput","inputType","undo","redo","historyField","historyState","undoSelection","redoSelection","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","_c","invert","selections","newEvent","newBranch","isAdjacent","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","setSelAfter","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","composeDesc","prevTime","prevUserEvent","historyKeymap","basicNormalize","normalize","SearchCursor","bufferPos","nextOverlapping","peek","baseFlags","RegExpCursor","MultilineRegExpCursor","curLineStart","matchPos","flattened","FlattenedDoc","cachedFrom","chunkEnd","validRegExp","createLineDialog","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","dialogField","gotoLine","baseTheme$1","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","wordAt","trim","selectWord","findNextOccurrence","ahead","selectNextOccurrence","searchedText","searchConfigFacet","searchConfig","Query","caseInsensitive","StringQuery","unquoted","curFrom","curTo","prevMatchInRange","_result","limit","RegExpQuery","valid","setQuery","searchState","SearchState","defaultQuery","createSearchPanel","matchMark","selectedMatchMark","searchHighlighter","highlight","searchCommand","openSearchPanel","findNext","nextMatch","announceMatch","findPrevious","prevMatch","selectMatches","matchAll","selectSelectionMatches","replaceNext","replacement","getReplacement","replaceAll","buildPanel","updateQuery","selText","searchExtensions","closeSearchPanel","searchKeymap","searchField","onchange","onkeyup","replaceField","caseField","checked","reField","AnnounceMargin","Break","marginRight","brokenModifierNames","keyName","ignoreKey","C","COUNT","Symbol","SET","globalThis","StyleModule","rules","splitSelector","selectors","isKeyframes","local","isAt","keyframes","modules","StyleSet","adoptedSet","adoptedStyleSheets","CSSStyleSheet","sheet","styleTag","insertRule","getRules","basicSetup","snippets","javascriptLanguage","configure","IfStatement","except","TryStatement","LabeledStatement","SwitchBody","isCase","unit","Block","ArrowFunction","JSXElement","JSXEscape","column","BlockComment","controlKeyword","definitionKeyword","TemplateString","Super","BooleanLiteral","Star","VariableName","VariableDefinition","Label","PropertyName","PropertyNameDefinition","UpdateOp","updateOperator","LineComment","ArithOp","arithmeticOperator","LogicOp","logicOperator","BitOp","bitwiseOperator","CompareOp","compareOperator","Equals","definitionOperator","punctuation","paren","squareBracket","brace","derefOperator","TypeName","TypeDefinition","JSXAttributeValue","JSXText","angleBracket","commentTokens","indentOnInput","typescriptLanguage","jsxLanguage","tsxLanguage","javascript","lang","typescript","autocomplete","esLint","eslint","parserOptions","ecmaVersion","sourceType","es6","es2015","es2017","es2020","docs","recommended","findRegions","verify","translateDiagnostic","endColumn","ruleId","fix","CodemirrorExampleModule","componentType","isExtendingChar","isRegionalIndicator","ZWJ","findClusterBreak","nextClusterBreak","prevClusterBreak","surrogateLow","surrogateHigh","codePointAt","codePointSize","countBefore","code0","code1","countColumn","findColumn","_compat","lineInner","decompose","TextNode","RawTextCursor","PartialTextCursor","TextLeaf","iterator","textLength","isLine","Line","sliceText","joined","appendText","newLen","childOpen","totalLines","chunk","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","offsets","offsetValue","nextInner","nextTagID","Tag","modified","Modifier","nextModifierID","instances","mods","permute","styleTags","byName","tags","rule","Rule","ruleNodeProp","highlightStyle","stylings","HighlightStyle","combinedMatch","fallbackHighlightStyle","getHighlightStyle","modSpec","def","treeHighlighter","highlightTree","getStyle","putStyle","highlightTreeRange","TreeHighlighter","markCache","buildDeco","styleChange","nodeStack","spanStart","spanClass","newClass","inheritedClass","isTop","opaque","matchContext","st","literal","docComment","docString","integer","typeOperator","controlOperator","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","quote","monospace","strikethrough","documentMeta","defineModifier","defaultHighlightStyle","classHighlightStyle","RangeValue","Range","cmpRange","Chunk","maxPoint","startAt","arr","lo","hi","findIndex","RangeSet","chunkPos","nextLayer","isEmpty","updateSpec","LayerCursor","spill","RangeSetBuilder","addInner","rangeIndex","chunkIndex","addChunk","nextChunk","finishInner","chunks","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","iterGaps","sameValues","activeForPoint","lazySort","chunkStart","lastFrom","lastTo","setMaxPoint","newArrays","finishChunk","inA","shared","Set","layer","minPoint","rank","gotoInner","heap","heapBubble","childIndex","activeTo","activeRank","minActive","pointFrom","pointRank","removeActive","findMinIndex","trackOpen","wasPoint","trackExtra","nextVal","addActive","startA","startB","dPos","clipEnd","comparePoint","compareRange","foundPos","languageDataProp","defineLanguageFacet","baseData","Language","extraExtensions","defineProperty","syntaxTree","language","languageDataFacetAt","allowsNesting","iterate","DocInput","EditorParseContext","topLang","LezerLanguage","hasNested","ensureSyntaxTree","work","cursorPos","prevString","stringStart","syncTo","scheduleOn","tempSkipped","takeTree","endTime","withoutTempSkipped","addTree","cutFragments","startLen","until","ecx","skippingParser","getSkippingParser","LanguageState","parseState","requestIdle","requestIdleCallback","callback","cancelIdle","cancelIdleCallback","parseWorker","working","chunkBudget","scheduleWork","updateViewport","reset","checkAsyncSchedule","frags","deadline","vpTo","timeRemaining","movedPast","languages","LanguageSupport","support","LanguageDescription","alias","filename","loadFunc","loading","load","descs","fuzzy","indentService","indentUnit","getIndentUnit","indentString","cols","getIndentation","IndentContext","service","syntaxIndentation","overriden","indentNodeProp","ast","scanPos","indentFrom","ignoreClosed","indentStrategy","strategy","delimitedStrategy","topIndent","TreeIndentContext","textAfterPos","atBreak","isParent","bracketedAligned","openToken","openLine","isSkipped","delimitedIndent","align","units","closedAt","aligned","flatIndent","continuedIndent","matchExcept","DontIndentBeyond","foldService","foldNodeProp","syntaxFolding","foldable"],"mappings":"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AA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA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","file":"codemirror-example-module-es5.js","sourcesContent":["import { Facet, combineConfig, StateEffect, StateField, Transaction, Text, EditorSelection, Prec, CharCategory } from '@codemirror/state';\nimport { EditorView, Direction, logException, ViewPlugin, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { showTooltip } from '@codemirror/tooltip';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\nimport { codePointAt, codePointSize, fromCodePoint } from '@codemirror/text';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sources—in the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolve(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [span, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, span } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolve(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolve(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n    }\n}\nfunction cur(state) { return state.selection.main.head; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\nfunction applyCompletion(view, option) {\n    let apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\") {\n        view.dispatch({\n            changes: { from: result.from, to: result.to, insert: apply },\n            selection: { anchor: result.from + apply.length }\n        });\n    }\n    else {\n        apply(view, option.completion, result.from, result.to);\n    }\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0);\n            return first == chars[0] ? [0, 0, codePointSize(first)]\n                : first == folded[0] ? [-200 /* CaseFold */, 0, codePointSize(first)] : null;\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [0, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word);\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Lower */ : next >= 65 && next <= 90 ? 1 /* Upper */ : 0 /* NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Upper */ : ch != ch.toUpperCase() ? 2 /* Lower */ : 0 /* NonWord */);\n            if ((type == 1 /* Upper */ && hasLower || prevType == 0 /* NonWord */ && type != 0 /* NonWord */) &&\n                (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true))))\n                byWord[byWordTo++] = i;\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* CaseFold */, 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* NotStart */, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* CaseFold */ + -700 /* NotStart */, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0) + -700 /* NotStart */, byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* NotStart */ : 0) + -200 /* CaseFold */ + -1100 /* Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            override: null,\n            maxRenderedOptions: 100,\n            defaultKeymap: true\n        }, {\n            defaultKeymap: (a, b) => a && b\n        });\n    }\n});\n\nconst MaxInfoWidth = 300;\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            maxHeight: \"10em\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li\": {\n                cursor: \"pointer\",\n                padding: \"1px 1em 1px 3px\",\n                lineHeight: 1.2\n            },\n            \"& > li[aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            }\n        }\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"···\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: MaxInfoWidth + \"px\",\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"'ƒ'\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"'○'\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"'◌'\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"'𝑥'\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"'𝐶'\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"'𝑡'\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"'∪'\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"'□'\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'🔑\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"'▢'\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nfunction createListBox(options, id, range) {\n    const ul = document.createElement(\"ul\");\n    ul.id = id;\n    ul.setAttribute(\"role\", \"listbox\");\n    ul.setAttribute(\"aria-expanded\", \"true\");\n    for (let i = range.from; i < range.to; i++) {\n        let { completion, match } = options[i];\n        const li = ul.appendChild(document.createElement(\"li\"));\n        li.id = id + \"-\" + i;\n        let icon = li.appendChild(document.createElement(\"div\"));\n        icon.classList.add(\"cm-completionIcon\");\n        if (completion.type)\n            icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n        icon.setAttribute(\"aria-hidden\", \"true\");\n        let labelElt = li.appendChild(document.createElement(\"span\"));\n        labelElt.className = \"cm-completionLabel\";\n        let { label, detail } = completion, off = 0;\n        for (let j = 1; j < match.length;) {\n            let from = match[j++], to = match[j++];\n            if (from > off)\n                labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n            let span = labelElt.appendChild(document.createElement(\"span\"));\n            span.appendChild(document.createTextNode(label.slice(from, to)));\n            span.className = \"cm-completionMatchedText\";\n            off = to;\n        }\n        if (off < label.length)\n            labelElt.appendChild(document.createTextNode(label.slice(off)));\n        if (detail) {\n            let detailElt = li.appendChild(document.createElement(\"span\"));\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = detail;\n        }\n        li.setAttribute(\"role\", \"option\");\n    }\n    if (range.from)\n        ul.classList.add(\"cm-completionListIncompleteTop\");\n    if (range.to < options.length)\n        ul.classList.add(\"cm-completionListIncompleteBottom\");\n    return ul;\n}\nfunction createInfoDialog(option, view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-tooltip cm-completionInfo\";\n    let { info } = option.completion;\n    if (typeof info == \"string\") {\n        dom.textContent = info;\n    }\n    else {\n        let content = info(option.completion);\n        if (content.then)\n            content.then(node => dom.appendChild(node), e => logException(view.state, e, \"completion info\"));\n        else\n            dom.appendChild(content);\n    }\n    return dom;\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfo = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.positionInfo(pos),\n            key: this\n        };\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.list = this.dom.appendChild(createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfo);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        if (update.state.field(this.stateField) != update.startState.field(this.stateField))\n            this.updateSel();\n    }\n    positioned() {\n        if (this.info)\n            this.view.requestMeasure(this.placeInfo);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfo);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let option = open.options[open.selected];\n            if (option.completion.info) {\n                this.info = this.dom.appendChild(createInfoDialog(option, this.view));\n                this.view.requestMeasure(this.placeInfo);\n            }\n        }\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel)\n            return null;\n        let rect = this.dom.getBoundingClientRect();\n        let top = sel.getBoundingClientRect().top - rect.top;\n        if (top < 0 || top > this.list.clientHeight - 10)\n            return null;\n        let left = this.view.textDirection == Direction.RTL;\n        let spaceLeft = rect.left, spaceRight = innerWidth - rect.right;\n        if (left && spaceLeft < Math.min(MaxInfoWidth, spaceRight))\n            left = false;\n        else if (!left && spaceRight < Math.min(MaxInfoWidth, spaceLeft))\n            left = true;\n        return { top, left };\n    }\n    positionInfo(pos) {\n        if (this.info && pos) {\n            this.info.style.top = pos.top + \"px\";\n            this.info.classList.toggle(\"cm-completionInfo-left\", pos.left);\n            this.info.classList.toggle(\"cm-completionInfo-right\", !pos.left);\n        }\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\nconst MaxOptions = 300;\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [], i = 0;\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                for (let option of a.result.options)\n                    options.push(new Option(option, a, [1e9 - i++]));\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        if (option.boost != null)\n                            match[0] += option.boost;\n                        options.push(new Option(option, a, match));\n                    }\n            }\n        }\n    options.sort(cmpOption);\n    let result = [], prev = null;\n    for (let opt of options.sort(cmpOption)) {\n        if (result.length == MaxOptions)\n            break;\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected);\n    }\n    static build(active, state, id, prev) {\n        let options = sortOptions(active, state);\n        if (!options.length)\n            return null;\n        let selected = 0;\n        if (prev && prev.selected) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length && !selected; i++) {\n                if (options[i].completion == selectedValue)\n                    selected = i;\n            }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState)\n        }, prev ? prev.timestamp : Date.now(), selected);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* Inactive */) ? 1 /* Pending */ : 0 /* Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active) ? CompletionDialog.build(active, state, this.id, this.open)\n            : this.open && tr.docChanged ? this.open.map(tr.changes) : this.open;\n        if (!open && active.every(a => a.state != 1 /* Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nfunction makeAttrs(id, selected) {\n    return {\n        \"aria-autocomplete\": \"list\",\n        \"aria-activedescendant\": id + \"-\" + selected,\n        \"aria-owns\": id\n    };\n}\nconst baseAttrs = { \"aria-autocomplete\": \"list\" }, none = [];\nfunction cmpOption(a, b) {\n    let dScore = b.match[0] - a.match[0];\n    if (dScore)\n        return dScore;\n    let lA = a.completion.label, lB = b.completion.label;\n    return lA < lB ? -1 : lA == lB ? 0 : 1;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = tr.annotation(Transaction.userEvent), value = this;\n        if (event == \"input\" || event == \"delete\")\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* Inactive */)\n            value = new ActiveSource(value.source, 0 /* Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to, span) {\n        super(source, 2 /* Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n        this.span = span;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos > -1 ? pos < from : pos <= from) || pos > to)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* Pending */ : 0 /* Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos);\n        if (this.span && (from == to || this.span.test(tr.state.sliceDoc(from, to))))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to, this.span);\n        return new ActiveSource(this.source, 1 /* Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1), this.span);\n    }\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\nconst CompletionInteractMargin = 75;\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = view.dom.querySelector(\".cm-tooltip-autocomplete\")))\n            step = Math.max(2, Math.floor(tooltip.offsetHeight / tooltip.firstChild.offsetHeight));\n        let selected = cState.open.selected + step * (forward ? 1 : -1), { length } = cState.open.options;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n        return false;\n    applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            let event = tr.annotation(Transaction.userEvent);\n            return (tr.selection || tr.docChanged) && event != \"input\" && event != \"delete\";\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && query.time - Date.now() > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* None */)\n            for (let tr of update.transactions) {\n                if (tr.annotation(Transaction.userEvent) == \"input\")\n                    this.composing = 2 /* Changed */;\n                else if (this.composing == 2 /* Changed */ && tr.selection)\n                    this.composing = 3 /* ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state), query.done.span && query.done.filter !== false ? ensureAnchor(query.done.span, true) : null);\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        compositionstart() {\n            this.composing = 1 /* Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* None */;\n        }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        return new FieldRange(this.field, changes.mapPos(this.from, -1), changes.mapPos(this.to, 1));\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3], found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name: name || null });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        return new ActiveSnippet(this.ranges.map(r => r.map(changes)), this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can apply it.\nSnippets are written using syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, _completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = { changes: { from, to, insert: Text.of(text) } };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState.init(() => active), addSnippetKeymap,\n                    snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let options = [], seen = Object.create(null);\n    let cat = context.state.charCategorizer(context.pos);\n    let start = Math.max(0, context.pos - 50000 /* Range */), end = Math.min(context.state.doc.length, start + 50000 /* Range */ * 2);\n    let from = context.pos;\n    for (let cur = context.state.doc.iterRange(start, end), pos = start; !(cur.next()).done;) {\n        let { value } = cur, start = -1;\n        for (let i = 0;; i++) {\n            if (i < value.length && cat(value[i]) == CharCategory.Word) {\n                if (start < 0)\n                    start = i;\n            }\n            else if (start > -1) {\n                if (pos + start <= context.pos && pos + i >= context.pos) {\n                    from = pos + start;\n                }\n                else {\n                    let word = value.slice(start, i);\n                    if (!seen[word]) {\n                        options.push({ type: \"text\", label: word });\n                        seen[word] = true;\n                    }\n                }\n                start = -1;\n            }\n            if (i == value.length)\n                break;\n        }\n        pos += value.length;\n    }\n    return { from, options, span: /^\\w*/ };\n};\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* Inactive */) ? \"active\" : null;\n}\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open ? open.options.map(o => o.completion) : [];\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, ifIn, ifNotIn, moveCompletionSelection, nextSnippetField, prevSnippetField, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { Text, findClusterBreak } from '@codemirror/text';\nexport { Text } from '@codemirror/text';\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    /**\n    @internal\n    */\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA` → `docB` and `other` represents `docB` → `docC`, the\n    returned value will represent the change `docA` → `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each.\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return new ChangeDesc(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: new ChangeDesc(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let posA = 0, posB = 0;;) {\n        if (a.ins == -1) {\n            posA += a.len;\n            a.next();\n        }\n        else if (b.ins == -1 && posB < posA) {\n            let skip = Math.min(b.len, posA - posB);\n            b.forward(skip);\n            addSection(sections, skip, -1);\n            posB += skip;\n        }\n        else if (b.ins >= 0 && (a.done || posB < posA || posB == posA && (b.len < a.len || b.len == a.len && !before))) {\n            addSection(sections, b.ins, -1);\n            while (posA > posB && !a.done && posA + a.len < posB + b.len) {\n                posA += a.len;\n                a.next();\n            }\n            posB += b.len;\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            let len = 0, end = posA + a.len;\n            for (;;) {\n                if (b.ins >= 0 && posB > posA && posB + b.len < end) {\n                    len += b.ins;\n                    posB += b.len;\n                    b.next();\n                }\n                else if (b.ins == -1 && posB < end) {\n                    let skip = Math.min(b.len, end - posB);\n                    len += skip;\n                    b.forward(skip);\n                    posB += skip;\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, a.ins);\n            if (insert)\n                addInsert(insert, sections, a.text);\n            posA = end;\n            a.next();\n        }\n        else if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the range—the side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* AssocBefore */ ? -1 : this.flags & 8 /* AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* GoalColumnOffset */;\n        return value == 33554431 /* NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from = change.mapPos(this.from, assoc), to = change.mapPos(this.to, assoc);\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex = 0) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main]);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return new SelectionRange(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* AssocBefore */ : 8 /* AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn) {\n        let goal = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */;\n        return head < anchor ? new SelectionRange(head, anchor, 16 /* Inverted */ | goal) : new SelectionRange(anchor, head, goal);\n    }\n}\nfunction normalized(ranges, mainIndex = 0) {\n    let main = ranges[mainIndex];\n    ranges.sort((a, b) => a.from - b.from);\n    mainIndex = ranges.indexOf(main);\n    for (let i = 1; i < ranges.length; i++) {\n        let range = ranges[i], prev = ranges[i - 1];\n        if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n            let from = prev.from, to = Math.max(range.to, prev.to);\n            if (i <= mainIndex)\n                mainIndex--;\n            ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n        }\n    }\n    return new EditorSelection(ranges, mainIndex);\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of facets are the [theme](https://codemirror.net/6/docs/ref/#view.EditorView^theme) styles\nassociated with an editor or the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) (which is reduced to a single\nvalue, using the input with the hightest precedence).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, \n    /**\n    @internal\n    */\n    extensions) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        this.extensions = extensions;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value for this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In most cases, you'll want to use the\n    [`provide`](https://codemirror.net/6/docs/ref/#state.StateField^define^config.provide) option when\n    defining a field instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let idx = addresses[this.id] >> 1, multi = this.type == 2 /* Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return (state, tr) => {\n            if (!tr || tr.reconfigured) {\n                state.values[idx] = getter(state);\n                return 1 /* Changed */;\n            }\n            else {\n                let depChanged = (depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) ||\n                    depAddrs.some(addr => (ensureAddr(state, addr) & 1 /* Changed */) > 0);\n                if (!depChanged)\n                    return 0;\n                let newVal = getter(state), oldVal = tr.startState.values[idx];\n                if (multi ? compareArray(newVal, oldVal, compare) : compare(newVal, oldVal))\n                    return 0;\n                state.values[idx] = newVal;\n                return 1 /* Changed */;\n            }\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    return (state, tr) => {\n        let oldAddr = !tr ? null : tr.reconfigured ? tr.startState.config.address[facet.id] : idx << 1;\n        let changed = oldAddr == null;\n        for (let dynAddr of dynamic) {\n            if (ensureAddr(state, dynAddr) & 1 /* Changed */)\n                changed = true;\n        }\n        if (!changed)\n            return 0;\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        let newVal = facet.combine(values);\n        if (oldAddr != null && facet.compare(newVal, getAddr(tr.startState, oldAddr)))\n            return 0;\n        state.values[idx] = newVal;\n        return 1 /* Changed */;\n    };\n}\nfunction maybeIndex(state, id) {\n    let found = state.config.address[id];\n    return found == null ? null : found >> 1;\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return (state, tr) => {\n            if (!tr || (tr.reconfigured && maybeIndex(tr.startState, this.id) == null)) {\n                state.values[idx] = this.create(state);\n                return 1 /* Changed */;\n            }\n            let oldVal, changed = 0;\n            if (tr.reconfigured) {\n                oldVal = tr.startState.values[maybeIndex(tr.startState, this.id)];\n                changed = 1 /* Changed */;\n            }\n            else {\n                oldVal = tr.startState.values[idx];\n            }\n            let value = this.updateF(oldVal, tr);\n            if (!changed && !this.compareF(oldVal, value))\n                changed = 1 /* Changed */;\n            if (changed)\n                state.values[idx] = value;\n            return changed;\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { fallback: 3, default: 2, extend: 1, override: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    A precedence below the default precedence, which will cause\n    default-precedence extensions to override it even if they are\n    specified later in the extension ordering.\n    */\n    fallback: /*@__PURE__*/prec(Prec_.fallback),\n    /**\n    The regular default precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A higher-than-default precedence.\n    */\n    extend: /*@__PURE__*/prec(Prec_.extend),\n    /**\n    Precedence above the `default` and `extend` precedences.\n    */\n    override: /*@__PURE__*/prec(Prec_.override)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* Uninitialized */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            if (providers.every(p => p.type == 0 /* Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                let value = facet.combine(providers.map(p => p.value));\n                let oldAddr = oldState ? oldState.config.address[facet.id] : null;\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (facet.compare(value, oldVal))\n                        value = oldVal;\n                }\n                staticValues.push(value);\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        return new Configuration(base, newCompartments, dynamicSlots.map(f => f(address)), address, staticValues);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known >= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, prec);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* Computed */)\n        return status;\n    state.status[idx] = 4 /* Computing */;\n    let changed = state.config.dynamicSlots[idx](state, state.applying);\n    return state.status[idx] = 2 /* Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n*/\nclass Transaction {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so itis recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n}\n/**\nAnnotation used to store transaction timestamps.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. The view will set this to...\n\n - `\"input\"` when the user types text\n - `\"delete\"` when the user deletes the selection or text near the selection\n - `\"keyboardselection\"` when moving the selection via the keyboard\n - `\"pointerselection\"` when moving the selection through the pointing device\n - `\"paste\"` when pasting content\n - `\"cut\"` when cutting\n - `\"drop\"` when content is inserted via drag-and-drop\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection;\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations: asArray(spec.annotations),\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = new Transaction(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.invertedDesc;\n        }\n        tr = new Transaction(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(tr, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : new Transaction(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, tr = null) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        /**\n        @internal\n        */\n        this.applying = null;\n        this.status = config.statusTemplate.slice();\n        if (tr && tr.startState.config == config) {\n            this.values = tr.startState.values.slice();\n        }\n        else {\n            this.values = config.dynamicSlots.map(_ => null);\n            // Copy over old values for shared facets/fields if this is a reconfigure\n            if (tr)\n                for (let id in config.address) {\n                    let cur = config.address[id], prev = tr.startState.config.address[id];\n                    if (prev != null && (cur & 1) == 0)\n                        this.values[cur >> 1] = getAddr(tr.startState, prev);\n                }\n        }\n        this.applying = tr;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.applying = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        new EditorState(conf || Configuration.resolve(base, compartments, this), tr.newDoc, tr.newSelection, tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#text.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                let field = fields[prop], value = json[prop];\n                fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editor—updated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection);\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    */\n    phrase(phrase) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase))\n                return map[phrase];\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    */\n    languageDataAt(name, pos) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? EditorSelection.range(start + from, end + from) : null;\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define();\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two number indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single (possibly the input transaction), or\nan array of specs (which will be combined in the same way as the\narguments to [`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are applied.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. Will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, MapMode, Prec, SelectionRange, StateEffect, StateEffectType, StateField, Transaction, combineConfig };\n","export * from './public_api';\n","import { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { findColumn, countColumn } from '@codemirror/text';\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize), end = findColumn(line.text, endCol, state.tabSize);\n            if (start < end)\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text.slice(0, offset - line.from), 0, view.state.tabSize);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\n\nexport { rectangularSelection };\n","import { MapMode, Text as Text$1, Facet, ChangeSet, Transaction, EditorSelection, CharCategory, EditorState, Prec, StateEffect, combineConfig } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { RangeValue, RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\nexport { Range } from '@codemirror/rangeset';\nimport { Text, findClusterBreak, findColumn, codePointAt, countColumn } from '@codemirror/text';\nimport { keyName, base } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    return (root.getSelection ? root.getSelection() : document.getSelection());\n}\nfunction contains(dom, node) {\n    return node ? dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement() {\n    let elt = document.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nconst ScrollSpace = 5;\nfunction scrollRectIntoView(dom, rect) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom.parentNode; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == document.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (rect.top < bounding.top)\n                moveY = -(bounding.top - rect.top + ScrollSpace);\n            else if (rect.bottom > bounding.bottom)\n                moveY = rect.bottom - bounding.bottom + ScrollSpace;\n            if (rect.left < bounding.left)\n                moveX = -(bounding.left - rect.left + ScrollSpace);\n            else if (rect.right > bounding.right)\n                moveX = rect.right - bounding.right + ScrollSpace;\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        moveY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        moveX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelection {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    set(domSel) {\n        this.anchorNode = domSel.anchorNode;\n        this.anchorOffset = domSel.anchorOffset;\n        this.focusNode = domSel.focusNode;\n        this.focusOffset = domSel.focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nlet _plainTextSupported = null;\nfunction contentEditablePlainTextSupported() {\n    if (_plainTextSupported == null) {\n        _plainTextSupported = false;\n        let dummy = document.createElement(\"div\");\n        try {\n            dummy.contentEditable = \"plaintext-only\";\n            _plainTextSupported = dummy.contentEditable == \"plaintext-only\";\n        }\n        catch (_) { }\n    }\n    return _plainTextSupported;\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst none$3 = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        var _a;\n        if (this.dirty & 2 /* Node */) {\n            let parent = this.dom, pos = null;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    let next = pos ? pos.nextSibling : parent.firstChild;\n                    if (!child.dom && next && !((_a = ContentView.get(next)) === null || _a === void 0 ? void 0 : _a.parent))\n                        child.reuseDOM(next);\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n                if (track && track.node == parent && pos != child.dom)\n                    track.written = true;\n                syncNodeInto(parent, pos, child.dom);\n                pos = child.dom;\n            }\n            let next = pos ? pos.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm(next);\n        }\n        else if (this.dirty & 1 /* Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { return false; }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        if (this.dirty & 2 /* Node */)\n            return;\n        this.dirty |= 2 /* Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Node */;\n            if (parent.dirty & 1 /* Child */)\n                return;\n            parent.dirty |= 1 /* Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = none$3) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.parent = null;\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nfunction syncNodeInto(parent, after, dom) {\n    let next = after ? after.nextSibling : parent.firstChild;\n    if (dom.parentNode == parent)\n        while (next != dom)\n            next = rm(next);\n    else\n        parent.insertBefore(dom, next);\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\n\nlet [nav, doc] = typeof navigator != \"undefined\"\n    ? [navigator, document]\n    : [{ userAgent: \"\", vendor: \"\", platform: \"\" }, { documentElement: { style: {} } }];\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nvar browser = {\n    mac: /*@__PURE__*//Mac/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios: safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2),\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst none$2 = [];\nclass InlineView extends ContentView {\n    /**\n    Return true when this view is equivalent to `other` and can take\n    on its role.\n    */\n    become(_other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // negative number to indicate it is before its position, or a\n    // positive number when after its position.\n    getSide() { return 0; }\n}\nInlineView.prototype.children = none$2;\nconst MaxJoinLen = 256;\nclass TextView extends InlineView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType != 3)\n            return false;\n        this.createDOM(dom);\n        return true;\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        return new TextView(this.text.slice(from));\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends InlineView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    createDOM() {\n        let dom = document.createElement(this.mark.tagName);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        this.setDOM(dom);\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        super.sync(track);\n    }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeInlineChildren(this, from, to, source ? source.children : none$2, openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        return new MarkView(this.mark, sliceInlineChildren(this.children, from), this.length - from);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends InlineView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    slice(from) { return WidgetView.create(this.widget, this.length - from, this.side); }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) { return new DOMPos(this.widget.text, pos); }\n    sync() { if (!this.dom)\n        this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        return !offset ? 0 : node.nodeType == 3 ? Math.min(offset, this.length) : this.length;\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) { return textCoords(this.widget.text, pos, side); }\n}\nfunction mergeInlineChildren(parent, from, to, elts, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of elts)\n        dLen += view.length;\n    parent.length += dLen;\n    let { children } = parent;\n    // Both from and to point into the same text view\n    if (fromI == toI && fromOff) {\n        let start = children[fromI];\n        // Maybe just update that view and be done\n        if (elts.length == 1 && start.merge(fromOff, toOff, elts[0], openStart, openEnd))\n            return;\n        if (elts.length == 0) {\n            start.merge(fromOff, toOff, null, openStart, openEnd);\n            return;\n        }\n        // Otherwise split it, so that we don't have to worry about aliasing front/end afterwards\n        let after = start.slice(toOff);\n        if (after.merge(0, 0, elts[elts.length - 1], 0, openEnd))\n            elts[elts.length - 1] = after;\n        else\n            elts.push(after);\n        toI++;\n        openEnd = toOff = 0;\n    }\n    // Make sure start and end positions fall on node boundaries\n    // (fromOff/toOff are no longer used after this), and that if the\n    // start or end of the elts can be merged with adjacent nodes,\n    // this is done\n    if (toOff) {\n        let end = children[toI];\n        if (elts.length && end.merge(0, toOff, elts[elts.length - 1], 0, openEnd)) {\n            elts.pop();\n            openEnd = elts.length ? 0 : openStart;\n        }\n        else {\n            end.merge(0, toOff, null, 0, 0);\n        }\n    }\n    else if (toI < children.length && elts.length &&\n        children[toI].merge(0, 0, elts[elts.length - 1], 0, openEnd)) {\n        elts.pop();\n        openEnd = elts.length ? 0 : openStart;\n    }\n    if (fromOff) {\n        let start = children[fromI];\n        if (elts.length && start.merge(fromOff, start.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n        else {\n            start.merge(fromOff, start.length, null, 0, 0);\n        }\n        fromI++;\n    }\n    else if (fromI && elts.length) {\n        let end = children[fromI - 1];\n        if (end.merge(end.length, end.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n    }\n    // Then try to merge any mergeable nodes at the start and end of\n    // the changed range\n    while (fromI < toI && elts.length && children[toI - 1].become(elts[elts.length - 1])) {\n        elts.pop();\n        toI--;\n        openEnd = elts.length ? 0 : openStart;\n    }\n    while (fromI < toI && elts.length && children[fromI].become(elts[0])) {\n        elts.shift();\n        fromI++;\n        openStart = elts.length ? 0 : openEnd;\n    }\n    if (!elts.length && fromI && toI < children.length && openStart && openEnd &&\n        children[toI].merge(0, 0, children[fromI - 1], openStart, openEnd))\n        fromI--;\n    // And if anything remains, splice the child array to insert the new elts\n    if (elts.length || fromI != toI)\n        parent.replaceChildren(fromI, toI, elts);\n}\nfunction sliceInlineChildren(children, from) {\n    let result = [], off = 0;\n    for (let elt of children) {\n        let end = off + elt.length;\n        if (end > from)\n            result.push(off < from ? elt.slice(from - off) : elt);\n        off = end;\n    }\n    return result;\n}\nfunction inlineDOMAtPos(dom, children, pos) {\n    let i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (; i > 0; i--) {\n        let before = children[i - 1].dom;\n        if (before.parentNode == dom)\n            return DOMPos.after(before);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (side <= 0 || end == view.length ? end >= pos : end > pos)\n            return child.coordsAt(pos - off, side);\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1];\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(name, attrs[name]);\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even when the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(_widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(_dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(_event) { return true; }\n    /**\n    / @internal\n    */\n    get customView() { return null; }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range), which adds a start and end position.\n*/\nclass Decoration extends RangeValue {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations) or\n    (below the facet-provided decorations) [view\n    plugin](https://codemirror.net/6/docs/ref/#view.PluginSpec.decorations). Such elements are split\n    on line boundaries and on the boundaries of higher-precedence\n    decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which adds an element at the given\n    position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0;\n        if (spec.block)\n            side += (200000000 /* BigBlock */ + 1) * (side > 0 ? 1 : -1);\n        return new PointDecoration(spec, side, side, !!spec.block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block;\n        let { start, end } = getInclusive(spec);\n        let startSide = block ? -200000000 /* BigBlock */ * (start ? 2 : 1) : 100000000 /* BigInline */ * (start ? -1 : 1);\n        let endSide = block ? 200000000 /* BigBlock */ * (end ? 2 : 1) : 100000000 /* BigInline */ * (end ? 1 : -1);\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(100000000 /* BigInline */ * (start ? -1 : 1), 100000000 /* BigInline */ * (end ? 1 : -1), null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-100000000 /* BigInline */, -100000000 /* BigInline */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide < 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? BlockType.WidgetRange\n            : this.startSide < 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide < 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start || false, end: end || false };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin > from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, takeDeco, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (takeDeco)\n            this.setDeco(source ? source.attrs : null);\n        mergeInlineChildren(this, from, to, source ? source.children : none$1, openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].slice(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0) {\n            this.children[i - 1].parent = null;\n            i--;\n        }\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    // Only called when building a line view in ContentBuilder\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    sync(track) {\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        if (!last ||\n            last.nodeName != \"BR\" && ContentView.get(last) instanceof WidgetView &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    match(_other) { return false; }\n    get type() { return BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0;; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (block.length)\n                    return null;\n            }\n            off = end + block.breakAfter;\n        }\n    }\n}\nconst none$1 = [];\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        return new BlockWidgetView(this.widget, len, this.type);\n    }\n    get children() { return none$1; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text$1.empty;\n    }\n    domBoundsAround() { return null; }\n    match(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine)\n            this.content.push(this.curLine = new LineView);\n        return this.curLine;\n    }\n    addWidget(view) {\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish() {\n        if (!this.posCovered())\n            this.getLine();\n    }\n    wrapMarks(view, active) {\n        for (let mark of active)\n            view = new MarkView(mark, [view], view.length);\n        return view;\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* Chunk */);\n            this.getLine().append(this.wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart) {\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let widget = this.wrapMarks(WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide), active);\n                this.getLine().append(widget, openStart);\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations) {\n        let builder = new ContentBuilder(text, from, to);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish();\n        return builder;\n    }\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst none = [];\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\n/**\nUsed to [declare](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide) which\n[fields](https://codemirror.net/6/docs/ref/#view.PluginValue) a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin)\nprovides.\n*/\nclass PluginFieldProvider {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    field, \n    /**\n    @internal\n    */\n    get) {\n        this.field = field;\n        this.get = get;\n    }\n}\n/**\nPlugin fields are a mechanism for allowing plugins to provide\nvalues that can be retrieved through the\n[`pluginField`](https://codemirror.net/6/docs/ref/#view.EditorView.pluginField) view method.\n*/\nclass PluginField {\n    /**\n    Create a [provider](https://codemirror.net/6/docs/ref/#view.PluginFieldProvider) for this field,\n    to use with a plugin's [provide](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide)\n    option.\n    */\n    from(get) {\n        return new PluginFieldProvider(this, get);\n    }\n    /**\n    Define a new plugin field.\n    */\n    static define() { return new PluginField(); }\n}\n/**\nThis field can be used by plugins to provide\n[decorations](https://codemirror.net/6/docs/ref/#view.Decoration).\n\n**Note**: For reasons of data flow (plugins are only updated\nafter the viewport is computed), decorations produced by plugins\nare _not_ taken into account when predicting the vertical layout\nstructure of the editor. Thus, things like large widgets or big\nreplacements (i.e. code folding) should be provided through the\nstate-level [`decorations` facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations),\nnot this plugin field. Specifically, replacing decorations that\ncross line boundaries will break if provided through a plugin.\n*/\nPluginField.decorations = /*@__PURE__*/PluginField.define();\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nPluginField.atomicRanges = /*@__PURE__*/PluginField.define();\n/**\nPlugins can provide additional scroll margins (space around the\nsides of the scrolling element that should be considered\ninvisible) through this field. This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nPluginField.scrollMargins = /*@__PURE__*/PluginField.define();\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    fields) {\n        this.id = id;\n        this.create = create;\n        this.fields = fields;\n        this.extension = viewPlugin.of(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        let { eventHandlers, provide, decorations } = spec || {};\n        let fields = [];\n        if (provide)\n            for (let provider of Array.isArray(provide) ? provide : [provide])\n                fields.push(provider);\n        if (eventHandlers)\n            fields.push(domEventHandlers.from((value) => ({ plugin: value, handlers: eventHandlers })));\n        if (decorations)\n            fields.push(PluginField.decorations.from(decorations));\n        return new ViewPlugin(nextPluginID++, create, fields);\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nconst domEventHandlers = /*@__PURE__*/PluginField.define();\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    takeField(type, target) {\n        for (let { field, get } of this.spec.fields)\n            if (field == type)\n                target.push(get(this.value));\n    }\n    update(view) {\n        if (!this.value) {\n            try {\n                this.value = this.spec.create(view);\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n                return PluginInstance.dummy;\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (!this.value.update)\n                return this;\n            try {\n                this.value.update(update);\n            }\n            catch (e) {\n                logException(update.state, e, \"CodeMirror plugin crashed\");\n                if (this.value.destroy)\n                    try {\n                        this.value.destroy();\n                    }\n                    catch (_) { }\n                return PluginInstance.dummy;\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n}\nPluginInstance.dummy = /*@__PURE__*/new PluginInstance(/*@__PURE__*/ViewPlugin.define(() => ({})));\nconst editorAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\nconst contentAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions = none) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* Focus */;\n        }\n        if (this.docChanged)\n            this.flags |= 2 /* Height */;\n    }\n    /**\n    Tells you whether the viewport changed in this update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* Viewport */) > 0;\n    }\n    /**\n    Indicates whether the line height in the editor changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* Height */) > 0;\n    }\n    /**\n    Returns true when the document changed or the size of the editor\n    or the lines or characters within it has changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (16 /* Geometry */ | 2 /* Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return this.transactions.some(tr => tr.docChanged);\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // checkLayout, this is updated to point at the width of a given\n        // element and its extent in the document. When a change happens in\n        // that range, these are reset. That way, once we've seen a\n        // line/element of a given length, we keep the editor wide enough to\n        // fit at least that element, until it is changed, at which point we\n        // forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], this.updateDeco(), 0);\n    }\n    get root() { return this.view.root; }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        let forceSelection = (browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        let pointerSel = update.transactions.some(tr => tr.annotation(Transaction.userEvent) == \"pointerselection\");\n        if (this.dirty == 0 /* Not */ && changedRanges.length == 0 &&\n            !(update.flags & (4 /* Viewport */ | 8 /* LineGaps */)) &&\n            update.state.selection.main.from >= this.view.viewport.from &&\n            update.state.selection.main.to <= this.view.viewport.to) {\n            this.updateSelection(forceSelection, pointerSel);\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, deco, update.startState.doc.length, forceSelection, pointerSel);\n            return true;\n        }\n    }\n    // Used both by update and checkLayout do perform the actual DOM\n    // update\n    updateInner(changes, deco, oldLength, forceSelection = false, pointerSel = false) {\n        this.updateChildren(changes, deco, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.domHeight + \"px\";\n            this.dom.style.minWidth = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                forceSelection = true;\n            this.updateSelection(forceSelection, pointerSel);\n            this.dom.style.height = \"\";\n        });\n    }\n    updateChildren(changes, deco, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, deco);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            this.replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd) {\n        let before = this.children[fromI], last = content.length ? content[content.length - 1] : null;\n        let breakAtEnd = last ? last.breakAfter : breakAtStart;\n        // Change within a single line\n        if (fromI == toI && !breakAtStart && !breakAtEnd && content.length < 2 &&\n            before.merge(fromOff, toOff, content.length ? last : null, fromOff == 0, openStart, openEnd))\n            return;\n        let after = this.children[toI];\n        // Make sure the end of the line after the update is preserved in `after`\n        if (toOff < after.length || after.children.length && after.children[after.children.length - 1].length == 0) {\n            // If we're splitting a line, separate part of the start line to\n            // avoid that being mangled when updating the start line.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                content[content.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff || after.children.length && after.children[0].length == 0)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                content.push(after);\n            }\n        }\n        else if (after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && content.length && before.merge(fromOff, before.length, content[0], false, openStart, 0)) {\n                before.breakAfter = content.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n        // Try to merge widgets on the boundaries of the replacement\n        while (fromI < toI && content.length) {\n            if (this.children[toI - 1].match(content[content.length - 1]))\n                toI--, content.pop();\n            else if (this.children[fromI].match(content[0]))\n                fromI++, content.shift();\n            else\n                break;\n        }\n        if (fromI < toI || content.length)\n            this.replaceChildren(fromI, toI, content);\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(force = false, fromPointer = false) {\n        if (!(fromPointer || this.mayControlSelection()) ||\n            browser.ios && this.view.inputState.rapidCompositionStart)\n            return;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                let rawSel = getSelection(this.root);\n                if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* Before */ | 2 /* After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.view.composing)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.root);\n        if (!cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head); // FIXME provide view-line-range finding helper\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        return this.view.state.facet(editable) ? this.root.activeElement == this.dom\n            : hasSelection(this.dom, this.view.observer.selectionRange);\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights() {\n        let result = [], { from, to } = this.view.viewState.viewport;\n        let minWidth = Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                result.push(child.dom.getBoundingClientRect().height);\n                let width = child.dom.scrollWidth;\n                if (width > minWidth) {\n                    this.minWidth = minWidth = width;\n                    this.minWidthFrom = pos;\n                    this.minWidthTo = end;\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineAt(end, 0).bottom - vs.lineAt(pos, 0).top;\n                deco.push(Decoration.replace({ widget: new BlockGapWidget(height), block: true, inclusive: true }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        return this.decorations = [\n            ...this.view.pluginField(PluginField.decorations),\n            ...this.view.state.facet(decorations),\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollPosIntoView(pos, side) {\n        let rect = this.coordsAt(pos, side);\n        if (!rect)\n            return;\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.pluginField(PluginField.scrollMargins))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        scrollRectIntoView(this.dom, {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        });\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction computeCompositionDeco(view, changes) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return Decoration.none;\n    let cView = view.docView.nearest(textNode);\n    let from, to, topNode = textNode;\n    if (cView instanceof InlineView) {\n        while (cView.parent instanceof InlineView)\n            cView = cView.parent;\n        from = cView.posAtStart;\n        to = from + cView.length;\n        topNode = cView.dom;\n    }\n    else if (cView instanceof LineView) {\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        from = to = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n    }\n    else {\n        return Decoration.none;\n    }\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let text = textNode.nodeValue, { state } = view;\n    if (newTo - newFrom < text.length) {\n        if (state.sliceDoc(newFrom, Math.min(state.doc.length, newFrom + text.length)) == text)\n            newTo = newFrom + text.length;\n        else if (state.sliceDoc(Math.max(0, newTo - text.length), newTo) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.sliceDoc(newFrom, newTo) != text) {\n        return Decoration.none;\n    }\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(topNode, textNode) }).range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text) {\n        super();\n        this.top = top;\n        this.text = text;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* NI */ :\n                        ch == 0x200c ? 256 /* NI */ : 1 /* L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* L */ : 2 /* R */, oppositeType = direction == LTR ? 2 /* R */ : 1 /* L */;\n    if (!line || outerType == 1 /* L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* NSM */)\n            type = prev;\n        else if (type == 8 /* EN */ && prevStrong == 4 /* AL */)\n            type = 16 /* AN */;\n        types[i] = type == 4 /* AL */ ? 2 /* R */ : type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* NI */;\n        }\n        else if (type == 64 /* ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* ET */)\n                end++;\n            let replace = (i && prev == 8 /* EN */) || (end < len && types[end] == 8 /* EN */) ? (prevStrong == 1 /* L */ ? 1 /* L */ : 8 /* EN */) : 256 /* NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* EN */ && prevStrong == 1 /* L */) {\n            types[i] = 1 /* L */;\n        }\n        prev = type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* EmbedInside */) ? outerType :\n                            !(flags & 4 /* OppositeInside */) ? 0 :\n                                (flags & 1 /* OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* R */ || type == 1 /* L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* L */ : 2 /* R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* L */;\n            while (i < len && rtl == (types[i] != 1 /* L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* R */;\n                    while (j > start && l == (types[j - 1] != 2 /* R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* R */;\n            while (i < len && rtl == (types[i] == 2 /* R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\n// FIXME holding arrow-up/down at the end of the viewport is a rather\n// common use case that will repeatedly trigger this code. Maybe\n// introduce some element of binary search after all?\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (!closestX && closest.contentEditable == \"true\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    let content = view.contentDOM.getBoundingClientRect(), block;\n    let halfLine = view.defaultLineHeight / 2;\n    for (let bounced = false;;) {\n        block = view.blockAtHeight(y, content.top);\n        if (block.top > y || block.bottom < y) {\n            bias = block.top > y ? -1 : 1;\n            y = Math.min(block.bottom - halfLine, Math.max(block.top + halfLine, y));\n            if (bounced)\n                return precise ? null : 0;\n            else\n                bounced = true;\n        }\n        if (block.type == BlockType.Text)\n            break;\n        y = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n    }\n    let lineStart = block.from;\n    x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length : posAtCoordsImprecise(view, content, block, x, y);\n    // Clip x to the viewport sides\n    let root = view.root, element = root.elementFromPoint(x, y);\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && view.contentDOM.contains(element) && !(view.docView.nearest(element) instanceof WidgetView)) {\n        if (root.caretPositionFromPoint) {\n            let pos = root.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (root.caretRangeFromPoint) {\n            let range = root.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (browser.safari && isSuspiciousCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let pos = view.posAtCoords({ x: forward == (view.textDirection == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, view.textDirection, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos);\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineAt(startPos, view.dom.getBoundingClientRect().top);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = dir < 0 ? line.top : line.bottom;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, undefined, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.pluginField(PluginField.atomicRanges);\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.from > pos.from ? EditorSelection.cursor(from, 1) : EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.pendingIOSKey = null;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        this.compositionEndedAt = 0;\n        this.rapidCompositionStart = false;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this.registeredEvents.push(type);\n        }\n        this.notifiedFocused = view.hasFocus;\n        this.ensureHandlers(view);\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view) {\n        let handlers = this.customHandlers = view.pluginField(domEventHandlers);\n        for (let set of handlers) {\n            for (let type in set.handlers)\n                if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                    this.registeredEvents.push(type);\n                    view.contentDOM.addEventListener(type, (event) => {\n                        if (!eventBelongsToEditor(view, event))\n                            return;\n                        if (this.runCustomHandlers(type, view, event))\n                            event.preventDefault();\n                    });\n                }\n        }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type], handled = false;\n            if (handler) {\n                try {\n                    handled = handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n                if (handled || event.defaultPrevented) {\n                    // Chrome for Android often applies a bunch of nonsensical\n                    // DOM changes after an enter press, even when\n                    // preventDefault-ed. This tries to ignore those.\n                    if (browser.android && type == \"keydown\" && event.keyCode == 13)\n                        view.observer.flushSoon();\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (this.screenKeyEvent(view, event))\n            return true;\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        if (browser.ios && (event.keyCode == 13 || event.keyCode == 8) &&\n            !(event.ctrlKey || event.altKey || event.metaKey) && !event.synthetic) {\n            this.pendingIOSKey = event.keyCode == 13 ? \"enter\" : \"backspace\";\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        if (!this.pendingIOSKey)\n            return false;\n        let dom = view.contentDOM, key = this.pendingIOSKey;\n        this.pendingIOSKey = null;\n        return key == \"enter\" ? dispatchKey(dom, \"Enter\", 13) : dispatchKey(dom, \"Backspace\", 8);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && Date.now() - this.compositionEndedAt < 500) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    screenKeyEvent(view, event) {\n        let protectedTab = event.keyCode == 9 && Date.now() < this.lastEscPress + 2000;\n        if (event.keyCode == 27)\n            this.lastEscPress = Date.now();\n        else if (modifierCodes.indexOf(event.keyCode) < 0)\n            this.lastEscPress = 0;\n        return protectedTab;\n    }\n    mustFlushObserver(event) {\n        return (event.type == \"keydown\" && event.keyCode != 229) ||\n            event.type == \"compositionend\" && !browser.ios;\n    }\n    startMouseSelection(view, event, style) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = new MouseSelection(this, view, event, style);\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(inputState, view, startEvent, style) {\n        this.inputState = inputState;\n        this.view = view;\n        this.style = style;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (!selection.eq(this.view.state.selection) || selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                annotations: Transaction.userEvent.of(\"pointerselection\"),\n                scrollIntoView: true\n            });\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API—all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        annotations: Transaction.userEvent.of(\"paste\"),\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"keyboardselection\");\n};\nlet lastTouch = 0;\nhandlers.touchstart = (view, e) => {\n    lastTouch = Date.now();\n    view.inputState.setSelectionOrigin(\"pointerselection\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"pointerselection\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (lastTouch > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        if (view.root.activeElement != view.contentDOM)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(view, event, style);\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.changes) {\n                if (start)\n                    start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            if (!cur || !start)\n                return startSel;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY });\n    if (dropPos == null || !text)\n        return;\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        annotations: Transaction.userEvent.of(\"drop\")\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer || !view.state.facet(editable))\n        return;\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (!view.state.facet(editable))\n        return;\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let text = data && data.getData(\"text/plain\");\n    if (text) {\n        doPaste(view, text);\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && view.state.facet(editable))\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            annotations: Transaction.userEvent.of(\"cut\")\n        });\n};\nhandlers.focus = handlers.blur = view => {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n};\nhandlers.beforeprint = view => {\n    view.viewState.printing = true;\n    view.requestMeasure();\n    setTimeout(() => {\n        view.viewState.printing = false;\n        view.requestMeasure();\n    }, 2000);\n};\nfunction forceClearComposition(view, rapid) {\n    if (view.docView.compositionDeco.size) {\n        view.inputState.rapidCompositionStart = rapid;\n        try {\n            view.update([]);\n        }\n        finally {\n            view.inputState.rapidCompositionStart = false;\n        }\n    }\n}\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.composing < 0) {\n        if (view.docView.compositionDeco.size) {\n            view.observer.flush();\n            forceClearComposition(view, true);\n        }\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    setTimeout(() => {\n        if (view.inputState.composing < 0)\n            forceClearComposition(view, false);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = Text.empty;\n        this.lineWrapping = false;\n        this.direction = Direction.LTR;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefresh(lineHeights, whiteSpace, direction) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight || (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping || this.direction != direction;\n    }\n    refresh(whiteSpace, direction, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) ||\n            this.lineWrapping != lineWrapping ||\n            this.direction != direction;\n        this.lineWrapping = lineWrapping;\n        this.direction = direction;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element.\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-4;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Outdated */ : 0) | (this.flags & ~2 /* Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(_from, _to, doc, top, offset, f) {\n        f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from);\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let line = new HeightMapText(len, measured.heights[measured.index++]);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            oracle.heightChanged = true;\n            return HeightMap.of(nodes);\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid || this.right.height == 0 ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop || this.right.height == 0 : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? Math.max(0, deco.widget.estimatedHeight) : 0;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let left = Math.max(0, rect.left), right = Math.min(innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent;) { // (Cast to any because TypeScript is useless with Node types)\n        if (parent.nodeType == 1) {\n            let style = window.getComputedStyle(parent);\n            if ((parent.scrollHeight > parent.clientHeight || parent.scrollWidth > parent.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = parent.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? parent.offsetParent : parent.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: right - rect.left,\n        top: top - (rect.top + paddingTop), bottom: bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTo = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.heightMap = HeightMap.empty().applyChanges(state.facet(decorations), Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineAt(pos, 0);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    update(update, scrollTo = null) {\n        let prev = this.state;\n        this.state = update.state;\n        let newDeco = this.state.facet(decorations);\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(update.startState.facet(decorations), newDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(newDeco, prev.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTo && (scrollTo.head < viewport.from || scrollTo.head > viewport.to) || !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTo);\n        if (!viewport.eq(this.viewport)) {\n            this.viewport = viewport;\n            update.flags |= 4 /* Viewport */;\n        }\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            update.flags |= this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        this.computeVisibleRanges();\n        if (scrollTo)\n            this.scrollTo = scrollTo;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(docView, repeated) {\n        let dom = docView.dom, whiteSpace = \"\", direction = Direction.LTR;\n        if (!repeated) {\n            // Vertical padding\n            let style = window.getComputedStyle(dom);\n            whiteSpace = style.whiteSpace, direction = (style.direction == \"rtl\" ? Direction.RTL : Direction.LTR);\n            this.paddingTop = parseInt(style.paddingTop) || 0;\n            this.paddingBottom = parseInt(style.paddingBottom) || 0;\n        }\n        // Pixel viewport\n        let pixelViewport = this.printing ? { top: -1e8, bottom: 1e8, left: -1e8, right: 1e8 } : visiblePixelRange(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        this.inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (!this.inView)\n            return 0;\n        let lineHeights = docView.measureVisibleLineHeights();\n        let refresh = false, bias = 0, result = 0, oracle = this.heightOracle;\n        if (!repeated) {\n            let contentWidth = docView.dom.clientWidth;\n            if (oracle.mustRefresh(lineHeights, whiteSpace, direction) ||\n                oracle.lineWrapping && Math.abs(contentWidth - this.contentWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, direction, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    docView.minWidth = 0;\n                    result |= 16 /* Geometry */;\n                }\n            }\n            if (this.contentWidth != contentWidth) {\n                this.contentWidth = contentWidth;\n                result |= 16 /* Geometry */;\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n        }\n        oracle.heightChanged = false;\n        this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(this.viewport.from, lineHeights));\n        if (oracle.heightChanged)\n            result |= 2 /* Height */;\n        if (!this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTo && (this.scrollTo.head < this.viewport.from || this.scrollTo.head > this.viewport.to)) {\n            let newVP = this.getViewport(bias, this.scrollTo);\n            if (newVP.from != this.viewport.from || newVP.to != this.viewport.to) {\n                this.viewport = newVP;\n                result |= 4 /* Viewport */;\n            }\n        }\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            result |= this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top, 0); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom, 0); }\n    getViewport(bias, scrollTo) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTo is given, make sure the viewport includes that position\n        if (scrollTo) {\n            if (scrollTo.head < viewport.from) {\n                let { top: newTop } = map.lineAt(scrollTo.head, QueryType.ByPos, doc, 0, 0);\n                viewport = new Viewport(map.lineAt(newTop - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(newTop + (visibleBottom - visibleTop) + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n            else if (scrollTo.head > viewport.to) {\n                let { bottom: newBottom } = map.lineAt(scrollTo.head, QueryType.ByPos, doc, 0, 0);\n                viewport = new Viewport(map.lineAt(newBottom - (visibleBottom - visibleTop) - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(newBottom + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* MinCoverMargin */, Math.min(-bias, 250 /* MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* MinCoverMargin */, Math.min(bias, 250 /* MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* Margin */ && bottom < visibleBottom + 2 * 1000 /* Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.heightOracle.direction != Direction.LTR)\n            return gaps;\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, line => {\n            if (line.length < 10000 /* Margin */)\n                return;\n            let structure = lineStructure(line.from, line.to, this.state);\n            if (structure.total < 10000 /* Margin */)\n                return;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                if (line.from != this.viewport.from)\n                    viewFrom = line.from;\n                else\n                    viewFrom = findPosition(structure, (this.visibleTop - line.top) / line.height);\n                if (line.to != this.viewport.to)\n                    viewTo = line.to;\n                else\n                    viewTo = findPosition(structure, (this.visibleBottom - line.top) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, this.pixelViewport.left / totalWidth);\n                viewTo = findPosition(structure, this.pixelViewport.right / totalWidth);\n            }\n            let sel = this.state.selection.main;\n            // Make sure the gap doesn't cover a selection end\n            if (sel.from <= viewFrom && sel.to >= line.from)\n                viewFrom = sel.from;\n            if (sel.from <= line.to && sel.to >= viewTo)\n                viewTo = sel.to;\n            let gapTo = viewFrom - 10000 /* Margin */, gapFrom = viewTo + 10000 /* Margin */;\n            if (gapTo > line.from + 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.from == line.from && gap.to > gapTo - 5000 /* HalfMargin */ && gap.to < gapTo + 5000 /* HalfMargin */) ||\n                    new LineGap(line.from, gapTo, this.gapSize(line, gapTo, true, structure)));\n            if (gapFrom < line.to - 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.to == line.to && gap.from > gapFrom - 5000 /* HalfMargin */ &&\n                    gap.from < gapFrom + 5000 /* HalfMargin */) ||\n                    new LineGap(gapFrom, line.to, this.gapSize(line, gapFrom, false, structure)));\n        });\n        return gaps;\n    }\n    gapSize(line, pos, start, structure) {\n        if (this.heightOracle.lineWrapping) {\n            let height = line.height * findFraction(structure, pos);\n            return start ? height : line.height - height;\n        }\n        else {\n            let ratio = findFraction(structure, pos);\n            return structure.total * this.heightOracle.charWidth * (start ? ratio : 1 - ratio);\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n            return 8 /* LineGaps */;\n        }\n        return 0;\n    }\n    computeVisibleRanges() {\n        let deco = this.state.facet(decorations);\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        this.visibleRanges = ranges;\n    }\n    lineAt(pos, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    lineAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height, editorTop), QueryType.ByHeight, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    blockAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height, editorTop), this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    forEachLine(from, to, f, editorTop) {\n        editorTop += this.paddingTop;\n        return this.heightMap.forEachLine(from, to, this.state.doc, editorTop, 0, this.scaler.scale == 1 ? f : b => f(scaleBlock(b, this.scaler, editorTop)));\n    }\n    get contentHeight() {\n        return this.domHeight + this.paddingTop + this.paddingBottom;\n    }\n    get domHeight() {\n        return this.scaler.toDOM(this.heightMap.height, this.paddingTop);\n    }\n}\n/**\nIndicates the range of the document that is in the visible\nviewport.\n*/\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    eq(b) { return this.from == b.from && this.to == b.to; }\n}\nfunction lineStructure(from, to, state) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(state.facet(decorations), from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale + top;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale + top;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler, top) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top, top), bBottom = scaler.toDOM(block.bottom, top);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler, top)) : block.type);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\"\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\"\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \".cm-cursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#f3f9ff\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#223039\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"3px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        this.ignoreSelection = new DOMSelection;\n        this.delayedFlush = -1;\n        this.queue = [];\n        this.lastFlush = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.intersecting = false;\n        // Used to work around a Safari Selection/shadow DOM bug (#414)\n        this._selectionRange = null;\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            this._selectionRange = null;\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.start();\n        this.onScroll = this.onScroll.bind(this);\n        window.addEventListener(\"scroll\", this.onScroll);\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n        }\n        this.listenForScroll();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush();\n        this.onScrollChanged(e);\n    }\n    onSelectionChange(event) {\n        if (this.lastFlush < Date.now() - 50)\n            this._selectionRange = null;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event))\n            return;\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // (Selection.isCollapsed isn't reliable on IE)\n        if (browser.ie && browser.ie_version <= 11 && !view.state.selection.main.empty &&\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush();\n    }\n    get selectionRange() {\n        if (!this._selectionRange) {\n            let { root } = this.view, sel = getSelection(root);\n            // The Selection object is broken in shadow roots in Safari. See\n            // https://github.com/codemirror/codemirror.next/issues/414\n            if (browser.safari && root.nodeType == 11 && deepActiveElement() == this.view.contentDOM)\n                sel = safariSelectionRangeHack(this.view) || sel;\n            this._selectionRange = sel;\n        }\n        return this._selectionRange;\n    }\n    setSelectionRange(anchor, head) {\n        var _a;\n        if (!((_a = this._selectionRange) === null || _a === void 0 ? void 0 : _a.type))\n            this._selectionRange = { anchorNode: anchor.node, anchorOffset: anchor.offset,\n                focusNode: head.node, focusOffset: head.offset };\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    clearSelection() {\n        this.ignoreSelection.set(this.selectionRange);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.observer.takeRecords();\n        this.queue.length = 0;\n        this.clearSelection();\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = window.setTimeout(() => { this.delayedFlush = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            window.clearTimeout(this.delayedFlush);\n            this.delayedFlush = -1;\n            this.flush();\n        }\n    }\n    // Apply pending changes, if any\n    flush() {\n        if (this.delayedFlush >= 0)\n            return;\n        this.lastFlush = Date.now();\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let selection = this.selectionRange;\n        let newSel = !this.ignoreSelection.eq(selection) && hasSelection(this.dom, selection);\n        if (records.length == 0 && !newSel)\n            return;\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        let startState = this.view.state;\n        if (from > -1 || newSel)\n            this.onChange(from, to, typeOver);\n        if (this.view.state == startState) { // The view wasn't updated\n            if (this.view.docView.dirty) {\n                this.ignore(() => this.view.docView.sync());\n                this.view.docView.dirty = 0 /* Not */;\n            }\n            if (newSel)\n                this.view.docView.updateSelection();\n        }\n        this.clearSelection();\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty();\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else { // \"characterData\"\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this.intersection)\n            this.intersection.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"scroll\", this.onScroll);\n        clearTimeout(this.parentCheck);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it—using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main, bounds;\n    if (start > -1 && (bounds = view.docView.domBoundsAround(start, end, 0))) {\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        newSel = selectionFromPoints(selPoints, from);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.sliceDoc(from, to), reader.text, preferredPos - from, preferredSide);\n        if (diff)\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: view.state.toText(reader.text.slice(diff.from, diff.toB)) };\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    if (change) {\n        let startState = view.state;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events.\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))) ||\n            browser.ios && view.inputState.flushIOSKey(view))\n            return;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length)) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) +\n                after));\n        }\n        else {\n            let changes = startState.changes(change);\n            tr = {\n                changes,\n                selection: newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                    ? startState.selection.replaceRange(newSel.main) : undefined\n            };\n        }\n        view.dispatch(tr, { scrollIntoView: true, annotations: Transaction.userEvent.of(\"input\") });\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, annotations;\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"keyboardselection\")\n                scrollIntoView = true;\n            else\n                annotations = Transaction.userEvent.of(view.inputState.lastSelectionOrigin);\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, annotations });\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nclass DOMReader {\n    constructor(points, view) {\n        this.points = points;\n        this.view = view;\n        this.text = \"\";\n        this.lineBreak = view.state.lineBreak;\n    }\n    readRange(start, end) {\n        if (!start)\n            return;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if ((view ? view.breakAfter : isBlockElement(cur)) ||\n                ((nextView ? nextView.breakAfter : isBlockElement(next)) && !(cur.nodeName == \"BR\" && !cur.cmIgnore)))\n                this.text += this.lineBreak;\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        let text;\n        if (fromView != null)\n            text = fromView.sliceString(0, undefined, this.lineBreak);\n        else if (node.nodeType == 3)\n            text = node.nodeValue;\n        else if (node.nodeName == \"BR\")\n            text = node.nextSibling ? this.lineBreak : \"\";\n        else if (node.nodeType == 1)\n            this.readRange(node.firstChild, null);\n        if (text != null) {\n            this.findPointIn(node, text.length);\n            this.text += text;\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && this.view.inputState.lastKeyCode == 13 && !node.nextSibling && /\\n\\n$/.test(this.text))\n                this.text = this.text.slice(0, -1);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointIn(node, maxLen) {\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, maxLen);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle → Updating ⇆ Idle (unchecked) → Measuring → Idle\n//                                         ↑      ↓\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll usually want to put `view.dom` into\n    your document after creating a view, so that the user can see\n    it.\n    */\n    constructor(\n    /**\n    Initialization options.\n    */\n    config = {}) {\n        this.plugins = [];\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        /**\n        @internal\n        */\n        this.updateState = 2 /* Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this.root = (config.root || document);\n        this.viewState = new ViewState(config.state || EditorState.create());\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* Idle */;\n        ensureGlobalHandler();\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://developer.mozilla.org/en-US/docs/Mozilla/IME_handling_guide).\n    */\n    get composing() { return this.inputState.composing > 0; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = new ViewUpdate(this, state, transactions);\n        let scrollTo;\n        try {\n            this.updateState = 2 /* Updating */;\n            scrollTo = transactions.some(tr => tr.scrollIntoView) ? state.selection.main : null;\n            this.viewState.update(update, scrollTo);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            this.updateAttrs();\n            this.showAnnouncements(transactions);\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (redrawn || scrollTo || this.viewState.mustEnforceCursorAssoc)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        this.updateState = 2 /* Updating */;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.inputState.ensureHandlers(this);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i] = this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = -1; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.flush();\n        let updated = null;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* Measuring */;\n                let changed = this.viewState.measure(this.docView, i > 0);\n                let measuring = this.measureRequests;\n                if (!changed && !measuring.length && this.viewState.scrollTo == null)\n                    break;\n                this.measureRequests = [];\n                if (i > 5) {\n                    console.warn(\"Viewport failed to stabilize\");\n                    break;\n                }\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = new ViewUpdate(this, this.state);\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                }\n                this.updateAttrs();\n                if (changed)\n                    this.docView.update(update);\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            measuring[i].write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTo) {\n                    this.docView.scrollPosIntoView(this.viewState.scrollTo.head, this.viewState.scrollTo.assoc);\n                    this.viewState.scrollTo = null;\n                }\n                if (!(changed & 4 /* Viewport */) && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.measureScheduled = -1;\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = combineAttrs(this.state.facet(editorAttributes), {\n            // FIXME drop cm-wrap in next major release\n            class: \"cm-editor cm-wrap\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n        this.editorAttrs = editorAttrs;\n        let contentAttrs = combineAttrs(this.state.facet(contentAttributes), {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : contentEditablePlainTextSupported() ? \"plaintext-only\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        });\n        updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n        this.contentAttrs = contentAttrs;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Collect all values provided by the active plugins for a given\n    field.\n    */\n    pluginField(field) {\n        let result = [];\n        for (let plugin of this.plugins)\n            plugin.update(this).takeField(field, result);\n        return result;\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        for (let inst of this.plugins)\n            if (inst.spec == plugin)\n                return inst.update(this).value;\n        return null;\n    }\n    /**\n    Find the line or block widget at the given vertical position.\n    \n    By default, this position is interpreted as a screen position,\n    meaning `docTop` is set to the DOM top position of the editor\n    content (forcing a layout). You can pass a different `docTop`\n    value—for example 0 to interpret `height` as a document-relative\n    position, or a precomputed document top\n    (`view.contentDOM.getBoundingClientRect().top`) to limit layout\n    queries.\n    */\n    blockAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.blockAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find information for the visual line (see\n    [`visualLineAt`](https://codemirror.net/6/docs/ref/#view.EditorView.visualLineAt)) at the given\n    vertical position. The resulting block info might hold another\n    array of block info structs in its `type` field if this line\n    consists of more than one block.\n    \n    Defaults to treating `height` as a screen position. See\n    [`blockAtHeight`](https://codemirror.net/6/docs/ref/#view.EditorView.blockAtHeight) for the\n    interpretation of the `docTop` parameter.\n    */\n    visualLineAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.lineAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Iterate over the height information of the visual lines in the\n    viewport. The heights of lines are reported relative to the\n    given document top, which defaults to the screen position of the\n    document (forcing a layout).\n    */\n    viewportLines(f, docTop) {\n        let { from, to } = this.viewport;\n        this.viewState.forEachLine(from, to, f, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find the extent and height of the visual line (a range delimited\n    on both sides by either non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^range)\n    line breaks, or the start/end of the document) at the given position.\n    \n    Vertical positions are computed relative to the `docTop`\n    argument, which defaults to 0 for this method. You can pass\n    `view.contentDOM.getBoundingClientRect().top` here to get screen\n    coordinates.\n    */\n    visualLineAt(pos, docTop = 0) {\n        return this.viewState.lineAt(pos, docTop);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. Motion in\n    bidirectional text is in visual order, in the editor's [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). When the start\n    position was the last one on the line, the returned position\n    will be across the line break. If there is no further line, the\n    original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Scroll the given document position into view.\n    */\n    scrollPosIntoView(pos) {\n        this.viewState.scrollTo = EditorSelection.cursor(pos);\n        this.requestMeasure();\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor.\n    */\n    get textDirection() { return this.viewState.heightOracle.direction; }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)—if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirection;\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, this.textDirection);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (document.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n    }\n    /**\n    Facet that can be used to add DOM event handlers. The value\n    should be an object mapping event names to handler functions. The\n    first such function to return true will be assumed to have handled\n    that event, and no other handlers or built-in behavior will be\n    activated for it.\n    These are registered on the [content\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except for `scroll`\n    handlers, which will be called any time the editor's [scroll\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of its parent nodes\n    is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)—to which the scope class will be\n    added—need to be explicitly differentiated by adding an `&` to\n    the selector for that element—for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.fallback(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content is editable. When\nits highest-precedence value is `false`, editing is disabled,\nand the content element will no longer have its\n`contenteditable` attribute set to `true`. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds\na new range to the existing selection or replaces it entirely.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. See also [view\nplugins](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), which have a separate\nmechanism for providing decorations.\n*/\nEditorView.decorations = decorations;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nfunction ensureTop(given, dom) {\n    return given == null ? dom.getBoundingClientRect().top : given;\n}\nlet resizeDebounce = -1;\nfunction ensureGlobalHandler() {\n    window.addEventListener(\"resize\", () => {\n        if (resizeDebounce == -1)\n            resizeDebounce = setTimeout(handleResize, 50);\n    });\n}\nfunction handleResize() {\n    resizeDebounce = -1;\n    let found = document.querySelectorAll(\".cm-content\");\n    for (let i = 0; i < found.length; i++) {\n        let docView = ContentView.get(found[i]);\n        if (docView)\n            docView.editorView.requestMeasure();\n    }\n}\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\n\nconst currentPlatform = typeof navigator == \"undefined\" ? \"key\"\n    : /*@__PURE__*//Mac/.test(navigator.platform) ? \"mac\"\n        : /*@__PURE__*//Win/.test(navigator.platform) ? \"win\"\n            : /*@__PURE__*//Linux|X11/.test(navigator.platform) ? \"linux\"\n                : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n});\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event), isChar = name.length == 1 && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.override(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.visualLineAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft);\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && blockAt(view, (top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top, right - left, bottom - top, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, pos + m.index + m[0].length, m);\n    }\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        let { regexp, decoration, boundary } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        this.getDeco = typeof decoration == \"function\" ? decoration : () => decoration;\n        this.boundary = boundary;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges)\n            iterMatches(view.state.doc, this.regexp, from, to, (a, b, m) => build.add(a, b, this.getDeco(m, view, a)));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from) {\n                        let pos = m.index + fromLine.from;\n                        ranges.push(this.getDeco(m, view, pos).range(pos, pos + m[0].length));\n                    }\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, to, m) => ranges.push(this.getDeco(m, view, from).range(from, to)));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: () => false, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(doc.sliceString(line.from, pos), 0, size);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ attributes: { class: \"cm-activeLine\" } });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            if (!r.empty)\n                return Decoration.none;\n            let line = view.visualLineAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder—a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, MatchDecorator, PluginField, PluginFieldProvider, ViewPlugin, ViewUpdate, WidgetType, __test, drawSelection, highlightActiveLine, highlightSpecialChars, keymap, logException, placeholder, runScopeHandlers };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorComponent } from './codemirror.component';\n\n@NgModule({\n  declarations: [CodemirrorComponent],\n  exports: [\n    CodemirrorComponent\n  ],\n  imports: [\n    CommonModule,\n  ],\n  providers: [\n\n  ]\n})\nexport class CodemirrorModule { }\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb2RlbWlycm9yLWV4YW1wbGUuY29tcG9uZW50LmNzcyJ9 */\";","import { Transaction, EditorSelection } from '@codemirror/state';\nimport { Text, findClusterBreak, countColumn, codePointSize, codePointAt } from '@codemirror/text';\nimport { Direction } from '@codemirror/view';\nimport { matchBrackets } from '@codemirror/matchbrackets';\nimport { IndentContext, getIndentation, indentString, indentUnit, getIndentUnit, syntaxTree } from '@codemirror/language';\nimport { NodeProp } from 'lezer-tree';\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, annotations: Transaction.userEvent.of(\"keyboardselection\") });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection across one group of word or non-word (but also\nnon-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolve(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveVertically(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction cursorByPage(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveVertically(range, forward, view.dom.clientHeight) : rangeEnd(range, forward));\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.visualLineAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, view.dom.clientHeight));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, annotations: Transaction.userEvent.of(\"keyboardselection\") }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), annotations: Transaction.userEvent.of(\"keyboardselection\") }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolve(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy({ state, dispatch }, by) {\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, annotations: Transaction.userEvent.of(\"delete\") }));\n    return true;\n}\nconst deleteByChar = (target, forward, codePoint) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, 0, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        return pos;\n    }\n    let targetPos;\n    if (codePoint) {\n        let next = line.text.slice(pos - line.from + (forward ? 0 : -2), pos - line.from + (forward ? 2 : 0));\n        let size = next ? codePointSize(codePointAt(next, 0)) : 1;\n        targetPos = forward ? Math.min(state.doc.length, pos + size) : Math.max(0, pos - size);\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n    }\n    if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n        targetPos += forward ? 1 : -1;\n    return targetPos;\n});\n/**\nDelete the selection, or, for cursor selections, the code point\nbefore the cursor.\n*/\nconst deleteCodePointBackward = view => deleteByChar(view, false, true);\n/**\nDelete the selection, or, for cursor selections, the code point\nafter the cursor.\n*/\nconst deleteCodePointForward = view => deleteByChar(view, true, true);\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true, false);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return pos;\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.visualLineAt(pos).to;\n    if (pos < lineEnd)\n        return lineEnd;\n    return Math.min(view.state.doc.length, pos + 1);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.visualLineAt(pos).from;\n    if (pos > lineStart)\n        return lineStart;\n    return Math.max(0, pos - 1);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, annotations: Transaction.userEvent.of(\"input\") }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex)\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolve(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = ({ state, dispatch }) => {\n    let changes = state.changeByRange(({ from, to }) => {\n        let explode = from == to && isBetweenBrackets(state, from);\n        let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n        let indent = getIndentation(cx, from);\n        if (indent == null)\n            indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n        let line = state.doc.lineAt(from);\n        while (to < line.to && /\\s/.test(line.text.slice(to - line.from, to + 1 - line.from)))\n            to++;\n        if (explode)\n            ({ from, to } = explode);\n        else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n            from = line.from;\n        let insert = [\"\", indentString(state, indent)];\n        if (explode)\n            insert.push(indentString(state, cx.lineIndent(line)));\n        return { changes: { from, to, insert: Text.of(insert) },\n            range: EditorSelection.cursor(from + 1 + insert[1].length) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true }));\n    return true;\n};\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    })));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, 0, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    })));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, annotations: Transaction.userEvent.of(\"input\") }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Alt-d: [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Alt-f: [`cursorGroupForward`](https://codemirror.net/6/docs/ref/#commands.cursorGroupForward) ([`selectGroupForward`](https://codemirror.net/6/docs/ref/#commands.selectGroupForward) with Shift)\n - Alt-b: [`cursorGroupBackward`](https://codemirror.net/6/docs/ref/#commands.cursorGroupBackward) ([`selectGroupBackward`](https://codemirror.net/6/docs/ref/#commands.selectGroupBackward) with Shift)\n - Alt-<: [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart)\n - Alt->: [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Alt-d\", run: deleteGroupForward },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Alt-f\", run: cursorGroupForward, shift: selectGroupForward },\n    { key: \"Alt-b\", run: cursorGroupBackward, shift: selectGroupBackward },\n    { key: \"Alt-<\", run: cursorDocStart },\n    { key: \"Alt->\", run: cursorDocEnd },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n    { key: \"Alt-v\", run: cursorPageUp },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCodePointBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCodePointBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCodePointBackward, shift: deleteCodePointBackward },\n    { key: \"Delete\", run: deleteCharForward, shift: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`insertTab`](https://codemirror.net/6/docs/ref/#commands.insertTab) and\nShift-Tab to [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst defaultTabBinding = { key: \"Tab\", run: insertTab, shift: indentSelection };\n\nexport { copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, defaultTabBinding, deleteCharBackward, deleteCharForward, deleteCodePointBackward, deleteCodePointForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, indentLess, indentMore, indentSelection, insertNewline, insertNewlineAndIndent, insertTab, moveLineDown, moveLineUp, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, transposeChars };\n","export * from './codemirror.component';\nexport * from './codemirror.module';\n\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { emojiExampleList } from '../../example-emoji-list';\nimport { oneDarkTheme } from '@codemirror/theme-one-dark';\nimport { javascript, javascriptLanguage } from '@codemirror/lang-javascript';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { keymap } from '@codemirror/view';\nimport { Extension } from '@codemirror/state';\nimport { basicSetup } from '@codemirror/basic-setup';\nimport { CodemirrorComponent } from '@gewd/components/codemirror';\n\n@Component({\n  selector: 'gewd-codemirror-example',\n  templateUrl: './codemirror-example.component.html',\n  styleUrls: ['./codemirror-example.component.css']\n})\nexport class CodemirrorExampleComponent implements OnInit {\n  private subscription: Subscription;\n\n  emojiList = emojiExampleList;\n\n  normalExtensions: Extension[] = [\n    oneDarkTheme,\n  ]\n\n  extensions: Extension = [\n    basicSetup,\n     // overrides first..\n    oneDarkTheme,\n\n    javascript(),\n    javascriptLanguage, //.data.of({autocomplete:jsCompletion}),\n\n    autocompletion(),\n    keymap.of([\n      ...completionKeymap,\n    ]),\n  ];\n\n  constructor(private cd: ChangeDetectorRef) { }\n\n  ngOnDestroy (): void {\n    this.subscription.unsubscribe();\n  }\n\n  ngOnInit (): void {\n\n  }\n\n\n  updateCodemirror (codemirror: CodemirrorComponent, textarea: HTMLTextAreaElement) {\n    codemirror.value = textarea.value;\n    this.cd.detectChanges();\n  }\n\n  insertText (codemirror: CodemirrorComponent) {\n    codemirror.insertText(\n      codemirror.selectedRange.from,\n      codemirror.selectedRange.to,\n      'test'\n    );\n\n    codemirror.codeMirrorView.focus();\n  }\n}\n","import { EditorSelection } from '@codemirror/state';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let config = getConfig(target.state);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockComment(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        let tr = f(option, state.selection.ranges, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* Uncomment */);\n/**\nDefault key bindings for this package.\n\n - Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#comment.toggleComment).\n - Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#comment.toggleBlockComment).\n*/\nconst commentKeymap = [\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n];\nfunction getConfig(state, pos = state.selection.main.head) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, ranges, state) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* Uncomment */ && !comments.every(c => c)) {\n        let index = 0;\n        return state.changeByRange(range => {\n            let { open, close } = tokens[index++];\n            if (comments[index])\n                return { range };\n            let shift = open.length + 1;\n            return {\n                changes: [{ from: range.from, insert: open + \" \" }, { from: range.to, insert: \" \" + close }],\n                range: EditorSelection.range(range.anchor + shift, range.head + shift)\n            };\n        });\n    }\n    else if (option != 1 /* Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, ranges, state) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let token = getConfig(state, pos).line;\n                if (!token)\n                    continue;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nexport { blockComment, blockUncomment, commentKeymap, lineComment, lineUncomment, toggleBlockComment, toggleComment, toggleLineComment };\n","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, tags } from '@codemirror/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\nconst chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\nmalibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", selection = \"#3E4451\", cursor = \"#528bff\";\n/**\nThe editor theme styles for One Dark.\n*/\nconst oneDarkTheme = /*@__PURE__*/EditorView.theme({\n    \"&\": {\n        color: ivory,\n        backgroundColor: background\n    },\n    \".cm-content\": {\n        caretColor: cursor\n    },\n    \"&.cm-focused .cm-cursor\": { borderLeftColor: cursor },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection\": { backgroundColor: selection },\n    \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n    \".cm-searchMatch\": {\n        backgroundColor: \"#72a1ff59\",\n        outline: \"1px solid #457dff\"\n    },\n    \".cm-searchMatch.cm-searchMatch-selected\": {\n        backgroundColor: \"#6199ff2f\"\n    },\n    \".cm-activeLine\": { backgroundColor: highlightBackground },\n    \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n    \".cm-matchingBracket, .cm-nonmatchingBracket\": {\n        backgroundColor: \"#bad0f847\",\n        outline: \"1px solid #515a6b\"\n    },\n    \".cm-gutters\": {\n        backgroundColor: background,\n        color: stone,\n        border: \"none\"\n    },\n    \".cm-activeLineGutter\": {\n        backgroundColor: highlightBackground\n    },\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        color: \"#ddd\"\n    },\n    \".cm-tooltip\": {\n        border: \"1px solid #181a1f\",\n        backgroundColor: darkBackground\n    },\n    \".cm-tooltip-autocomplete\": {\n        \"& > ul > li[aria-selected]\": {\n            backgroundColor: highlightBackground,\n            color: ivory\n        }\n    }\n}, { dark: true });\n/**\nThe highlighting style for code in the One Dark theme.\n*/\nconst oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.keyword,\n        color: violet },\n    { tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],\n        color: coral },\n    { tag: [/*@__PURE__*/tags.function(tags.variableName), tags.labelName],\n        color: malibu },\n    { tag: [tags.color, /*@__PURE__*/tags.constant(tags.name), /*@__PURE__*/tags.standard(tags.name)],\n        color: whiskey },\n    { tag: [/*@__PURE__*/tags.definition(tags.name), tags.separator],\n        color: ivory },\n    { tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],\n        color: chalky },\n    { tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /*@__PURE__*/tags.special(tags.string)],\n        color: cyan },\n    { tag: [tags.meta, tags.comment],\n        color: stone },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.link,\n        color: stone,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        fontWeight: \"bold\",\n        color: coral },\n    { tag: [tags.atom, tags.bool, /*@__PURE__*/tags.special(tags.variableName)],\n        color: whiskey },\n    { tag: [tags.processingInstruction, tags.string, tags.inserted],\n        color: sage },\n    { tag: tags.invalid,\n        color: invalid },\n]);\n/**\nExtension to enable the One Dark theme (both the editor theme and\nthe highlight style).\n*/\nconst oneDark = [oneDarkTheme, oneDarkHighlightStyle];\n\nexport { oneDark, oneDarkHighlightStyle, oneDarkTheme };\n","import { EditorView, Decoration, ViewPlugin, logException, WidgetType } from '@codemirror/view';\nimport { StateEffect, StateField, Facet } from '@codemirror/state';\nimport { hoverTooltip } from '@codemirror/tooltip';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel) {\n        let ranges = Decoration.set(diagnostics.map((d) => {\n            return d.from < d.to\n                ? Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to)\n                : Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction maybeEnableLint(state, effects, diagnostics) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        diagnostics ? lintState.init(() => LintState.init(diagnostics, null)) : lintState,\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)], diagnostics)\n    };\n}\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: elt(\"ul\", { class: \"cm-tooltip-lint\" }, found.map(d => renderDiagnostic(view, d, false))) };\n        }\n    };\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintSource);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintSource);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                var _a, _b;\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc &&\n                    (all.length || ((_b = (_a = this.view.state.field(lintState, false)) === null || _a === void 0 ? void 0 : _a.diagnostics) === null || _b === void 0 ? void 0 : _b.size)))\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        if (update.docChanged) {\n            let { delay } = update.state.facet(lintSource);\n            this.lintTime = Date.now() + delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, delay);\n            }\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintSource = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return { sources: input.map(i => i.source), delay: input.length ? Math.max(...input.map(i => i.delay)) : 750 };\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    var _a;\n    return lintSource.of({ source, delay: (_a = config.delay) !== null && _a !== void 0 ? _a : 750 });\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.items.length) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"×\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (!this.items.length) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.items.length == 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction underline(color) {\n    if (typeof btoa != \"function\")\n        return \"none\";\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"3\">\n    <path d=\"m0 3 l2 -2 l1 0 l2 2 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>\n  </svg>`;\n    return `url('data:image/svg+xml;base64,${btoa(svg)}')`;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\"\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\n\nexport { closeLintPanel, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics };\n","/// The default maximum length of a `TreeBuffer` node.\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nconst CachedNode = new WeakMap();\n/// Each [node type](#tree.NodeType) can have metadata associated with\n/// it in props. Instances of this class represent prop names.\nclass NodeProp {\n    /// Create a new node prop type. You can optionally pass a\n    /// `deserialize` function.\n    constructor({ deserialize } = {}) {\n        this.id = nextPropID++;\n        this.deserialize = deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /// Create a string-valued node prop whose deserialize function is\n    /// the identity function.\n    static string() { return new NodeProp({ deserialize: str => str }); }\n    /// Create a number-valued node prop whose deserialize function is\n    /// just `Number`.\n    static number() { return new NodeProp({ deserialize: Number }); }\n    /// Creates a boolean-valued node prop whose deserialize function\n    /// returns true for any input.\n    static flag() { return new NodeProp({ deserialize: () => true }); }\n    /// Store a value for this prop in the given object. This can be\n    /// useful when building up a prop object to pass to the\n    /// [`NodeType`](#tree.NodeType) constructor. Returns its first\n    /// argument.\n    set(propObj, value) {\n        propObj[this.id] = value;\n        return propObj;\n    }\n    /// This is meant to be used with\n    /// [`NodeSet.extend`](#tree.NodeSet.extend) or\n    /// [`Parser.withProps`](#lezer.Parser.withProps) to compute prop\n    /// values for each node type in the set. Takes a [match\n    /// object](#tree.NodeType^match) or function that returns undefined\n    /// if the node type doesn't get this prop, and the prop's value if\n    /// it does.\n    add(match) {\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/// Prop that is used to describe matching delimiters. For opening\n/// delimiters, this holds an array of node names (written as a\n/// space-separated string when declaring this prop in a grammar)\n/// for the node types of closing delimiters that match it.\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The inverse of [`openedBy`](#tree.NodeProp^closedBy). This is\n/// attached to closing delimiters, holding an array of node names\n/// of types of matching opening delimiters.\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// Used to assign node types to groups (for example, all node\n/// types that represent an expression could be tagged with an\n/// `\"Expression\"` group).\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\nconst noProps = Object.create(null);\n/// Each node in a syntax tree has a node type associated with it.\nclass NodeType {\n    /// @internal\n    constructor(\n    /// The name of the node type. Not necessarily unique, but if the\n    /// grammar was written properly, different node types with the\n    /// same name within a node set should play the same semantic\n    /// role.\n    name, \n    /// @internal\n    props, \n    /// The id of this node in its set. Corresponds to the term ids\n    /// used in the parser.\n    id, \n    /// @internal\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* Top */ : 0) | (spec.skipped ? 2 /* Skipped */ : 0) |\n            (spec.error ? 4 /* Error */ : 0) | (spec.name == null ? 8 /* Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src)\n                    src[0].set(props, src[1]);\n            }\n        return type;\n    }\n    /// Retrieves a node prop for this type. Will return `undefined` if\n    /// the prop isn't present on this node.\n    prop(prop) { return this.props[prop.id]; }\n    /// True when this is the top node of a grammar.\n    get isTop() { return (this.flags & 1 /* Top */) > 0; }\n    /// True when this node is produced by a skip rule.\n    get isSkipped() { return (this.flags & 2 /* Skipped */) > 0; }\n    /// Indicates whether this is an error node.\n    get isError() { return (this.flags & 4 /* Error */) > 0; }\n    /// When true, this node type doesn't correspond to a user-declared\n    /// named node, for example because it is used to cache repetition.\n    get isAnonymous() { return (this.flags & 8 /* Anonymous */) > 0; }\n    /// Returns true when this node's name or one of its\n    /// [groups](#tree.NodeProp^group) matches the given string.\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /// Create a function from node types to arbitrary values by\n    /// specifying an object whose property names are node or\n    /// [group](#tree.NodeProp^group) names. Often useful with\n    /// [`NodeProp.add`](#tree.NodeProp.add). You can put multiple\n    /// names, separated by spaces, in a single property name to map\n    /// multiple node names to a single value.\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/// An empty dummy node type to use when no actual type is available.\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* Anonymous */);\n/// A node set holds a collection of node types. It is used to\n/// compactly represent trees by storing their type ids, rather than a\n/// full pointer to the type object, in a number array. Each parser\n/// [has](#lezer.Parser.nodeSet) a node set, and [tree\n/// buffers](#tree.TreeBuffer) can only store collections of nodes\n/// from the same set. A set can have a maximum of 2**16 (65536)\n/// node types in it, so that the ids fit into 16-bit typed array\n/// slots.\nclass NodeSet {\n    /// Create a set with the given types. The `id` property of each\n    /// type should correspond to its position within the array.\n    constructor(\n    /// The node types in this set, by id.\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /// Create a copy of this set with some node properties added. The\n    /// arguments to this method should be created with\n    /// [`NodeProp.add`](#tree.NodeProp.add).\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    add[0].set(newProps, add[1]);\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\n/// A piece of syntax tree. There are two ways to approach these\n/// trees: the way they are actually stored in memory, and the\n/// convenient way.\n///\n/// Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n/// objects. By packing detail information into `TreeBuffer` leaf\n/// nodes, the representation is made a lot more memory-efficient.\n///\n/// However, when you want to actually work with tree nodes, this\n/// representation is very awkward, so most client code will want to\n/// use the `TreeCursor` interface instead, which provides a view on\n/// some part of this data structure, and can be used to move around\n/// to adjacent nodes.\nclass Tree {\n    /// Construct a new tree. You usually want to go through\n    /// [`Tree.build`](#tree.Tree^build) instead.\n    constructor(type, \n    /// The tree's child nodes. Children small enough to fit in a\n    /// `TreeBuffer will be represented as such, other children can be\n    /// further `Tree` instances with their own internal structure.\n    children, \n    /// The positions (offsets relative to the start of this tree) of\n    /// the children.\n    positions, \n    /// The total length of this tree\n    length) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n    }\n    /// @internal\n    toString() {\n        let children = this.children.map(c => c.toString()).join();\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /// Get a [tree cursor](#tree.TreeCursor) rooted at this tree. When\n    /// `pos` is given, the cursor is [moved](#tree.TreeCursor.moveTo)\n    /// to the given position and side.\n    cursor(pos, side = 0) {\n        let scope = (pos != null && CachedNode.get(this)) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        if (pos != null) {\n            cursor.moveTo(pos, side);\n            CachedNode.set(this, cursor._tree);\n        }\n        return cursor;\n    }\n    /// Get a [tree cursor](#tree.TreeCursor) that, unlike regular\n    /// cursors, doesn't skip [anonymous](#tree.NodeType.isAnonymous)\n    /// nodes.\n    fullCursor() {\n        return new TreeCursor(this.topNode, true);\n    }\n    /// Get a [syntax node](#tree.SyntaxNode) object for the top of the\n    /// tree.\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /// Get the [syntax node](#tree.SyntaxNode) at the given position.\n    /// If `side` is -1, this will move into nodes that end at the\n    /// position. If 1, it'll move into nodes that start at the\n    /// position. With 0, it'll only enter nodes that cover the position\n    /// from both sides.\n    resolve(pos, side = 0) {\n        return this.cursor(pos, side).node;\n    }\n    /// Iterate over the tree and its children, calling `enter` for any\n    /// node that touches the `from`/`to` region (if given) before\n    /// running over such a node's children, and `leave` (if given) when\n    /// leaving the node. When `enter` returns `false`, the given node\n    /// will not have its children iterated over (or `leave` called).\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        for (let c = this.cursor();;) {\n            let mustLeave = false;\n            if (c.from <= to && c.to >= from && (c.type.isAnonymous || enter(c.type, c.from, c.to) !== false)) {\n                if (c.firstChild())\n                    continue;\n                if (!c.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(c.type, c.from, c.to);\n                mustLeave = c.type.isAnonymous;\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                mustLeave = true;\n            }\n        }\n    }\n    /// Balance the direct children of this tree.\n    balance(maxBufferLength = DefaultBufferLength) {\n        return this.children.length <= BalanceBranchFactor ? this\n            : balanceRange(this.type, NodeType.none, this.children, this.positions, 0, this.children.length, 0, maxBufferLength, this.length, 0);\n    }\n    /// Build a tree from a postfix-ordered buffer of node information,\n    /// or a cursor over such a buffer.\n    static build(data) { return buildTree(data); }\n}\n/// The empty tree\nTree.empty = new Tree(NodeType.none, [], [], 0);\n// For trees that need a context hash attached, we're using this\n// kludge which assigns an extra property directly after\n// initialization (creating a single new object shape).\nfunction withHash(tree, hash) {\n    if (hash)\n        tree.contextHash = hash;\n    return tree;\n}\n/// Tree buffers contain (type, start, end, endIndex) quads for each\n/// node. In such a buffer, nodes are stored in prefix order (parents\n/// before children, with the endIndex of the parent indicating which\n/// children belong to it)\nclass TreeBuffer {\n    /// Create a tree buffer @internal\n    constructor(\n    /// @internal\n    buffer, \n    // The total length of the group of nodes in the buffer.\n    length, \n    /// @internal\n    set, type = NodeType.none) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n        this.type = type;\n    }\n    /// @internal\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /// @internal\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /// @internal\n    findChild(startIndex, endIndex, dir, after) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (after != -100000000 /* None */) {\n                let start = buffer[i + 1], end = buffer[i + 2];\n                if (dir > 0) {\n                    if (end > after)\n                        pick = i;\n                    if (end > after)\n                        break;\n                }\n                else {\n                    if (start < after)\n                        pick = i;\n                    if (end >= after)\n                        break;\n                }\n            }\n            else {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n}\nclass TreeNode {\n    constructor(node, from, index, _parent) {\n        this.node = node;\n        this.from = from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this.node.type; }\n    get name() { return this.node.type.name; }\n    get to() { return this.from + this.node.length; }\n    nextChild(i, dir, after, full = false) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent.node, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent.from;\n                if (after != -100000000 /* None */ && (dir < 0 ? start >= after : start + next.length <= after))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    let index = next.findChild(0, next.buffer.length, dir, after == -100000000 /* None */ ? -100000000 /* None */ : after - start);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if (full || (!next.type.isAnonymous || hasChild(next))) {\n                    let inner = new TreeNode(next, start, i, parent);\n                    return full || !inner.type.isAnonymous ? inner : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, after);\n                }\n            }\n            if (full || !parent.type.isAnonymous)\n                return null;\n            i = parent.index + dir;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, -100000000 /* None */); }\n    get lastChild() { return this.nextChild(this.node.children.length - 1, -1, -100000000 /* None */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos); }\n    childBefore(pos) { return this.nextChild(this.node.children.length - 1, -1, pos); }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent ? this._parent.nextChild(this.index + 1, 1, -1) : null;\n    }\n    get prevSibling() {\n        return this._parent ? this._parent.nextChild(this.index - 1, -1, -1) : null;\n    }\n    get cursor() { return new TreeCursor(this); }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    /// @internal\n    toString() { return this.node.toString(); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor, result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode {\n    constructor(context, _parent, index) {\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    child(dir, after) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, after == -100000000 /* None */ ? -100000000 /* None */ : after - this.context.start);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, -100000000 /* None */); }\n    get lastChild() { return this.child(-1, -100000000 /* None */); }\n    childAfter(pos) { return this.child(1, pos); }\n    childBefore(pos) { return this.child(-1, pos); }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, -1);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, -100000000 /* None */));\n    }\n    get cursor() { return new TreeCursor(this); }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    /// @internal\n    toString() { return this.context.buffer.childString(this.index); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n}\n/// A tree cursor object focuses on a given node in a syntax tree, and\n/// allows you to move to adjacent nodes.\nclass TreeCursor {\n    /// @internal\n    constructor(node, full = false) {\n        this.full = full;\n        this.buffer = null;\n        this.stack = [];\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    /// Shorthand for `.type.name`.\n    get name() { return this.type.name; }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /// @internal\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /// @internal\n    enter(dir, after) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree.node.children.length - 1 : 0, dir, after, this.full));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, after == -100000000 /* None */ ? -100000000 /* None */ : after - this.buffer.start);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /// Move the cursor to this node's first child. When this returns\n    /// false, the node has no child, and the cursor has not been moved.\n    firstChild() { return this.enter(1, -100000000 /* None */); }\n    /// Move the cursor to this node's last child.\n    lastChild() { return this.enter(-1, -100000000 /* None */); }\n    /// Move the cursor to the first child that starts at or after `pos`.\n    childAfter(pos) { return this.enter(1, pos); }\n    /// Move to the last child that ends at or before `pos`.\n    childBefore(pos) { return this.enter(-1, pos); }\n    /// Move the node's parent node, if this isn't the top node.\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode(this.full ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = this.full ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /// @internal\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree._parent.nextChild(this._tree.index + dir, dir, -100000000 /* None */, this.full));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, -100000000 /* None */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, -100000000 /* None */, this.full)) : false;\n    }\n    /// Move to this node's next sibling, if any.\n    nextSibling() { return this.sibling(1); }\n    /// Move to this node's previous sibling, if any.\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            for (let i = index + dir, e = dir < 0 ? -1 : parent.node.children.length; i != e; i += dir) {\n                let child = parent.node.children[i];\n                if (this.full || !child.type.isAnonymous || child instanceof TreeBuffer || hasChild(child))\n                    return false;\n            }\n        }\n        return true;\n    }\n    move(dir) {\n        if (this.enter(dir, -100000000 /* None */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /// Move to the next node in a\n    /// [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_(NLR))\n    /// traversal, going from a node to its first child or, if the\n    /// current node is empty, its next sibling or the next sibling of\n    /// the first parent node that has one.\n    next() { return this.move(1); }\n    /// Move to the next node in a last-to-first pre-order traveral. A\n    /// node is followed by ist last child or, if it has none, its\n    /// previous sibling or the previous sibling of the first parent\n    /// node that has one.\n    prev() { return this.move(-1); }\n    /// Move the cursor to the innermost node that covers `pos`. If\n    /// `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    /// it will enter nodes that start at `pos`.\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        for (;;) {\n            if (side < 0 ? !this.childBefore(pos) : !this.childAfter(pos))\n                break;\n            if (this.from == this.to ||\n                (side < 1 ? this.from >= pos : this.from > pos) ||\n                (side > -1 ? this.to <= pos : this.to < pos)) {\n                this.parent();\n                break;\n            }\n        }\n        return this;\n    }\n    /// Get a [syntax node](#tree.SyntaxNode) at the cursor's current\n    /// position.\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /// Get the [tree](#tree.Tree) that represents the current node, if\n    /// any. Will return null when the node is in a [tree\n    /// buffer](#tree.TreeBuffer).\n    get tree() {\n        return this.buffer ? null : this._tree.node;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => !ch.type.isAnonymous || ch instanceof TreeBuffer || hasChild(ch));\n}\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\nconst BalanceBranchFactor = 8;\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, topID = 0, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let startPos = start - parentStart;\n        if (size < 0) {\n            if (size == -1) { // Reused node\n                children.push(reused[id]);\n                positions.push(startPos);\n            }\n            else { // Context change\n                contextHash = id;\n            }\n            cursor.next();\n            return;\n        }\n        let type = types[id], node, buffer;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index, inRepeat);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet, inRepeat < 0 ? NodeType.none : types[inRepeat]);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            while (cursor.pos > endPos) {\n                if (cursor.id == localInRepeat)\n                    cursor.next();\n                else\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n            }\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && localChildren.length > BalanceBranchFactor)\n                node = balanceRange(type, type, localChildren, localPositions, 0, localChildren.length, 0, maxBufferLength, end - start, contextHash);\n            else\n                node = withHash(new Tree(type, localChildren, localPositions, end - start), contextHash);\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let nodeSize = fork.size, startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0)\n                    break scan;\n                if (fork.id >= minRepeatType)\n                    localSkipped += 4;\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index, inRepeat) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (id == inRepeat)\n            return index;\n        let startIndex = index;\n        if (size > 4) {\n            let endPos = cursor.pos - (size - 4);\n            while (cursor.pos > endPos)\n                index = copyToBuffer(bufferStart, buffer, index, inRepeat);\n        }\n        if (id < minRepeatType) { // Don't copy repeat nodes into buffers\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[topID], children.reverse(), positions.reverse(), length);\n}\nfunction balanceRange(outerType, innerType, children, positions, from, to, start, maxBufferLength, length, contextHash) {\n    let localChildren = [], localPositions = [];\n    if (length <= maxBufferLength) {\n        for (let i = from; i < to; i++) {\n            localChildren.push(children[i]);\n            localPositions.push(positions[i] - start);\n        }\n    }\n    else {\n        let maxChild = Math.max(maxBufferLength, Math.ceil(length * 1.5 / BalanceBranchFactor));\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i];\n            i++;\n            for (; i < to; i++) {\n                let nextEnd = positions[i] + children[i].length;\n                if (nextEnd - groupStart > maxChild)\n                    break;\n            }\n            if (i == groupFrom + 1) {\n                let only = children[groupFrom];\n                if (only instanceof Tree && only.type == innerType && only.length > maxChild << 1) { // Too big, collapse\n                    for (let j = 0; j < only.children.length; j++) {\n                        localChildren.push(only.children[j]);\n                        localPositions.push(only.positions[j] + groupStart - start);\n                    }\n                    continue;\n                }\n                localChildren.push(only);\n            }\n            else if (i == groupFrom + 1) {\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let inner = balanceRange(innerType, innerType, children, positions, groupFrom, i, groupStart, maxBufferLength, positions[i - 1] + children[i - 1].length - groupStart, contextHash);\n                if (innerType != NodeType.none && !containsType(inner.children, innerType))\n                    inner = withHash(new Tree(NodeType.none, inner.children, inner.positions, inner.length), contextHash);\n                localChildren.push(inner);\n            }\n            localPositions.push(groupStart - start);\n        }\n    }\n    return withHash(new Tree(outerType, localChildren, localPositions, length), contextHash);\n}\nfunction containsType(nodes, type) {\n    for (let elt of nodes)\n        if (elt.type == type)\n            return true;\n    return false;\n}\n/// Tree fragments are used during [incremental\n/// parsing](#lezer.ParseOptions.fragments) to track parts of old\n/// trees that can be reused in a new parse. An array of fragments is\n/// used to track regions of an old tree whose nodes might be reused\n/// in new parses. Use the static\n/// [`applyChanges`](#tree.TreeFragment^applyChanges) method to update\n/// fragments for document changes.\nclass TreeFragment {\n    constructor(\n    /// The start of the unchanged range pointed to by this fragment.\n    /// This refers to an offset in the _updated_ document (as opposed\n    /// to the original tree).\n    from, \n    /// The end of the unchanged range.\n    to, \n    /// The tree that this fragment is based on.\n    tree, \n    /// The offset between the fragment's tree and the document that\n    /// this fragment can be used against. Add this when going from\n    /// document to tree positions, subtract it to go from tree to\n    /// document positions.\n    offset, open) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = open;\n    }\n    get openStart() { return (this.open & 1 /* Start */) > 0; }\n    get openEnd() { return (this.open & 2 /* End */) > 0; }\n    /// Apply a set of edits to an array of fragments, removing or\n    /// splitting fragments as necessary to remove edited ranges, and\n    /// adjusting offsets for fragments that moved.\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        let cI = 0, pos = 0, off = 0;\n        for (;;) {\n            let nextC = cI < changes.length ? changes[cI++] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null :\n                            new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, (cI > 0 ? 1 /* Start */ : 0) | (nextC ? 2 /* End */ : 0));\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n    /// Create a set of fragments from a freshly parsed tree, or update\n    /// an existing set of fragments by replacing the ones that overlap\n    /// with a tree with content from the new tree. When `partial` is\n    /// true, the parse is treated as incomplete, and the token at its\n    /// end is not included in [`safeTo`](#tree.TreeFragment.safeTo).\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, partial ? 2 /* End */ : 0)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n}\n// Creates an `Input` that is backed by a single, flat string.\nfunction stringInput(input) { return new StringInput(input); }\nclass StringInput {\n    constructor(string, length = string.length) {\n        this.string = string;\n        this.length = length;\n    }\n    get(pos) {\n        return pos < 0 || pos >= this.length ? -1 : this.string.charCodeAt(pos);\n    }\n    lineAfter(pos) {\n        if (pos < 0)\n            return \"\";\n        let end = this.string.indexOf(\"\\n\", pos);\n        return this.string.slice(pos, end < 0 ? this.length : Math.min(end, this.length));\n    }\n    read(from, to) { return this.string.slice(from, Math.min(this.length, to)); }\n    clip(at) { return new StringInput(this.string, at); }\n}\n\nexport { DefaultBufferLength, NodeProp, NodeSet, NodeType, Tree, TreeBuffer, TreeCursor, TreeFragment, stringInput };\n//# sourceMappingURL=tree.es.js.map\n","import { Facet, combineConfig, StateField } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { EditorView, Decoration } from '@codemirror/view';\nimport { NodeProp } from 'lezer-tree';\n\nconst baseTheme = EditorView.baseTheme({\n    \".cm-matchingBracket\": { color: \"#0b0\" },\n    \".cm-nonmatchingBracket\": { color: \"#a22\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist\n        });\n    }\n});\nconst matchingMark = Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nconst bracketMatchingState = StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (!match)\n                continue;\n            let mark = match.matched ? matchingMark : nonmatchingMark;\n            decorations.push(mark.range(match.start.from, match.start.to));\n            if (match.end)\n                decorations.push(mark.range(match.end.from, match.end.to));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/// Create an extension that enables bracket matching. Whenever the\n/// cursor is next to a bracket, that bracket and the one it matches\n/// are highlighted. Or, when no matching bracket is found, another\n/// highlighting style is used to indicate this.\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\n/// Find the matching bracket for the token at `pos`, scanning\n/// direction `dir`. Only the `brackets` and `maxScanDistance`\n/// properties are used from `config`, if given. Returns null if no\n/// bracket was found at `pos`, or a match result otherwise.\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), sub = tree.resolve(pos, dir), matches;\n    if (matches = matchingNodes(sub.type, dir, brackets))\n        return matchMarkedBrackets(state, pos, dir, sub, matches, brackets);\n    else\n        return matchPlainBrackets(state, pos, dir, tree, sub.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, matching, brackets) {\n    let parent = token.parent, firstToken = { from: token.from, to: token.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor;\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1) {\n                    return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    depth--;\n                    if (depth == 0)\n                        return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: false };\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolve(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\nexport { bracketMatching, matchBrackets };\n","import { StateEffect, StateField, Facet, combineConfig } from '@codemirror/state';\nimport { Decoration, EditorView, WidgetType, ViewPlugin } from '@codemirror/view';\nimport { foldable, language } from '@codemirror/language';\nimport { gutter, GutterMarker } from '@codemirror/gutter';\nimport { RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\n\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstances—usually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#fold.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.visualLineAt(head));\n    }\n    return lines;\n}\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to))\n                folded = folded.update({ add: [foldWidget.range(e.value.from, e.value.to)] });\n            else if (e.is(unfoldEffect))\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.compute([f], s => s.field(f))\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction foldInside(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = foldInside(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges.\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.visualLineAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.visualLineAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#fold.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#fold.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#fold.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    placeholderText: \"…\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        ignoreEvents() { return false; }\n        toDOM(view) {\n            let { state } = view, conf = state.facet(foldConfig);\n            if (conf.placeholderDOM)\n                return conf.placeholderDOM();\n            let element = document.createElement(\"span\");\n            element.textContent = conf.placeholderText;\n            element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n            element.title = state.phrase(\"unfold\");\n            element.className = \"cm-foldPlaceholder\";\n            element.onclick = event => {\n                let line = view.visualLineAt(view.posAtDOM(event.target));\n                let folded = foldInside(view.state, line.from, line.to);\n                if (folded)\n                    view.dispatch({ effects: unfoldEffect.of(folded) });\n                event.preventDefault();\n            };\n            return element;\n        }\n    } });\nconst foldGutterDefaults = {\n    openText: \"⌄\",\n    closedText: \"›\"\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            view.viewportLines(line => {\n                let mark = foldInside(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            });\n            return builder.finish();\n        }\n    });\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: {\n                click: (view, line) => {\n                    let folded = foldInside(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                }\n            }\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter .cm-gutterElement\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\nexport { codeFolding, foldAll, foldCode, foldEffect, foldGutter, foldKeymap, foldedRanges, unfoldAll, unfoldCode, unfoldEffect };\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { EditorView, keymap } from '@codemirror/view';\nimport { EditorState, Extension } from '@codemirror/state';\nimport { indentOnInput } from '@codemirror/language';\nimport { defaultKeymap, indentLess, indentMore } from '@codemirror/commands';\n\n@Component({\n  selector: 'gewd-codemirror',\n  template: '',\n  styleUrls: ['./codemirror.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CodemirrorComponent implements OnInit, OnChanges {\n\n  private _changedByValue = false;\n\n  // current value of the codemirror-editor\n  private _value = '';\n\n  get value () {\n    return this._value;\n  }\n\n  @Input()\n  set value (_val) {\n    this._updateValue(_val);\n  }\n\n  @Output()\n  public changed = new EventEmitter<string>();\n\n  @Input()\n  public codemirrorExtensions: Extension[];\n\n  @Input()\n  public editorState: EditorState;\n\n  @Output()\n  public codemirrorCreated = new EventEmitter();\n\n  public codeMirrorView: EditorView | null = null;\n\n  public selectedRange: {from: number, to: number} | null = null;\n\n  constructor(\n    private element: ElementRef<HTMLElement>,\n    private cd: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.editorState) {\n      this.editorState = this.createEditorState();\n    }\n\n    this.codeMirrorView = new EditorView({\n      state: this.editorState,\n      parent: this.element.nativeElement\n    });\n\n    this.codemirrorCreated.emit();\n  }\n\n  ngOnChanges({value, codemirrorExtensions, editorState}: SimpleChanges): void {\n    if (value) {\n      this._updateValue(value.currentValue);\n    }\n\n    if (codemirrorExtensions) {\n      this.replaceEditorState();\n    }\n\n    if (editorState) {\n      this.codeMirrorView?.setState(editorState.currentValue);\n    }\n  }\n\n  public insertText(from: number, to: number, text: string) {\n    const transaction = this.codeMirrorView?.state.update({\n      changes: {\n        from,\n        to,\n        insert: text\n      },\n      selection: {anchor: from + text.length},\n      scrollIntoView: true\n    });\n\n    if (transaction) {\n      this.codeMirrorView?.dispatch(transaction);\n    }\n  }\n\n  public replaceSelection(text: string) {\n    const selectionTransaction = this.codeMirrorView.state.replaceSelection(text);\n\n    this.codeMirrorView.dispatch(selectionTransaction);\n  }\n\n  private _updateValue(value: string) {\n    this._changedByValue = true;\n\n    if (this._value !== value) {\n      this.insertText(\n        0,\n        this.codeMirrorView?.state.doc.length,\n        value\n      );\n    }\n\n    this._changedByValue = false;\n  }\n\n  private replaceEditorState(){\n    this.codeMirrorView?.setState(this.createEditorState());\n  }\n\n  private createEditorState () {\n    return EditorState.create({\n      doc: this.value,\n      extensions: [\n        ...this.codemirrorExtensions,\n\n        keymap.of([\n          ...defaultKeymap,\n          {\n            key: 'Tab',\n            preventDefault: true,\n            run: indentMore,\n          },\n          {\n            key: 'Shift-Tab',\n            preventDefault: true,\n            run: indentLess,\n          },\n        ]),\n\n        indentOnInput(),\n        // The basic setup needs to be at the end DUH\n        // basicSetup,\n        EditorState.changeFilter.of((tr) => {\n          if (tr.newSelection) {\n            const ranges = tr.newSelection.ranges;\n\n            if (ranges.length > 0) {\n              const range = ranges[0];\n\n              this.selectedRange = {\n                from: range.from,\n                to: range.to,\n              };\n              this.cd.markForCheck();\n            }\n          }\n\n          if (tr.docChanged && !this._changedByValue) {\n            this._value = tr.newDoc.toJSON().join('\\n');\n\n            this.changed.emit(this._value);\n          }\n\n          return true;\n        })\n      ]\n    });\n  }\n}\n","import { EditorView } from '@codemirror/view';\nimport { StateEffect, MapMode, StateField, EditorSelection, Transaction, CharCategory } from '@codemirror/state';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { codePointSize, codePointAt, fromCodePoint } from '@codemirror/text';\nimport { syntaxTree } from '@codemirror/language';\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}'\\\":;>\"\n};\nconst closeBracketEffect = StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst skipBracketEffect = StateEffect.define({\n    map(value, mapping) { return mapping.mapPos(value); }\n});\nconst closedBracket = new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects) {\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n            else if (effect.is(skipBracketEffect))\n                value = value.update({ filter: from => from != effect.value });\n        }\n        return value;\n    }\n});\n/// Extension to enable bracket-closing behavior. When a closeable\n/// bracket is typed, its closing bracket is immediately inserted\n/// after the cursor. When closing a bracket directly in front of a\n/// closing bracket inserted by the extension, the cursor moves over\n/// that bracket.\nfunction closeBrackets() {\n    return [EditorView.inputHandler.of(handleInput), bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nfunction handleInput(view, from, to, insert) {\n    if (view.composing)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n}\n/// Command that implements deleting a pair of matching brackets when\n/// the cursor is between them.\nconst deleteBracketPair = ({ state, dispatch }) => {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length),\n                        annotations: Transaction.userEvent.of(\"delete\") };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true }));\n    return !dont;\n};\n/// Close-brackets related key bindings. Binds Backspace to\n/// [`deleteBracketPair`](#closebrackets.deleteBracketPair).\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/// Implements the extension's behavior on text insertion. If the\n/// given string counts as a bracket in the language around the\n/// selection, and replacing the selection with it requires custom\n/// behavior (inserting a closing version or skipping past a\n/// previously-closed bracket), this function returns a transaction\n/// representing that custom behavior. (You only need this if you want\n/// to programmatically insert brackets—the\n/// [`closeBrackets`](#closebrackets.closeBrackets) extension will\n/// take care of running this for user input.)\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        annotations: Transaction.userEvent.of(\"input\")\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, moved = state.selection.ranges.map(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return EditorSelection.cursor(range.head + close.length);\n        return dont = range;\n    });\n    return dont ? null : state.update({\n        selection: EditorSelection.create(moved, state.selection.mainIndex),\n        scrollIntoView: true,\n        effects: state.selection.ranges.map(({ from }) => skipBracketEffect.of(from))\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos);\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                return { range: EditorSelection.cursor(pos + token.length * (isTriple ? 3 : 1)),\n                    effects: skipBracketEffect.of(pos) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            nodeStart(state, pos - 2 * token.length)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            let prev = state.sliceDoc(pos - 1, pos);\n            if (prev != token && state.charCategorizer(pos)(prev) != CharCategory.Word)\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        annotations: Transaction.userEvent.of(\"input\")\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolve(pos + 1);\n    return tree.parent && tree.from == pos;\n}\n\nexport { closeBrackets, closeBracketsKeymap, deleteBracketPair, insertBracket };\n","import { DefaultBufferLength, NodeSet, NodeType, stringInput, Tree, TreeBuffer } from 'lezer-tree';\nexport { NodeProp, NodeSet, NodeType, Tree, TreeCursor } from 'lezer-tree';\n\n/// A parse stack. These are used internally by the parser to track\n/// parsing progress. They also provide some properties and methods\n/// that external code such as a tokenizer can use to get information\n/// about the parse state.\nclass Stack {\n    /// @internal\n    constructor(\n    /// A the parse that this stack is part of @internal\n    p, \n    /// Holds state, pos, value stack pos (15 bits array index, 15 bits\n    /// buffer index) triplets for all but the top state\n    /// @internal\n    stack, \n    /// The current parse state @internal\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /// @internal\n    reducePos, \n    /// The input position up to which this stack has parsed.\n    pos, \n    /// The dynamic score of the stack, including dynamic precedence\n    /// and error-recovery penalties\n    /// @internal\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /// @internal\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /// @internal\n    bufferBase, \n    /// @internal\n    curContext, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /// @internal\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.parent = parent;\n    }\n    /// @internal\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /// @internal\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, null);\n    }\n    /// The stack's current [context](#lezer.ContextTracker) value, if\n    /// any. Its type will depend on the context tracker's type\n    /// parameter, or it will be `null` if there is no context\n    /// tracker.\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /// @internal\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /// @internal\n    reduce(action) {\n        let depth = action >> 19 /* ReduceDepthShift */, type = action & 65535 /* ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            // Zero-depth reductions are a special case—they add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            this.reduceContext(type);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* StayFlag */ ? 6 : 0);\n        let start = this.stack[base - 2];\n        let bufferBase = this.stack[base - 1], count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type);\n    }\n    // Shift a value into the buffer\n    /// @internal\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Err */) { // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /// @internal\n    shift(action, next, nextEnd) {\n        if (action & 131072 /* GotoFlag */) {\n            this.pushState(action & 65535 /* ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* StayFlag */) == 0) { // Regular shift\n            let start = this.pos, nextState = action, { parser } = this.p;\n            if (nextEnd > this.pos || next <= parser.maxNode) {\n                this.pos = nextEnd;\n                if (!parser.stateFlag(nextState, 1 /* Skipped */))\n                    this.reducePos = nextEnd;\n            }\n            this.pushState(nextState, start);\n            if (next <= parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n            this.shiftContext(next);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            if (next <= this.p.parser.maxNode)\n                this.buffer.push(next, this.pos, nextEnd, 4);\n            this.pos = nextEnd;\n        }\n    }\n    // Apply an action\n    /// @internal\n    apply(action, next, nextEnd) {\n        if (action & 65536 /* ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextEnd);\n    }\n    // Add a prebuilt node into the buffer. This may be a reused node or\n    // the result of running a nested parser.\n    /// @internal\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size < 0 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this.p.input, this));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /// @internal\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /// @internal\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd);\n        this.storeNode(0 /* Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 200 /* Token */;\n    }\n    /// Check if the given term would be able to be shifted (optionally\n    /// after some reductions) on this stack. This can be useful for\n    /// external tokenizers that want to make sure they only provide a\n    /// given token when it applies.\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.top, 4 /* DefaultReduce */) || this.p.parser.hasAction(sim.top, term);\n            if ((action & 65536 /* ReduceFlag */) == 0)\n                return true;\n            if (action == 0)\n                return false;\n            sim.reduce(action);\n        }\n    }\n    /// Find the start position of the rule that is currently being parsed.\n    get ruleStart() {\n        for (let state = this.state, base = this.stack.length;;) {\n            let force = this.p.parser.stateSlot(state, 5 /* ForcedReduce */);\n            if (!(force & 65536 /* ReduceFlag */))\n                return 0;\n            base -= 3 * (force >> 19 /* ReduceDepthShift */);\n            if ((force & 65535 /* ValueMask */) < this.p.parser.minRepeatTerm)\n                return this.stack[base + 1];\n            state = this.stack[base];\n        }\n    }\n    /// Find the start position of an instance of any of the given term\n    /// types, or return `null` when none of them are found.\n    ///\n    /// **Note:** this is only reliable when there is at least some\n    /// state that unambiguously matches the given rule on the stack.\n    /// I.e. if you have a grammar like this, where the difference\n    /// between `a` and `b` is only apparent at the third token:\n    ///\n    ///     a { b | c }\n    ///     b { \"x\" \"y\" \"x\" }\n    ///     c { \"x\" \"y\" \"z\" }\n    ///\n    /// Then a parse state after `\"x\"` will not reliably tell you that\n    /// `b` is on the stack. You _can_ pass `[b, c]` to reliably check\n    /// for either of those two rules (assuming that `a` isn't part of\n    /// some rule that includes other things starting with `\"x\"`).\n    ///\n    /// When `before` is given, this keeps scanning up the stack until\n    /// it finds a match that starts before that position.\n    ///\n    /// Note that you have to be careful when using this in tokenizers,\n    /// since it's relatively easy to introduce data dependencies that\n    /// break incremental parsing by using this method.\n    startOf(types, before) {\n        let state = this.state, frame = this.stack.length, { parser } = this.p;\n        for (;;) {\n            let force = parser.stateSlot(state, 5 /* ForcedReduce */);\n            let depth = force >> 19 /* ReduceDepthShift */, term = force & 65535 /* ValueMask */;\n            if (types.indexOf(term) > -1) {\n                let base = frame - (3 * (force >> 19 /* ReduceDepthShift */)), pos = this.stack[base + 1];\n                if (before == null || before > pos)\n                    return pos;\n            }\n            if (frame == 0)\n                return null;\n            if (depth == 0) {\n                frame -= 3;\n                state = this.stack[frame];\n            }\n            else {\n                frame -= 3 * (depth - 1);\n                state = parser.getGoto(this.stack[frame - 3], term, true);\n            }\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /// @internal\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* MaxNext */ << 1 || this.stack.length >= 120 /* DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.storeNode(0 /* Err */, stack.pos, stack.pos, 4, true);\n            stack.pushState(s, this.pos);\n            stack.shiftContext(nextStates[i]);\n            stack.score -= 200 /* Token */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /// @internal\n    forceReduce() {\n        let reduce = this.p.parser.stateSlot(this.state, 5 /* ForcedReduce */);\n        if ((reduce & 65536 /* ReduceFlag */) == 0)\n            return false;\n        if (!this.p.parser.validAction(this.state, reduce)) {\n            this.storeNode(0 /* Err */, this.reducePos, this.reducePos, 4, true);\n            this.score -= 100 /* Reduce */;\n        }\n        this.reduce(reduce);\n        return true;\n    }\n    /// @internal\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* Accepting */) && this.forceReduce()) { }\n        return this;\n    }\n    /// Check whether this state has no further actions (assumed to be a direct descendant of the\n    /// top state, since any other states must be able to continue\n    /// somehow). @internal\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* Actions */)] == 65535 /* End */ &&\n            !parser.stateSlot(this.state, 4 /* DefaultReduce */);\n    }\n    /// Restart the stack (put it back in its start state). Only safe\n    /// when this.stack.length == 3 (state is directly below the top\n    /// state). @internal\n    restart() {\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /// @internal\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /// Get the parser used by this stack.\n    get parser() { return this.p.parser; }\n    /// Test whether a given dialect (by numeric ID, as exported from\n    /// the terms file) is enabled.\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this.p.input, this));\n    }\n    reduceContext(term) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this.p.input, this));\n    }\n    /// @internal\n    emitContext() {\n        let cx = this.curContext;\n        if (!cx.tracker.strict)\n            return;\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -2)\n            this.buffer.push(cx.hash, this.reducePos, this.reducePos, -2);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.hash(context);\n    }\n}\nvar Recover;\n(function (Recover) {\n    Recover[Recover[\"Token\"] = 200] = \"Token\";\n    Recover[Recover[\"Reduce\"] = 100] = \"Reduce\";\n    Recover[Recover[\"MaxNext\"] = 4] = \"MaxNext\";\n    Recover[Recover[\"MaxInsertStackDepth\"] = 300] = \"MaxInsertStackDepth\";\n    Recover[Recover[\"DampenInsertStackDepth\"] = 120] = \"DampenInsertStackDepth\";\n})(Recover || (Recover = {}));\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(stack) {\n        this.stack = stack;\n        this.top = stack.state;\n        this.rest = stack.stack;\n        this.offset = this.rest.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* ValueMask */, depth = action >> 19 /* ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.rest == this.stack.stack)\n                this.rest = this.rest.slice();\n            this.rest.push(this.top, 0, 0);\n            this.offset += 3;\n        }\n        else {\n            this.offset -= (depth - 1) * 3;\n        }\n        let goto = this.stack.p.parser.getGoto(this.rest[this.offset - 3], term, true);\n        this.top = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack) {\n        return new StackBufferCursor(stack, stack.bufferBase + stack.buffer.length, stack.buffer.length);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\n/// Tokenizers write the tokens they read into instances of this class.\nclass Token {\n    constructor() {\n        /// The start of the token. This is set by the parser, and should not\n        /// be mutated by the tokenizer.\n        this.start = -1;\n        /// This starts at -1, and should be updated to a term id when a\n        /// matching token is found.\n        this.value = -1;\n        /// When setting `.value`, you should also set `.end` to the end\n        /// position of the token. (You'll usually want to use the `accept`\n        /// method.)\n        this.end = -1;\n    }\n    /// Accept a token, setting `value` and `end` to the given values.\n    accept(value, end) {\n        this.value = value;\n        this.end = end;\n    }\n}\n/// @internal\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, token, stack) { readToken(this.data, input, token, stack, this.id); }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// Exports that are used for `@external tokens` in the grammar should\n/// export an instance of this class.\nclass ExternalTokenizer {\n    /// Create a tokenizer. The first argument is the function that,\n    /// given an input stream and a token object,\n    /// [fills](#lezer.Token.accept) the token object if it recognizes a\n    /// token. `token.start` should be used as the start position to\n    /// scan from.\n    constructor(\n    /// @internal\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `token` when it matches a token.\nfunction readToken(data, input, token, stack, group) {\n    let state = 0, groupMask = 1 << group, dialect = stack.p.parser.dialect;\n    scan: for (let pos = token.start;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (token.value == -1 || token.value == term || stack.p.parser.overrides(term, token.value))) {\n                    token.accept(term, pos);\n                    break;\n                }\n            }\n        let next = input.get(pos++);\n        // Do a binary search on the state's edges\n        for (let low = 0, high = data[state + 2]; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1];\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                continue scan;\n            }\n        }\n        break;\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* BigValCode */) {\n                value = 65535 /* BigVal */;\n                break;\n            }\n            if (next >= 92 /* Gap2 */)\n                next--;\n            if (next >= 34 /* Gap1 */)\n                next--;\n            let digit = next - 32 /* Start */;\n            if (digit >= 46 /* Base */) {\n                digit -= 46 /* Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\n// FIXME find some way to reduce recovery work done when the input\n// doesn't match the grammar at all.\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.cursor(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 5)) : Math.min(tree.length, Math.max(cursor.from + 1, pos + 5));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        this.fragments = fragments;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            else if (start == pos && start + next.length <= this.safeTo) {\n                return start == pos && start >= this.safeFrom ? next : null;\n            }\n            if (next instanceof TreeBuffer) {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n            else {\n                this.index[last]++;\n                if (start + next.length >= pos) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n        }\n    }\n}\nclass CachedToken extends Token {\n    constructor() {\n        super(...arguments);\n        this.extended = -1;\n        this.mask = 0;\n        this.context = 0;\n    }\n    clear(start) {\n        this.start = start;\n        this.value = this.extended = -1;\n    }\n}\nconst dummyToken = new Token;\nclass TokenCache {\n    constructor(parser) {\n        this.tokens = [];\n        this.mainToken = dummyToken;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack, input) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack, input);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.value != 0 /* Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (!main) {\n            main = dummyToken;\n            main.start = stack.pos;\n            if (stack.pos == input.length)\n                main.accept(stack.p.parser.eofTerm, stack.pos);\n            else\n                main.accept(0 /* Err */, stack.pos + 1);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    updateCachedToken(token, tokenizer, stack, input) {\n        token.clear(stack.pos);\n        tokenizer.token(input, token, stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](input.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else if (stack.pos == input.length) {\n            token.accept(stack.p.parser.eofTerm, stack.pos);\n        }\n        else {\n            token.accept(0 /* Err */, stack.pos + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */);; i += 3) {\n                if (data[i] == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Other */)\n                            index = this.putAction(pair(data, i + 1), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nvar Rec;\n(function (Rec) {\n    Rec[Rec[\"Distance\"] = 5] = \"Distance\";\n    Rec[Rec[\"MaxRemainingPerStep\"] = 3] = \"MaxRemainingPerStep\";\n    Rec[Rec[\"MinBufferLengthPrune\"] = 200] = \"MinBufferLengthPrune\";\n    Rec[Rec[\"ForceReduceLimit\"] = 10] = \"ForceReduceLimit\";\n})(Rec || (Rec = {}));\n/// A parse context can be used for step-by-step parsing. After\n/// creating it, you repeatedly call `.advance()` until it returns a\n/// tree to indicate it has reached the end of the parse.\nclass Parse {\n    constructor(parser, input, startPos, context) {\n        this.parser = parser;\n        this.input = input;\n        this.startPos = startPos;\n        this.context = context;\n        // The position to which the parse has advanced.\n        this.pos = 0;\n        this.recovering = 0;\n        this.nextStackID = 0x2654;\n        this.nested = null;\n        this.nestEnd = 0;\n        this.nestWrap = null;\n        this.reused = [];\n        this.tokens = new TokenCache(parser);\n        this.topTerm = parser.top[1];\n        this.stacks = [Stack.start(this, parser.top[0], this.startPos)];\n        let fragments = context === null || context === void 0 ? void 0 : context.fragments;\n        this.fragments = fragments && fragments.length ? new FragmentCursor(fragments) : null;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        if (this.nested) {\n            let result = this.nested.advance();\n            this.pos = this.nested.pos;\n            if (result) {\n                this.finishNested(this.stacks[0], result);\n                this.nested = null;\n            }\n            return null;\n        }\n        let stacks = this.stacks, pos = this.pos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        let maybeNest;\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], nest;\n            for (;;) {\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (nest = this.checkNest(stack)) {\n                    if (!maybeNest || maybeNest.stack.score < stack.score)\n                        maybeNest = nest;\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.mainToken;\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (maybeNest) {\n            this.startNested(maybeNest);\n            return null;\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished)\n                return this.stackToTree(finished);\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + this.parser.getName(this.tokens.mainToken.value));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished)\n                return this.stackToTree(finished.forceAll());\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 200 /* MinBufferLengthPrune */ && other.buffer.length > 200 /* MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n        }\n        this.pos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.pos)\n                this.pos = newStacks[i].pos;\n        return null;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { input, parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.contextHash || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* ValueMask */)})`);\n            return true;\n        }\n        let actions = this.tokens.getActions(stack, input);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            localStack.apply(action, term, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            let nest = this.checkNest(stack);\n            if (nest)\n                return nest;\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        let maybeNest;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done) {\n                    if (done !== true)\n                        maybeNest = done;\n                    continue;\n                }\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done) {\n                    if (done !== true)\n                        maybeNest = done;\n                    break;\n                }\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.input.length > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        if (finished)\n            return finished;\n        if (maybeNest)\n            for (let s of this.stacks)\n                if (s.score > maybeNest.stack.score) {\n                    maybeNest = undefined;\n                    break;\n                }\n        if (maybeNest)\n            this.startNested(maybeNest);\n        return null;\n    }\n    forceFinish() {\n        let stack = this.stacks[0].split();\n        if (this.nested)\n            this.finishNested(stack, this.nested.forceFinish());\n        return this.stackToTree(stack.forceAll());\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack, pos = stack.pos) {\n        if (this.parser.context)\n            stack.emitContext();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.startPos,\n            length: pos - this.startPos,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    checkNest(stack) {\n        let info = this.parser.findNested(stack.state);\n        if (!info)\n            return null;\n        let spec = info.value;\n        if (typeof spec == \"function\")\n            spec = spec(this.input, stack);\n        return spec ? { stack, info, spec } : null;\n    }\n    startNested(nest) {\n        let { stack, info, spec } = nest;\n        this.stacks = [stack];\n        this.nestEnd = this.scanForNestEnd(stack, info.end, spec.filterEnd);\n        this.nestWrap = typeof spec.wrapType == \"number\" ? this.parser.nodeSet.types[spec.wrapType] : spec.wrapType || null;\n        if (spec.startParse) {\n            this.nested = spec.startParse(this.input.clip(this.nestEnd), stack.pos, this.context);\n        }\n        else {\n            this.finishNested(stack);\n        }\n    }\n    scanForNestEnd(stack, endToken, filter) {\n        for (let pos = stack.pos; pos < this.input.length; pos++) {\n            dummyToken.start = pos;\n            dummyToken.value = -1;\n            endToken.token(this.input, dummyToken, stack);\n            if (dummyToken.value > -1 && (!filter || filter(this.input.read(pos, dummyToken.end))))\n                return pos;\n        }\n        return this.input.length;\n    }\n    finishNested(stack, tree) {\n        if (this.nestWrap)\n            tree = new Tree(this.nestWrap, tree ? [tree] : [], tree ? [0] : [], this.nestEnd - stack.pos);\n        else if (!tree)\n            tree = new Tree(NodeType.none, [], [], this.nestEnd - stack.pos);\n        let info = this.parser.findNested(stack.state);\n        stack.useNode(tree, this.parser.getGoto(stack.state, info.placeholder, true));\n        if (verbose)\n            console.log(this.stackID(stack) + ` (via unnest)`);\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/// Context trackers are used to track stateful context (such as\n/// indentation in the Python grammar, or parent elements in the XML\n/// grammar) needed by external tokenizers. You declare them in a\n/// grammar file as `@context exportName from \"module\"`.\n///\n/// Context values should be immutable, and can be updated (replaced)\n/// on shift or reduce actions.\nclass ContextTracker {\n    /// The export used in a `@context` declaration should be of this\n    /// type.\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash;\n        this.strict = spec.strict !== false;\n    }\n}\n/// A parser holds the parse tables for a given grammar, as generated\n/// by `lezer-generator`.\nclass Parser {\n    /// @internal\n    constructor(spec) {\n        /// @internal\n        this.bufferLength = DefaultBufferLength;\n        /// @internal\n        this.strict = false;\n        this.cachedDialect = null;\n        if (spec.version != 13 /* Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${13 /* Version */})`);\n        let tokenArray = decodeArray(spec.tokenData);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        this.context = spec.context;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.specialized = new Uint16Array(spec.specialized ? spec.specialized.length : 0);\n        this.specializers = [];\n        if (spec.specialized)\n            for (let i = 0; i < spec.specialized.length; i++) {\n                this.specialized[i] = spec.specialized[i].term;\n                this.specializers[i] = spec.specialized[i].get;\n            }\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.nested = (spec.nested || []).map(([name, value, endToken, placeholder]) => {\n            return { name, value, end: new TokenGroup(decodeArray(endToken), 0), placeholder };\n        });\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    /// Parse a given string or stream.\n    parse(input, startPos = 0, context = {}) {\n        if (typeof input == \"string\")\n            input = stringInput(input);\n        let cx = new Parse(this, input, startPos, context);\n        for (;;) {\n            let done = cx.advance();\n            if (done)\n                return done;\n        }\n    }\n    /// Start an incremental parse.\n    startParse(input, startPos = 0, context = {}) {\n        if (typeof input == \"string\")\n            input = stringInput(input);\n        return new Parse(this, input, startPos, context);\n    }\n    /// Get a goto table entry @internal\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /// Check if this state has an action for a given terminal @internal\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /// @internal\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* Size */) + slot];\n    }\n    /// @internal\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* Flags */) & flag) > 0;\n    }\n    /// @internal\n    findNested(state) {\n        let flags = this.stateSlot(state, 0 /* Flags */);\n        return flags & 4 /* StartNest */ ? this.nested[flags >> 10 /* NestShift */] : null;\n    }\n    /// @internal\n    validAction(state, action) {\n        if (action == this.stateSlot(state, 4 /* DefaultReduce */))\n            return true;\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    return false;\n            }\n            if (action == pair(this.data, i + 1))\n                return true;\n        }\n    }\n    /// Get the states that can follow this one through shift actions or\n    /// goto jumps. @internal\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /// @internal\n    overrides(token, prev) {\n        let iPrev = findOffset(this.data, this.tokenPrecTable, prev);\n        return iPrev < 0 || findOffset(this.data, this.tokenPrecTable, token) < iPrev;\n    }\n    /// Configure the parser. Returns a new parser instance that has the\n    /// given settings modified. Settings not provided in `config` are\n    /// kept from the original parser.\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(Parser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.nested)\n            copy.nested = this.nested.map(obj => {\n                if (!Object.prototype.hasOwnProperty.call(config.nested, obj.name))\n                    return obj;\n                return { name: obj.name, value: config.nested[obj.name], end: obj.end, placeholder: obj.placeholder };\n            });\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /// Returns the name associated with a given term. This will only\n    /// work for all terms when the parser was generated with the\n    /// `--names` option. By default, only the names of tagged terms are\n    /// stored.\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /// The eof term id is always allocated directly after the node\n    /// types. @internal\n    get eofTerm() { return this.maxNode + 1; }\n    /// Tells you whether this grammar has any nested grammars.\n    get hasNested() { return this.nested.length > 0; }\n    /// The type of top node produced by the parser.\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /// @internal\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /// @internal\n    parseDialect(dialect) {\n        if (this.cachedDialect && this.cachedDialect.source == dialect)\n            return this.cachedDialect;\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return this.cachedDialect = new Dialect(dialect, flags, disabled);\n    }\n    /// (used by the output of the parser generator) @internal\n    static deserialize(spec) {\n        return new Parser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        if (stack.pos == stack.p.input.length &&\n            stack.p.parser.stateFlag(stack.state, 2 /* Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\n\nexport { ContextTracker, ExternalTokenizer, Parser, Stack, Token };\n//# sourceMappingURL=index.es.js.map\n","export default \":host ::ng-deep .cm-wrap {\\n  border: 1px solid lightgray !important;\\n}\\n:host ::ng-deep .cm-focused {\\n  outline-color: gray !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxzQ0FBQTtBQUFKO0FBR0U7RUFDRSw4QkFBQTtBQURKIiwiZmlsZSI6ImNvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAge1xuICAuY20td3JhcCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuY20tZm9jdXNlZCB7XG4gICAgb3V0bGluZS1jb2xvcjogZ3JheSAhaW1wb3J0YW50O1xuICB9XG59XG4iXX0= */\";","import { ViewPlugin, PluginField, EditorView } from '@codemirror/view';\nimport { Facet } from '@codemirror/state';\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            // FIXME drop on next breaking release\n            if (p.class)\n                p.dom.classList.add(p.class);\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                // FIXME drop on next breaking release\n                if (p.class)\n                    p.dom.classList.add(p.class);\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => ({ top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() }))\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: [panelPlugin, baseTheme]\n});\n\nexport { getPanel, panels, showPanel };\n","import { ViewPlugin, Direction, EditorView, logException } from '@codemirror/view';\nimport { Facet, StateEffect, StateField, MapMode } from '@codemirror/state';\n\nconst ios = typeof navigator != \"undefined\" &&\n    !/Edge\\/(\\d+)/.exec(navigator.userAgent) && /Apple Computer/.test(navigator.vendor) &&\n    (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2);\nconst Outside = \"-10000px\";\nconst tooltipPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.input = view.state.facet(showTooltip);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(tp => this.createTooltip(tp));\n    }\n    update(update) {\n        let input = update.state.facet(showTooltip);\n        if (input == this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n        }\n        else {\n            let tooltips = input.filter(x => x);\n            let views = [];\n            for (let i = 0; i < tooltips.length; i++) {\n                let tip = tooltips[i], known = -1;\n                if (!tip)\n                    continue;\n                for (let i = 0; i < this.tooltips.length; i++) {\n                    let other = this.tooltips[i];\n                    if (other && other.create == tip.create)\n                        known = i;\n                }\n                if (known < 0) {\n                    views[i] = this.createTooltip(tip);\n                }\n                else {\n                    let tooltipView = views[i] = this.tooltipViews[known];\n                    if (tooltipView.update)\n                        tooltipView.update(update);\n                }\n            }\n            for (let t of this.tooltipViews)\n                if (views.indexOf(t) < 0)\n                    t.dom.remove();\n            this.input = input;\n            this.tooltips = tooltips;\n            this.tooltipViews = views;\n            this.maybeMeasure();\n        }\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        // FIXME drop this on the next breaking release\n        if (tooltip.class)\n            tooltipView.dom.classList.add(tooltip.class);\n        tooltipView.dom.style.top = Outside;\n        this.view.dom.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        for (let { dom } of this.tooltipViews)\n            dom.remove();\n    }\n    readMeasure() {\n        return {\n            editor: this.view.dom.getBoundingClientRect(),\n            pos: this.tooltips.map(t => this.view.coordsAtPos(t.pos)),\n            size: this.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            innerWidth: window.innerWidth,\n            innerHeight: window.innerHeight\n        };\n    }\n    writeMeasure(measured) {\n        let { editor } = measured;\n        for (let i = 0; i < this.tooltipViews.length; i++) {\n            let tooltip = this.tooltips[i], tView = this.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= editor.top || pos.top >= editor.bottom || pos.right <= editor.left || pos.left >= editor.right) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let left = this.view.textDirection == Direction.LTR ? Math.min(pos.left, measured.innerWidth - width)\n                : Math.max(0, pos.left - width);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide &&\n                (above ? pos.top - (size.bottom - size.top) < 0 : pos.bottom + (size.bottom - size.top) > measured.innerHeight))\n                above = !above;\n            if (ios) {\n                dom.style.top = ((above ? pos.top - height : pos.bottom) - editor.top) + \"px\";\n                dom.style.left = (left - editor.left) + \"px\";\n                dom.style.position = \"absolute\";\n            }\n            else {\n                dom.style.top = (above ? pos.top - height : pos.bottom) + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.tooltips.length) {\n            if (this.view.inView || this.inView)\n                this.view.requestMeasure(this.measureReq);\n            this.inView = this.view.inView;\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = EditorView.baseTheme({\n    \".cm-tooltip\": {\n        position: \"fixed\",\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #ddd\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n// FIXME backward-compat shim. Delete on next major version.\n/**\n@internal\n*/\nfunction tooltips() {\n    return [];\n}\n/**\nBehavior by which an extension can provide a tooltip to be shown.\n*/\nconst showTooltip = Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst HoverTime = 750, HoverMaxDist = 6;\nclass HoverPlugin {\n    constructor(view, source, field, setHover) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.lastMouseMove = null;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let now = Date.now(), lastMove = this.lastMouseMove;\n        if (now - lastMove.timeStamp < HoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, HoverTime - (now - lastMove.timeStamp));\n        else\n            this.startHover();\n    }\n    startHover() {\n        var _a;\n        clearTimeout(this.restartTimeout);\n        let lastMove = this.lastMouseMove;\n        let coords = { x: lastMove.clientX, y: lastMove.clientY };\n        let pos = this.view.contentDOM.contains(lastMove.target)\n            ? this.view.posAtCoords(coords) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || coords.y < posCoords.top || coords.y > posCoords.bottom ||\n            coords.x < posCoords.left - this.view.defaultCharacterWidth ||\n            coords.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (coords.x < posCoords.left ? -rtl : rtl));\n        if ((_a = open) === null || _a === void 0 ? void 0 : _a.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMouseMove = event;\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, HoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(event.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords({ x: event.clientX, y: event.clientY }) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, HoverMaxDist))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nEnable a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos` return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is—it will be -1 if the\npointer is before the position, 1 if after the position.\n*/\nfunction hoverTooltip(source, options = {}) {\n    const setHover = StateEffect.define();\n    const hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection)))\n                return null;\n            for (let effect of tr.effects)\n                if (effect.is(setHover))\n                    return effect.value;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                return copy;\n            }\n            return value;\n        },\n        provide: f => showTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover))\n    ];\n}\n\nexport { hoverTooltip, showTooltip, tooltips };\n","import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    @internal FIXME remove on next major version\n    */\n    at(pos) { return this.range(pos); }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#999\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n        baseTheme\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n        this.syncGutters();\n    }\n    update(update) {\n        if (this.updateGutters(update))\n            this.syncGutters();\n    }\n    syncGutters() {\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n        this.view.viewportLines(line => {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                return;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }, 0);\n        for (let cx of contexts)\n            cx.finish();\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters)\n                g.dom.remove();\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        this.dom.remove();\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n        if (value.gutters.length == 0 || !value.fixed)\n            return null;\n        return value.view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport) {\n        this.gutter = gutter;\n        this.localMarkers = [];\n        this.i = 0;\n        this.height = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            let elt = gutter.elements[this.i];\n            if (sameMarkers(localMarkers, elt.markers))\n                localMarkers = elt.markers;\n            elt.update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i)\n            gutter.dom.removeChild(gutter.elements.pop().dom);\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to);\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.dom = document.createElement(\"div\");\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (this.markers != markers) {\n            this.markers = markers;\n            for (let ch; ch = this.dom.lastChild;)\n                ch.remove();\n            let cls = \"cm-gutterElement\";\n            for (let m of markers) {\n                if (m.toDOM)\n                    this.dom.appendChild(m.toDOM(view));\n                let c = m.elementClass;\n                if (c)\n                    cls += \" \" + c;\n            }\n            this.dom.className = cls;\n        }\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM(_view) { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/gutter({\n    class: \"cm-lineNumbers\",\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    }\n});\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n    eq() { return true; }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges)\n        if (range.empty) {\n            let linePos = state.doc.lineAt(range.head).from;\n            if (linePos > last) {\n                last = linePos;\n                marks.push(activeLineGutterMarker.range(linePos));\n            }\n        }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nexport { GutterMarker, gutter, gutterLineClass, gutters, highlightActiveLineGutter, lineNumberMarkers, lineNumbers };\n","import { ExternalTokenizer, Parser, NodeProp } from 'lezer';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 269,\n  incdec = 1,\n  incdecPrefix = 2,\n  templateContent = 270,\n  templateDollarBrace = 271,\n  templateEnd = 272,\n  insertSemi = 273,\n  TSExtends = 3,\n  Dialect_ts = 1;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst newline = [10, 13, 8232, 8233];\nconst space = [9, 11, 12, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200, 8201, 8202, 8239, 8287, 12288];\n\nconst braceR = 125, braceL = 123, semicolon = 59, slash = 47, star = 42,\n      plus = 43, minus = 45, dollar = 36, backtick = 96, backslash = 92;\n\n// FIXME this should technically enter block comments\nfunction newlineBefore(input, pos) {\n  for (let i = pos - 1; i >= 0; i--) {\n    let prev = input.get(i);\n    if (newline.indexOf(prev) > -1) return true\n    if (space.indexOf(prev) < 0) break\n  }\n  return false\n}\n\nconst insertSemicolon = new ExternalTokenizer((input, token, stack) => {\n  let pos = token.start, next = input.get(pos);\n  if ((next == braceR || next == -1 || newlineBefore(input, pos)) && stack.canShift(insertSemi))\n    token.accept(insertSemi, token.start);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, token, stack) => {\n  let pos = token.start, next = input.get(pos++);\n  if (space.indexOf(next) > -1 || newline.indexOf(next) > -1) return\n  if (next == slash) {\n    let after = input.get(pos++);\n    if (after == slash || after == star) return\n  }\n  if (next != braceR && next != semicolon && next != -1 && !newlineBefore(input, token.start) &&\n      stack.canShift(noSemi))\n    token.accept(noSemi, token.start);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, token, stack) => {\n  let pos = token.start, next = input.get(pos);\n  if ((next == plus || next == minus) && next == input.get(pos + 1)) {\n    let mayPostfix = !newlineBefore(input, token.start) && stack.canShift(incdec);\n    token.accept(mayPostfix ? incdec : incdecPrefix, pos + 2);\n  }\n}, {contextual: true});\n\nconst template = new ExternalTokenizer((input, token) => {\n  let pos = token.start, afterDollar = false;\n  for (;;) {\n    let next = input.get(pos++);\n    if (next < 0) {\n      if (pos - 1 > token.start) token.accept(templateContent, pos - 1);\n      break\n    } else if (next == backtick) {\n      if (pos == token.start + 1) token.accept(templateEnd, pos);\n      else token.accept(templateContent, pos - 1);\n      break\n    } else if (next == braceL && afterDollar) {\n      if (pos == token.start + 2) token.accept(templateDollarBrace, pos);\n      else token.accept(templateContent, pos - 2);\n      break\n    } else if (next == 10 /* \"\\n\" */ && pos > token.start + 1) {\n      // Break up template strings on lines, to avoid huge tokens\n      token.accept(templateContent, pos);\n      break\n    } else if (next == backslash && pos != input.length) {\n      pos++;\n    }\n    afterDollar = next == dollar;\n  }\n});\n\nfunction tsExtends(value, stack) {\n  return value == \"extends\" && stack.dialectEnabled(Dialect_ts) ? TSExtends : -1\n}\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:16, as:21, from:25, default:30, async:35, function:36, this:46, true:54, false:54, void:58, typeof:62, null:76, super:78, new:112, await:129, yield:131, delete:132, class:142, extends:144, public:181, private:181, protected:181, readonly:183, in:202, instanceof:204, const:206, import:238, keyof:289, unique:293, infer:299, is:333, abstract:353, implements:355, type:357, let:360, var:362, interface:369, enum:373, namespace:379, module:381, declare:385, global:389, for:410, of:419, while:422, with:426, do:430, if:434, else:436, switch:440, case:446, try:452, catch:454, finally:456, return:460, throw:464, break:468, continue:472, debugger:476};\nconst spec_word = {__proto__:null,async:99, get:101, set:103, public:151, private:151, protected:151, static:153, abstract:155, readonly:159, new:337};\nconst spec_LessThan = {__proto__:null,\"<\":119};\nconst parser = Parser.deserialize({\n  version: 13,\n  states: \"$,lO]QYOOO&zQ!LdO'#CgO'ROSO'#DRO)ZQYO'#DWO)kQYO'#DcO)rQYO'#DmO-iQYO'#DsOOQO'#ET'#ETO-|QWO'#ESO.RQWO'#ESO0QQ!LdO'#IgO2hQ!LdO'#IhO3UQWO'#EqO3ZQpO'#FWOOQ!LS'#Ey'#EyO3cO!bO'#EyO3qQWO'#F_O4{QWO'#F^OOQ!LS'#Ih'#IhOOQ!LQ'#Ig'#IgOOQQ'#JR'#JRO5QQWO'#HeO5VQ!LYO'#HfOOQQ'#I['#I[OOQQ'#Hg'#HgQ]QYOOO)rQYO'#DeO5_QWO'#GRO5dQ#tO'#ClO5rQWO'#ERO5}Q#tO'#ExO6iQWO'#GRO6nQWO'#GVO6yQWO'#GVO7XQWO'#GYO7XQWO'#GZO7XQWO'#G]O5_QWO'#G`O7xQWO'#GcO9WQWO'#CcO9hQWO'#GpO9pQWO'#GvO9pQWO'#GxO]QYO'#GzO9pQWO'#G|O9pQWO'#HPO9uQWO'#HVO9zQ!LZO'#HZO)rQYO'#H]O:VQ!LZO'#H_O:bQ!LZO'#HaO5VQ!LYO'#HcO)rQYO'#IjOOOS'#Hh'#HhO:mOSO,59mOOQ!LS,59m,59mO=OQbO'#CgO=YQYO'#HiO=gQWO'#IlO?fQbO'#IlO'^QYO'#IlO?mQWO,59rO@TQ&jO'#D]O@|QWO'#ETOAZQWO'#IvOAfQWO'#IuOAnQWO,5:qOAsQWO'#ItOAzQWO'#DtO5dQ#tO'#EROBYQWO'#EROBeQ`O'#ExOOQ!LS,59},59}OBmQYO,59}ODkQ!LdO,5:XOEXQWO,5:_OErQ!LYO'#IsO6nQWO'#IrOEyQWO'#IrOFRQWO,5:pOFWQWO'#IrOFfQYO,5:nOHcQWO'#EPOIjQWO,5:nOJvQWO'#DgOJ}QYO'#DlOKXQ&jO,5:wO)rQYO,5:wOOQQ'#Ei'#EiOOQQ'#Ek'#EkO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xO)rQYO,5:xOOQQ'#Eo'#EoOK^QYO,5;YOOQ!LS,5;_,5;_OOQ!LS,5;`,5;`OMZQWO,5;`OOQ!LS,5;a,5;aO)rQYO'#HsOM`Q!LYO,5;zOMzQWO,5:xO)rQYO,5;]ONdQpO'#IzONRQpO'#IzONkQpO'#IzON|QpO,5;hOOQO,5;r,5;rO! [QYO'#FYOOOO'#Hr'#HrO3cO!bO,5;eO! cQpO'#F[OOQ!LS,5;e,5;eO!!PQ,UO'#CqOOQ!LS'#Ct'#CtO!!dQWO'#CtO!!zQ#tO,5;wO!#RQWO,5;yO!$[QWO'#FiO!$iQWO'#FjO!$nQWO'#FnO!%pQ&jO'#FrO!&cQ,UO'#IeOOQ!LS'#Ie'#IeO!&mQWO'#IdO!&{QWO'#IcOOQ!LS'#Cr'#CrOOQ!LS'#Cx'#CxO!'TQWO'#CzOIoQWO'#FaOIoQWO'#FcO!'YQWO'#FeOIeQWO'#FfO!'_QWO'#FlOIoQWO'#FqO!'dQWO'#EUO!'{QWO,5;xO]QYO,5>POOQQ'#I_'#I_OOQQ,5>Q,5>QOOQQ-E;e-E;eO!)wQ!LdO,5:POOQ!LQ'#Co'#CoO!*hQ#tO,5<mOOQO'#Ce'#CeO!*yQWO'#CpO!+RQ!LYO'#I`O4{QWO'#I`O9uQWO,59WO!+aQpO,59WO!+iQ#tO,59WO5dQ#tO,59WO!+tQWO,5:nO!+|QWO'#GoO!,UQWO'#JVO)rQYO,5;bOKXQ&jO,5;dO!,^QWO,5=YO!,cQWO,5=YO!,hQWO,5=YO5VQ!LYO,5=YO5_QWO,5<mO!,vQWO'#EVO!-XQ&jO'#EWOOQ!LQ'#It'#ItO!-jQ!LYO'#JSO5VQ!LYO,5<qO7XQWO,5<wOOQO'#Cq'#CqO!-uQpO,5<tO!-}Q#tO,5<uO!.YQWO,5<wO!._Q`O,5<zO9uQWO'#GeO5_QWO'#GgO!.gQWO'#GgO5dQ#tO'#GjO!.lQWO'#GjOOQQ,5<},5<}O!.qQWO'#GkO!.yQWO'#ClO!/OQWO,58}O!/YQWO,58}O!1XQYO,58}OOQQ,58},58}O!1fQ!LYO,58}O)rQYO,58}O!1qQYO'#GrOOQQ'#Gs'#GsOOQQ'#Gt'#GtO]QYO,5=[O!2RQWO,5=[O)rQYO'#DsO]QYO,5=bO]QYO,5=dO!2WQWO,5=fO]QYO,5=hO!2]QWO,5=kO!2bQYO,5=qOOQQ,5=u,5=uO)rQYO,5=uO5VQ!LYO,5=wOOQQ,5=y,5=yO!6`QWO,5=yOOQQ,5={,5={O!6`QWO,5={OOQQ,5=},5=}O!6eQ`O,5?UOOOS-E;f-E;fOOQ!LS1G/X1G/XO!6jQbO,5>TO)rQYO,5>TOOQO-E;g-E;gO!6tQWO,5?WO!6|QbO,5?WO!7TQWO,5?aOOQ!LS1G/^1G/^O!7]QpO'#DPOOQO'#In'#InO)rQYO'#InO!7zQpO'#InO!8iQpO'#D^O!8zQ&jO'#D^O!;SQYO'#D^O!;ZQWO'#ImO!;cQWO,59wO!;hQWO'#EXO!;vQWO'#IwO!<OQWO,5:rO!<fQ&jO'#D^O)rQYO,5?bO!<pQWO'#HnO!7TQWO,5?aOOQ!LQ1G0]1G0]O!=vQ&jO'#DwOOQ!LS,5:`,5:`O)rQYO,5:`OHcQWO,5:`O!=}QWO,5:`O9uQWO,5:mO!+aQpO,5:mO!+iQ#tO,5:mO5dQ#tO,5:mOOQ!LS1G/i1G/iOOQ!LS1G/y1G/yOOQ!LQ'#EO'#EOO)rQYO,5?_O!>YQ!LYO,5?_O!>kQ!LYO,5?_O!>rQWO,5?^O!>zQWO'#HpO!>rQWO,5?^OOQ!LQ1G0[1G0[O6nQWO,5?^OOQ!LS1G0Y1G0YO!?fQ!LdO1G0YO!@VQ!LbO,5:kOOQ!LS'#Fh'#FhO!@sQ!LdO'#IeOFfQYO1G0YO!BrQ#tO'#IoO!B|QWO,5:RO!CRQbO'#IpO)rQYO'#IpO!C]QWO,5:WOOQ!LS'#DP'#DPOOQ!LS1G0c1G0cO!CbQWO1G0cO!EsQ!LdO1G0dO!EzQ!LdO1G0dO!H_Q!LdO1G0dO!HfQ!LdO1G0dO!JmQ!LdO1G0dO!KQQ!LdO1G0dO!MqQ!LdO1G0dO!MxQ!LdO1G0dO#!]Q!LdO1G0dO#!dQ!LdO1G0dO#$XQ!LdO1G0dO#'RQ7^O'#CgO#(|Q7^O1G0tO#*wQ7^O'#IhOOQ!LS1G0z1G0zO#+[Q!LdO,5>_OOQ!LQ-E;q-E;qO#+{Q!LdO1G0dOOQ!LS1G0d1G0dO#-}Q!LdO1G0wO#.nQpO,5;jO#.sQpO,5;kO#.xQpO'#FRO#/^QWO'#FQOOQO'#I{'#I{OOQO'#Hq'#HqO#/cQpO1G1SOOQ!LS1G1S1G1SOOQO1G1]1G1]O#/qQ7^O'#IgO#/{QWO,5;tOK^QYO,5;tOOOO-E;p-E;pOOQ!LS1G1P1G1POOQ!LS,5;v,5;vO#0QQpO,5;vOOQ!LS,59`,59`O)rQYO1G1cOKXQ&jO'#HuO#0VQWO,5<[OOQ!LS,5<X,5<XOOQO'#F|'#F|OIoQWO,5<gOOQO'#GO'#GOOIoQWO,5<iOIoQWO,5<kOOQO1G1e1G1eO#0bQ`O'#CoO#0uQ`O,5<TO#0|QWO'#JOO5_QWO'#JOO#1[QWO,5<VOIoQWO,5<UO#1aQ`O'#FhO#1nQ`O'#JPO#1xQWO'#JPOHcQWO'#JPO#1}QWO,5<YOOQ!LQ'#Db'#DbO#2SQWO'#FkO#2_QpO'#FsO!%kQ&jO'#FsO!%kQ&jO'#FuO#2pQWO'#FvO!'_QWO'#FyOOQO'#Hw'#HwO#2uQ&jO,5<^OOQ!LS,5<^,5<^O#2|Q&jO'#FsO#3[Q&jO'#FtO#3dQ&jO'#FtOOQ!LS,5<l,5<lOIoQWO,5?OOIoQWO,5?OO#3iQWO'#HxO#3tQWO,5>}OOQ!LS'#Cg'#CgO#4hQ#tO,59fOOQ!LS,59f,59fO#5ZQ#tO,5;{O#5|Q#tO,5;}O#6WQWO,5<POOQ!LS,5<Q,5<QO#6]QWO,5<WO#6bQ#tO,5<]OFfQYO1G1dO#6rQWO1G1dOOQQ1G3k1G3kOOQ!LS1G/k1G/kOMZQWO1G/kOOQQ1G2X1G2XOHcQWO1G2XO)rQYO1G2XOHcQWO1G2XO#6wQWO1G2XO#7VQWO,59[O#8]QWO'#EPOOQ!LQ,5>z,5>zO#8gQ!LYO,5>zOOQQ1G.r1G.rO9uQWO1G.rO!+aQpO1G.rO!+iQ#tO1G.rO#8uQWO1G0YO#8zQWO'#CgO#9VQWO'#JWO#9_QWO,5=ZO#9dQWO'#JWO#9iQWO'#IQO#9wQWO,5?qO#:PQbO1G0|OOQ!LS1G1O1G1OO5_QWO1G2tO#:WQWO1G2tO#:]QWO1G2tO#:bQWO1G2tOOQQ1G2t1G2tO#:gQ#tO1G2XO6nQWO'#IuO6nQWO'#EXO6nQWO'#HzO#:xQ!LYO,5?nOOQQ1G2]1G2]O!.YQWO1G2cOHcQWO1G2`O#;TQWO1G2`OOQQ1G2a1G2aOHcQWO1G2aO#;YQWO1G2aO#;bQ&jO'#G_OOQQ1G2c1G2cO!%kQ&jO'#H|O!._Q`O1G2fOOQQ1G2f1G2fOOQQ,5=P,5=PO#;jQ#tO,5=RO5_QWO,5=RO#2pQWO,5=UO4{QWO,5=UO!+aQpO,5=UO!+iQ#tO,5=UO5dQ#tO,5=UO#;{QWO'#JUO#<WQWO,5=VOOQQ1G.i1G.iO#<]Q!LYO1G.iO#<hQWO1G.iO!'TQWO1G.iO5VQ!LYO1G.iO#<mQbO,5?sO#<wQWO,5?sO#=SQYO,5=^O#=ZQWO,5=^O6nQWO,5?sOOQQ1G2v1G2vO]QYO1G2vOOQQ1G2|1G2|OOQQ1G3O1G3OO9pQWO1G3QO#=`QYO1G3SO#AWQYO'#HROOQQ1G3V1G3VO9uQWO1G3]O#AeQWO1G3]O5VQ!LYO1G3aOOQQ1G3c1G3cOOQ!LQ'#Fo'#FoO5VQ!LYO1G3eO5VQ!LYO1G3gOOOS1G4p1G4pO#AmQ`O,5;zO#AuQbO1G3oO#BPQWO1G4rO#BXQWO1G4{O#BaQWO,5?YOK^QYO,5:sO6nQWO,5:sO9uQWO,59xOK^QYO,59xO!+aQpO,59xO#BfQ7^O,59xOOQO,5:s,5:sO#BpQ&jO'#HjO#CWQWO,5?XOOQ!LS1G/c1G/cO#C`Q&jO'#HoO#CtQWO,5?cOOQ!LQ1G0^1G0^O!8zQ&jO,59xO#C|QbO1G4|OOQO,5>Y,5>YO6nQWO,5>YOOQO-E;l-E;lO#DWQ!LrO'#D|O!%kQ&jO'#DxOOQO'#Hm'#HmO#DrQ&jO,5:cOOQ!LS,5:c,5:cO#DyQ&jO'#DxO#EXQ&jO'#D|O#EmQ&jO'#D|O!%kQ&jO'#D|O#EwQWO1G/zO#E|Q`O1G/zOOQ!LS1G/z1G/zO)rQYO1G/zOHcQWO1G/zOOQ!LS1G0X1G0XO9uQWO1G0XO!+aQpO1G0XO!+iQ#tO1G0XO#FTQ!LdO1G4yO)rQYO1G4yO#FeQ!LYO1G4yO#FvQWO1G4xO6nQWO,5>[OOQO,5>[,5>[O#GOQWO,5>[OOQO-E;n-E;nO#FvQWO1G4xO#G^Q!LdO,59fO#I]Q!LdO,5;{O#K_Q!LdO,5;}O#MaQ!LdO,5<]OOQ!LS7+%t7+%tO$ iQ!LdO7+%tO$!YQWO'#HkO$!dQWO,5?ZOOQ!LS1G/m1G/mO$!lQYO'#HlO$!yQWO,5?[O$#RQbO,5?[OOQ!LS1G/r1G/rOOQ!LS7+%}7+%}O$#]Q7^O,5:XO)rQYO7+&`O$#gQ7^O,5:POOQO1G1U1G1UOOQO1G1V1G1VO$#tQMhO,5;mOK^QYO,5;lOOQO-E;o-E;oOOQ!LS7+&n7+&nOOQO7+&w7+&wOOOO1G1`1G1`O$$PQWO1G1`OOQ!LS1G1b1G1bO$$UQ!LdO7+&}OOQ!LS,5>a,5>aO$$uQWO,5>aOOQ!LS1G1v1G1vP$$zQWO'#HuPOQ!LS-E;s-E;sO$%kQ#tO1G2RO$&^Q#tO1G2TO$&hQ#tO1G2VOOQ!LS1G1o1G1oO$&oQWO'#HtO$&}QWO,5?jO$&}QWO,5?jO$'VQWO,5?jO$'bQWO,5?jOOQO1G1q1G1qO$'pQ#tO1G1pO$(QQWO'#HvO$(bQWO,5?kOHcQWO,5?kO$(jQ`O,5?kOOQ!LS1G1t1G1tO5VQ!LYO,5<_O5VQ!LYO,5<`O$(tQWO,5<`O#2kQWO,5<`O!+aQpO,5<_O$(yQWO,5<aO5VQ!LYO,5<bO$(tQWO,5<eOOQO-E;u-E;uOOQ!LS1G1x1G1xO!%kQ&jO,5<_O$)RQWO,5<`O!%kQ&jO,5<aO!%kQ&jO,5<`O$)^Q#tO1G4jO$)hQ#tO1G4jOOQO,5>d,5>dOOQO-E;v-E;vOKXQ&jO,59hO)rQYO,59hO$)uQWO1G1kOIoQWO1G1rO$)zQ!LdO7+'OOOQ!LS7+'O7+'OOFfQYO7+'OOOQ!LS7+%V7+%VO$*kQ`O'#JQO#EwQWO7+'sO$*uQWO7+'sO$*}Q`O7+'sOOQQ7+'s7+'sOHcQWO7+'sO)rQYO7+'sOHcQWO7+'sOOQO1G.v1G.vO$+XQ!LbO'#CgO$+iQ!LbO,5<cO$,WQWO,5<cOOQ!LQ1G4f1G4fOOQQ7+$^7+$^O9uQWO7+$^O!+aQpO7+$^OFfQYO7+%tO$,]QWO'#IPO$,hQWO,5?rOOQO1G2u1G2uO5_QWO,5?rOOQO,5>l,5>lOOQO-E<O-E<OOOQ!LS7+&h7+&hO$,pQWO7+(`O5VQ!LYO7+(`O5_QWO7+(`O$,uQWO7+(`O$,zQWO7+'sOOQ!LQ,5>f,5>fOOQ!LQ-E;x-E;xOOQQ7+'}7+'}O$-YQ!LbO7+'zOHcQWO7+'zO$-dQ`O7+'{OOQQ7+'{7+'{OHcQWO7+'{O$-kQWO'#JTO$-vQWO,5<yOOQO,5>h,5>hOOQO-E;z-E;zOOQQ7+(Q7+(QO$.mQ&jO'#GhOOQQ1G2m1G2mOHcQWO1G2mO)rQYO1G2mOHcQWO1G2mO$.tQWO1G2mO$/SQ#tO1G2mO5VQ!LYO1G2pO#2pQWO1G2pO4{QWO1G2pO!+aQpO1G2pO!+iQ#tO1G2pO$/eQWO'#IOO$/pQWO,5?pO$/xQ&jO,5?pOOQ!LQ1G2q1G2qOOQQ7+$T7+$TO$/}QWO7+$TO5VQ!LYO7+$TO$0SQWO7+$TO)rQYO1G5_O)rQYO1G5`O$0XQYO1G2xO$0`QWO1G2xO$0eQYO1G2xO$0lQ!LYO1G5_OOQQ7+(b7+(bO5VQ!LYO7+(lO]QYO7+(nOOQQ'#JZ'#JZOOQQ'#IR'#IRO$0vQYO,5=mOOQQ,5=m,5=mO)rQYO'#HSO$1TQWO'#HUOOQQ7+(w7+(wO$1YQYO7+(wO6nQWO7+(wOOQQ7+({7+({OOQQ7+)P7+)POOQQ7+)R7+)ROOQO1G4t1G4tO$5TQ7^O1G0_O$5_QWO1G0_OOQO1G/d1G/dO$5jQ7^O1G/dO9uQWO1G/dOK^QYO'#D^OOQO,5>U,5>UOOQO-E;h-E;hOOQO,5>Z,5>ZOOQO-E;m-E;mO!+aQpO1G/dOOQO1G3t1G3tO9uQWO,5:dOOQO,5:h,5:hO)rQYO,5:hO$5tQ!LYO,5:hO$6PQ!LYO,5:hO!+aQpO,5:dOOQO-E;k-E;kOOQ!LS1G/}1G/}O!%kQ&jO,5:dO$6_Q!LrO,5:hO$6yQ&jO,5:dO!%kQ&jO,5:hO$7XQ&jO,5:hO$7mQ!LYO,5:hOOQ!LS7+%f7+%fO#EwQWO7+%fO#E|Q`O7+%fOOQ!LS7+%s7+%sO9uQWO7+%sO!+aQpO7+%sO$8RQ!LdO7+*eO)rQYO7+*eOOQO1G3v1G3vO6nQWO1G3vO$8cQWO7+*dO$8kQ!LdO1G2RO$:mQ!LdO1G2TO$<oQ!LdO1G1pO$>wQ#tO,5>VOOQO-E;i-E;iO$?RQbO,5>WO)rQYO,5>WOOQO-E;j-E;jO$?]QWO1G4vO$?eQ7^O1G0YO$AlQ7^O1G0dO$AsQ7^O1G0dO$CtQ7^O1G0dO$C{Q7^O1G0dO$EpQ7^O1G0dO$FTQ7^O1G0dO$HbQ7^O1G0dO$HiQ7^O1G0dO$JjQ7^O1G0dO$JqQ7^O1G0dO$LfQ7^O1G0dO$LyQ!LdO<<IzO$MjQ7^O1G0dO% YQ7^O'#IeO%#VQ7^O1G0wOK^QYO'#FTOOQO'#I|'#I|OOQO1G1X1G1XO%#dQWO1G1WO%#iQ7^O,5>_OOOO7+&z7+&zOOQ!LS1G3{1G3{OIoQWO7+'qO%#sQWO,5>`O5_QWO,5>`OOQO-E;r-E;rO%$RQWO1G5UO%$RQWO1G5UO%$ZQWO1G5UO%$fQ`O,5>bO%$pQWO,5>bOHcQWO,5>bOOQO-E;t-E;tO%$uQ`O1G5VO%%PQWO1G5VOOQO1G1y1G1yOOQO1G1z1G1zO5VQ!LYO1G1zO$(tQWO1G1zO5VQ!LYO1G1yO%%XQWO1G1{OHcQWO1G1{OOQO1G1|1G1|O5VQ!LYO1G2PO!+aQpO1G1yO#2kQWO1G1zO%%^QWO1G1{O%%fQWO1G1zOIoQWO7+*UOOQ!LS1G/S1G/SO%%qQWO1G/SOOQ!LS7+'V7+'VO%%vQ#tO7+'^O%&WQ!LdO<<JjOOQ!LS<<Jj<<JjOHcQWO'#HyO%&wQWO,5?lOOQQ<<K_<<K_OHcQWO<<K_O#EwQWO<<K_O%'PQWO<<K_O%'XQ`O<<K_OHcQWO1G1}OOQQ<<Gx<<GxO9uQWO<<GxO%'cQ!LdO<<I`OOQ!LS<<I`<<I`OOQO,5>k,5>kO%(SQWO,5>kOOQO-E;}-E;}O%(XQWO1G5^O%(aQWO<<KzOOQQ<<Kz<<KzO%(fQWO<<KzO5VQ!LYO<<KzO)rQYO<<K_OHcQWO<<K_OOQQ<<Kf<<KfO$-YQ!LbO<<KfOOQQ<<Kg<<KgO$-dQ`O<<KgO%(kQ&jO'#H{O%(vQWO,5?oOK^QYO,5?oOOQQ1G2e1G2eO#DWQ!LrO'#D|O!%kQ&jO'#GiOOQO'#H}'#H}O%)OQ&jO,5=SOOQQ,5=S,5=SO#3[Q&jO'#D|O%)VQ&jO'#D|O%)kQ&jO'#D|O%)uQ&jO'#GiO%*TQWO7+(XO%*YQWO7+(XO%*bQ`O7+(XOOQQ7+(X7+(XOHcQWO7+(XO)rQYO7+(XOHcQWO7+(XO%*lQWO7+(XOOQQ7+([7+([O5VQ!LYO7+([O#2pQWO7+([O4{QWO7+([O!+aQpO7+([O%*zQWO,5>jOOQO-E;|-E;|OOQO'#Gl'#GlO%+VQWO1G5[O5VQ!LYO<<GoOOQQ<<Go<<GoO%+_QWO<<GoO%+dQWO7+*yO%+iQWO7+*zOOQQ7+(d7+(dO%+nQWO7+(dO%+sQYO7+(dO%+zQWO7+(dO)rQYO7+*yO)rQYO7+*zOOQQ<<LW<<LWOOQQ<<LY<<LYOOQQ-E<P-E<POOQQ1G3X1G3XO%,PQWO,5=nOOQQ,5=p,5=pO9uQWO<<LcO%,UQWO<<LcOK^QYO7+%yOOQO7+%O7+%OO%,ZQ7^O1G4|O9uQWO7+%OOOQO1G0O1G0OO%,eQ!LdO1G0SOOQO1G0S1G0SO)rQYO1G0SO%,oQ!LYO1G0SO9uQWO1G0OO!+aQpO1G0OO%,zQ!LYO1G0SO!%kQ&jO1G0OO%-YQ!LYO1G0SO%-nQ!LrO1G0SO%-xQ&jO1G0OO!%kQ&jO1G0SOOQ!LS<<IQ<<IQOOQ!LS<<I_<<I_O9uQWO<<I_O%.WQ!LdO<<NPOOQO7+)b7+)bO%.hQ!LdO7+'^O%0pQbO1G3rO%0zQ7^O7+%tO%1XQ7^O,59fO%3UQ7^O,5;{O%5RQ7^O,5;}O%7OQ7^O,5<]O%8nQ7^O7+&}O%8{Q7^O7+'OO%9YQWO,5;oOOQO7+&r7+&rO%9_Q#tO<<K]OOQO1G3z1G3zO%9oQWO1G3zO%9zQWO1G3zO%:YQWO7+*pO%:YQWO7+*pOHcQWO1G3|O%:bQ`O1G3|O%:lQWO7+*qOOQO7+'f7+'fO5VQ!LYO7+'fOOQO7+'e7+'eO$(tQWO7+'gO%:tQ`O7+'gOOQO7+'k7+'kO5VQ!LYO7+'eO$(tQWO7+'fO%:{QWO7+'gOHcQWO7+'gO#2kQWO7+'fO%;QQ#tO<<MpOOQ!LS7+$n7+$nO%;[Q`O,5>eOOQO-E;w-E;wO#EwQWOAN@yOOQQAN@yAN@yOHcQWOAN@yO%;fQ!LbO7+'iOOQQAN=dAN=dO5_QWO1G4VO%;sQWO7+*xO5VQ!LYOANAfO%;{QWOANAfOOQQANAfANAfO%<QQWOAN@yO%<YQ`OAN@yOOQQANAQANAQOOQQANARANARO%<dQWO,5>gOOQO-E;y-E;yO%<oQ7^O1G5ZO#2pQWO,5=TO4{QWO,5=TO!+aQpO,5=TOOQO-E;{-E;{OOQQ1G2n1G2nO$6_Q!LrO,5:hO!%kQ&jO,5=TO%<yQ&jO,5=TO%=XQ&jO,5:hOOQQ<<Ks<<KsOHcQWO<<KsO%*TQWO<<KsO%=mQWO<<KsO%=uQ`O<<KsO)rQYO<<KsOHcQWO<<KsOOQQ<<Kv<<KvO5VQ!LYO<<KvO#2pQWO<<KvO4{QWO<<KvO%>PQ&jO1G4UO%>UQWO7+*vOOQQAN=ZAN=ZO5VQ!LYOAN=ZOOQQ<<Ne<<NeOOQQ<<Nf<<NfOOQQ<<LO<<LOO%>^QWO<<LOO%>cQYO<<LOO%>jQWO<<NeO%>oQWO<<NfOOQQ1G3Y1G3YOOQQANA}ANA}O9uQWOANA}O%>tQ7^O<<IeOOQO<<Hj<<HjOOQO7+%n7+%nO%,eQ!LdO7+%nO)rQYO7+%nOOQO7+%j7+%jO9uQWO7+%jO%?OQ!LYO7+%nO!+aQpO7+%jO%?ZQ!LYO7+%nO!%kQ&jO7+%jO%?iQ!LYO7+%nOOQ!LSAN>yAN>yO%?}Q!LdO<<K]O%BVQ7^O<<IzO%BdQ7^O1G1pO%DSQ7^O1G2RO%FPQ7^O1G2TO%G|Q7^O<<JjO%HZQ7^O<<I`OOQO1G1Z1G1ZOOQO7+)f7+)fO%HhQWO7+)fO%HsQWO<<N[O%H{Q`O7+)hOOQO<<KQ<<KQO5VQ!LYO<<KRO$(tQWO<<KROOQO<<KP<<KPO5VQ!LYO<<KQO%IVQ`O<<KRO$(tQWO<<KQOOQQG26eG26eO#EwQWOG26eOOQO7+)q7+)qOOQQG27QG27QO5VQ!LYOG27QOHcQWOG26eOK^QYO1G4RO%I^QWO7+*uO5VQ!LYO1G2oO#2pQWO1G2oO4{QWO1G2oO!+aQpO1G2oO!%kQ&jO1G2oO%-nQ!LrO1G0SO%IfQ&jO1G2oO%*TQWOANA_OOQQANA_ANA_OHcQWOANA_O%ItQWOANA_O%I|Q`OANA_OOQQANAbANAbO5VQ!LYOANAbO#2pQWOANAbOOQO'#Gm'#GmOOQO7+)p7+)pOOQQG22uG22uOOQQANAjANAjO%JWQWOANAjOOQQANDPANDPOOQQANDQANDQO%J]QYOG27iOOQO<<IY<<IYO%,eQ!LdO<<IYOOQO<<IU<<IUO)rQYO<<IYO9uQWO<<IUO%NWQ!LYO<<IYO!+aQpO<<IUO%NcQ!LYO<<IYO%NqQ7^O7+'^OOQO<<MQ<<MQOOQOAN@mAN@mO5VQ!LYOAN@mOOQOAN@lAN@lO$(tQWOAN@mO5VQ!LYOAN@lOOQQLD,PLD,POOQQLD,lLD,lO#EwQWOLD,PO&!aQ7^O7+)mOOQO7+(Z7+(ZO5VQ!LYO7+(ZO#2pQWO7+(ZO4{QWO7+(ZO!+aQpO7+(ZO!%kQ&jO7+(ZOOQQG26yG26yO%*TQWOG26yOHcQWOG26yOOQQG26|G26|O5VQ!LYOG26|OOQQG27UG27UO9uQWOLD-TOOQOAN>tAN>tO%,eQ!LdOAN>tOOQOAN>pAN>pO)rQYOAN>tO9uQWOAN>pO&!kQ!LYOAN>tO&!vQ7^O<<K]OOQOG26XG26XO5VQ!LYOG26XOOQOG26WG26WOOQQ!$( k!$( kOOQO<<Ku<<KuO5VQ!LYO<<KuO#2pQWO<<KuO4{QWO<<KuO!+aQpO<<KuOOQQLD,eLD,eO%*TQWOLD,eOOQQLD,hLD,hOOQQ!$(!o!$(!oOOQOG24`G24`O%,eQ!LdOG24`OOQOG24[G24[O)rQYOG24`OOQOLD+sLD+sOOQOANAaANAaO5VQ!LYOANAaO#2pQWOANAaO4{QWOANAaOOQQ!$(!P!$(!POOQOLD)zLD)zO%,eQ!LdOLD)zOOQOG26{G26{O5VQ!LYOG26{O#2pQWOG26{OOQO!$'Mf!$'MfOOQOLD,gLD,gO5VQ!LYOLD,gOOQO!$(!R!$(!ROK^QYO'#DmO&$fQbO'#IgOK^QYO'#DeO&$mQ!LdO'#CgO&%WQbO'#CgO&%hQYO,5:nOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO,5:xOK^QYO'#HsO&'eQWO,5;zO&(tQWO,5:xOK^QYO,5;]O!'TQWO'#CzO!'TQWO'#CzOHcQWO'#FaO&'mQWO'#FaOHcQWO'#FcO&'mQWO'#FcOHcQWO'#FqO&'mQWO'#FqOK^QYO,5?bO&%hQYO1G0YO&({Q7^O'#CgOK^QYO1G1cOHcQWO,5<gO&'mQWO,5<gOHcQWO,5<iO&'mQWO,5<iOHcQWO,5<UO&'mQWO,5<UO&%hQYO1G1dOK^QYO7+&`OHcQWO1G1rO&'mQWO1G1rO&%hQYO7+'OO&%hQYO7+%tOHcQWO7+'qO&'mQWO7+'qO&)VQWO'#ESO&)[QWO'#ESO&)dQWO'#EqO&)iQWO'#IvO&)tQWO'#ItO&*PQWO,5:nO&*UQ#tO,5;wO&*]QWO'#FjO&*bQWO'#FjO&*gQWO,5;xO&*oQWO,5:nO&*wQ7^O1G0tO&+OQWO,5<WO&+TQWO,5<WO&+YQWO1G1dO&+_QWO1G0YO&+dQ#tO1G2VO&+kQ#tO1G2VO3qQWO'#F_O4{QWO'#F^OBYQWO'#EROK^QYO,5;YO!'_QWO'#FlO!'_QWO'#FlOIoQWO,5<kOIoQWO,5<k\",\n  stateData: \"&,e~O&}OSSOSTOS~OPTOQTOWwO]bO^gOamOblOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!OSO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!ikO#ZqO#knO#o]O$voO$xrO$zpO${pO%OsO%QtO%TuO%UuO%WvO%exO%kyO%mzO%o{O%q|O%t}O%z!OO&O!PO&Q!QO&S!RO&U!SO&W!TO'PPO']QO'q`O~OPZXYZX^ZXiZXqZXrZXtZX|ZX![ZX!]ZX!_ZX!eZX!tZX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#[ZX#^ZX#`ZX#aZX#fZX&{ZX']ZX'eZX'lZX'mZX~O!W$cX~P$tO&x!VO&y!UO&z!XO~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#k!iO#o]O'P!YO']QO'q`O~O{!^O|!ZOy'`Py'iP~P'^O}!jO~P]OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#k!iO#o]O'P8cO']QO'q`O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!O!`O!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#k!iO#o]O']QO'q`O~O{!oO!|!rO!}!oO'P8dO!^'fP~P+oO#O!sO~O!W!tO#O!sO~OP#ZOY#aOi#OOq!xOr!xOt!yO|#_O![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO#^#TO#`#VO#a#WO']QO'e#XO'l!zO'm!{O~O^'ZX&{'ZX!^'ZXy'ZX!O'ZX$w'ZX!W'ZX~P.ZO!t#bO#f#bOP'[XY'[X^'[Xi'[Xq'[Xr'[Xt'[X|'[X!['[X!]'[X!_'[X!e'[X#R'[X#S'[X#T'[X#U'[X#V'[X#W'[X#Y'[X#['[X#^'[X#`'[X#a'[X']'[X'e'[X'l'[X'm'[X~O#X'[X&{'[Xy'[X!^'[X'_'[X!O'[X$w'[X!W'[X~P0kO!t#bO~O#q#cO#x#gO~O!O#hO#o]O#{#iO#}#kO~O]#nOg#zOi#oOj#nOk#nOm#{Oo#|Ot#tO!O#uO!Y$RO!_#rO!}$SO#k$PO$U#}O$W$OO$Z$QO'P#mO'T'VP~O!_$TO~O!W$VO~O^$WO&{$WO~O'P$[O~O!_$TO'P$[O'Q$^O'U$_O~Ob$eO!_$TO'P$[O~O]$nOq$jO!O$gO!_$iO$x$mO'P$[O'Q$^O['yP~O!i$oO~Ot$pO!O$qO'P$[O~Ot$pO!O$qO%Q$uO'P$[O~O'P$vO~O#ZqO$xrO$zpO${pO%OsO%QtO%TuO%UuO~Oa%POb%OO!i$|O$v$}O%Y${O~P7^Oa%SOblO!O%RO!ikO#ZqO$voO$zpO${pO%OsO%QtO%TuO%UuO%WvO~O_%VO!t%YO$x%TO'Q$^O~P8]O!_%ZO!b%_O~O!_%`O~O!OSO~O^$WO&w%hO&{$WO~O^$WO&w%kO&{$WO~O^$WO&w%mO&{$WO~O&x!VO&y!UO&z%qO~OPZXYZXiZXqZXrZXtZX|ZX|cX![ZX!]ZX!_ZX!eZX!tZX!tcX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#[ZX#^ZX#`ZX#aZX#fZX']ZX'eZX'lZX'mZX~OyZXycX~P:xO{%sOy&]X|&]X~P)rO|!ZOy'`X~OP#ZOY#aOi#OOq!xOr!xOt!yO|!ZO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO#^#TO#`#VO#a#WO']QO'e#XO'l!zO'm!{O~Oy'`X~P=oOy%xO~Ot%{O!R&VO!S&OO!T&OO'Q$^O~O]%|Oj%|O{&PO'Y%yO}'aP}'kP~P?rOy'hX|'hX!W'hX!^'hX'e'hX~O!t'hX#O!wX}'hX~P@kO!t&WOy'jX|'jX~O|&XOy'iX~Oy&ZO~O!t#bO~P@kOR&_O!O&[O!j&^O'P$[O~Ob&dO!_$TO'P$[O~Oq$jO!_$iO~O}&eO~P]Oq!xOr!xOt!yO!]!vO!_!wO']QOP!aaY!aai!aa|!aa![!aa!e!aa#R!aa#S!aa#T!aa#U!aa#V!aa#W!aa#X!aa#Y!aa#[!aa#^!aa#`!aa#a!aa'e!aa'l!aa'm!aa~O^!aa&{!aay!aa!^!aa'_!aa!O!aa$w!aa!W!aa~PBtO!^&fO~O!W!tO!t&hO'e&gO|'gX^'gX&{'gX~O!^'gX~PE^O|&lO!^'fX~O!^&nO~Ot$pO!O$qO!}&oO'P$[O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!OSO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!i!fO#k!iO#o]O'P8cO']QO'q`O~O]#nOg#zOi#oOj#nOk#nOm#{Oo8uOt#tO!O#uO!Y9wO!_#rO!}8{O#k$PO$U8wO$W8yO$Z$QO'P&sO~O#O&uO~O]#nOg#zOi#oOj#nOk#nOm#{Oo#|Ot#tO!O#uO!Y$RO!_#rO!}$SO#k$PO$U#}O$W$OO$Z$QO'P&sO~O'T'cP~PIoO{&yO!^'dP~P)rO'Y&{O~OP8`OQ8`O]bOa9uOb!gOgbOi8`OjbOkbOm8`Oo8`OtROvbOwbOxbO!O!`O!Y8bO!_UO!b8`O!c8`O!d8`O!e8`O!f8`O!i!fO#k!iO#o]O'P'ZO']QO'q9sO~O!_!wO~O|#_O^$Sa&{$Sa!^$Say$Sa!O$Sa$w$Sa!W$Sa~O#Z'bO~PHcO!W'dO!O'nX#n'nX#q'nX#x'nX~Oq'eO~PNROq'eO!O'nX#n'nX#q'nX#x'nX~O!O'gO#n'kO#q'fO#x'lO~O{'oO~PK^O#q#cO#x'rO~Oq$[Xt$[X!]$[X'e$[X'l$[X'm$[X~OReX|eX!teX'TeX'T$[X~P! kOj'tO~Oq'vOt'wO'e#XO'l'yO'm'{O~O'T'uO~P!!iO'T(OO~O]#nOg#zOi#oOj#nOk#nOm#{Oo8uOt#tO!O#uO!Y9wO!_#rO!}8{O#k$PO$U8wO$W8yO$Z$QO~O{(SO'P(PO!^'rP~P!#WO#O(UO~O{(YO'P(VOy'sP~P!#WO^(cOi(hOt(`O!R(fO!S(_O!T(_O!_(]O!q(gO$n(bO'Q$^O'Y([O~O}(eO~P!${O!]!vOq'XXt'XX'e'XX'l'XX'm'XX|'XX!t'XX~O'T'XX#d'XX~P!%wOR(kO!t(jO|'WX'T'WX~O|(lO'T'VX~O'P(nO~O!_(sO~O!_(]O~Ot$pO{!oO!O$qO!|!rO!}!oO'P$[O!^'fP~O!W!tO#O(wO~OP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO#^#TO#`#VO#a#WO']QO'e#XO'l!zO'm!{O~O^!Xa|!Xa&{!Xay!Xa!^!Xa'_!Xa!O!Xa$w!Xa!W!Xa~P!(TOR)PO!O&[O!j)OO$w(}O'U$_O~O'P$vO'T'VP~O!W)SO!O'SX^'SX&{'SX~O!_$TO'U$_O~O!_$TO'P$[O'U$_O~O!W!tO#O&uO~O'P)[O}'zP~O|)`O['yX~OY)dO~O[)eO~O!O$gO'P$[O'Q$^O['yP~Ot$pO{)jO!O$qO'P$[Oy'iP~O]&SOj&SO{)kO'Y&{O}'kP~O|)lO^'vX&{'vX~O!t)pO'U$_O~OR)sO!O#uO'U$_O~O!O)uO~Oq)wO!OSO~O!i)|O~Ob*RO~O'P(nO}'xP~Ob$eO~O$xrO'P$vO~P8]OY*XO[*WO~OPTOQTO]bOamOblOgbOiTOjbOkbOmTOoTOtROvbOwbOxbO!YjO!_UO!bTO!cTO!dTO!eTO!fTO!ikO#o]O$voO']QO'q`O~O!O!`O#k!iO'P8cO~P!/bO[*WO^$WO&{$WO~O^*]O#Z*_O$z*_O${*_O~P)rO!_%ZO~O%k*dO~O!O*fO~O%{*iO%|*hOP%yaQ%yaW%ya]%ya^%yaa%yab%yag%yai%yaj%yak%yam%yao%yat%yav%yaw%yax%ya!O%ya!Y%ya!_%ya!b%ya!c%ya!d%ya!e%ya!f%ya!i%ya#Z%ya#k%ya#o%ya$v%ya$x%ya$z%ya${%ya%O%ya%Q%ya%T%ya%U%ya%W%ya%e%ya%k%ya%m%ya%o%ya%q%ya%t%ya%z%ya&O%ya&Q%ya&S%ya&U%ya&W%ya&v%ya'P%ya']%ya'q%ya}%ya%r%ya_%ya%w%ya~O'P*lO~O'_*oO~Oy&]a|&]a~P!(TO|!ZOy'`a~Oy'`a~P=oO|&XOy'ia~O|sX|!UX}sX}!UX!WsX!W!UX!_!UX!tsX'U!UX~O!W*vO!t*uO|!{X|'bX}!{X}'bX!W'bX!_'bX'U'bX~O!W*xO!_$TO'U$_O|!QX}!QX~O]%zOj%zOt%{O'Y([O~OP8`OQ8`O]bOa9uOb!gOgbOi8`OjbOkbOm8`Oo8`OtROvbOwbOxbO!O!`O!Y8bO!_UO!b8`O!c8`O!d8`O!e8`O!f8`O!i!fO#k!iO#o]O']QO'q9sO~O'P9PO~P!9YO|*|O}'aX~O}+OO~O!W*vO!t*uO|!{X}!{X~O|+PO}'kX~O}+RO~O]%zOj%zOt%{O'Q$^O'Y([O~O!S+SO!T+SO~P!<TOt$pO{+VO!O$qO'P$[Oy&bX|&bX~O^+ZO!R+^O!S+YO!T+YO!m+`O!n+_O!o+_O!q+aO'Q$^O'Y([O~O}+]O~P!=UOR+fO!O&[O!j+eO~O!t+lO|'ga!^'ga^'ga&{'ga~O!W!tO~P!>YO|&lO!^'fa~Ot$pO{+oO!O$qO!|+qO!}+oO'P$[O|&dX!^&dX~O^!vi|!vi&{!viy!vi!^!vi'_!vi!O!vi$w!vi!W!vi~P!(TO#O!sa|!sa!^!sa!t!sa!O!sa^!sa&{!say!sa~P!!iO#O'XXP'XXY'XX^'XXi'XXr'XX!['XX!_'XX!e'XX#R'XX#S'XX#T'XX#U'XX#V'XX#W'XX#X'XX#Y'XX#['XX#^'XX#`'XX#a'XX&{'XX']'XX!^'XXy'XX!O'XX$w'XX'_'XX!W'XX~P!%wO|+zO'T'cX~P!!iO'T+|O~O|+}O!^'dX~P!(TO!^,QO~Oy,RO~OP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO']QOY#Qi^#Qii#Qi|#Qi![#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~O#R#Qi~P!CgO#R!|O~P!CgOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O']QOY#Qi^#Qi|#Qi![#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~Oi#Qi~P!FROi#OO~P!FROP#ZOi#OOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO']QO^#Qi|#Qi#[#Qi#^#Qi#`#Qi#a#Qi&{#Qi'e#Qi'l#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~OY#Qi![#Qi#W#Qi#X#Qi#Y#Qi~P!HmOY#aO![#QO#W#QO#X#QO#Y#QO~P!HmOP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO']QO^#Qi|#Qi#^#Qi#`#Qi#a#Qi&{#Qi'e#Qi'm#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~O'l#Qi~P!KeO'l!zO~P!KeOP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO#^#TO']QO'l!zO^#Qi|#Qi#`#Qi#a#Qi&{#Qi'e#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~O'm#Qi~P!NPO'm!{O~P!NPOP#ZOY#aOi#OOq!xOr!xOt!yO![#QO!]!vO!_!wO!e#ZO#R!|O#S!}O#T!}O#U!}O#V#PO#W#QO#X#QO#Y#QO#[#RO#^#TO#`#VO']QO'l!zO'm!{O~O^#Qi|#Qi#a#Qi&{#Qi'e#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~P#!kOPZXYZXiZXqZXrZXtZX![ZX!]ZX!_ZX!eZX!tZX#OcX#RZX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#[ZX#^ZX#`ZX#aZX#fZX']ZX'eZX'lZX'mZX|ZX}ZX~O#dZX~P#%OOP#ZOY8sOi8hOq!xOr!xOt!yO![8jO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO#V8iO#W8jO#X8jO#Y8jO#[8kO#^8mO#`8oO#a8pO']QO'e#XO'l!zO'm!{O~O#d,TO~P#'YOP'[XY'[Xi'[Xq'[Xr'[Xt'[X!['[X!]'[X!_'[X!e'[X#R'[X#S'[X#T'[X#U'[X#V'[X#W'[X#Y'[X#['[X#^'[X#`'[X#a'[X']'[X'e'[X'l'[X'm'[X|'[X~O!t8tO#f8tO#X'[X#d'[X}'[X~P#)TO^&ga|&ga&{&ga!^&ga'_&gay&ga!O&ga$w&ga!W&ga~P!(TOP#QiY#Qi^#Qii#Qir#Qi|#Qi![#Qi!]#Qi!_#Qi!e#Qi#R#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi&{#Qi']#Qiy#Qi!^#Qi'_#Qi!O#Qi$w#Qi!W#Qi~P!!iO^#ei|#ei&{#eiy#ei!^#ei'_#ei!O#ei$w#ei!W#ei~P!(TO#q,VO~O#q,WO~O!W'dO!t,XO!O#uX#n#uX#q#uX#x#uX~O{,YO~O!O'gO#n,[O#q'fO#x,]O~O|8qO}'ZX~P#'YO},^O~O#x,`O~O],cOj,cOy,dO~O|cX!WcX!^cX!^$[X'ecX~P! kO!^,jO~P!!iO|,kO!W!tO'e&gO!^'rX~O!^,pO~Oy$[X|$[X!W$cX~P! kO|,rOy'sX~P!!iO!W,tO~Oy,vO~O{(SO'P$[O!^'rP~Oi,zO!W!tO!_$TO'U$_O'e&gO~O!W)SO~O}-QO~P!${O!S-RO!T-RO'Q$^O'Y([O~Ot-TO'Y([O~O!q-UO~O'P$vO|&lX'T&lX~O|(lO'T'Va~Oq-ZOr-ZOt-[O'ena'lna'mna|na!tna~O'Tna#dna~P#3|Oq'vOt'wO'e$Ta'l$Ta'm$Ta|$Ta!t$Ta~O'T$Ta#d$Ta~P#4rOq'vOt'wO'e$Va'l$Va'm$Va|$Va!t$Va~O'T$Va#d$Va~P#5eO]-]O~O#O-^O~O'T$ea|$ea#d$ea!t$ea~P!!iO#O-aO~OR-jO!O&[O!j-iO$w-hO~O'T-kO~O]#nOi#oOj#nOk#nOm#{Oo8uOt#tO!O#uO!Y9wO!_#rO!}8{O#k$PO$U8wO$W8yO$Z$QO~Og-mO'P-lO~P#7[O!W)SO!O'Sa^'Sa&{'Sa~O#O-sO~OYZX|cX}cX~O|-tO}'zX~O}-vO~OY-wO~O!O$gO'P$[O[&tX|&tX~O|)`O['ya~O!^-zO~P!(TO]-|O~OY-}O~O[.OO~OR-jO!O&[O!j-iO$w-hO'U$_O~O|)lO^'va&{'va~O!t.UO~OR.XO!O#uO~O'Y&{O}'wP~OR.cO!O._O!j.bO$w.aO'U$_O~OY.mO|.kO}'xX~O}.nO~O[.pO^$WO&{$WO~O].qO~O#X.sO%i.tO~P0kO!t#bO#X.sO%i.tO~O^.uO~P)rO^.wO~O%r.{OP%piQ%piW%pi]%pi^%pia%pib%pig%pii%pij%pik%pim%pio%pit%piv%piw%pix%pi!O%pi!Y%pi!_%pi!b%pi!c%pi!d%pi!e%pi!f%pi!i%pi#Z%pi#k%pi#o%pi$v%pi$x%pi$z%pi${%pi%O%pi%Q%pi%T%pi%U%pi%W%pi%e%pi%k%pi%m%pi%o%pi%q%pi%t%pi%z%pi&O%pi&Q%pi&S%pi&U%pi&W%pi&v%pi'P%pi']%pi'q%pi}%pi_%pi%w%pi~O_/RO}/PO%w/QO~P]O!OSO!_/UO~O|#_O'_$Sa~Oy&]i|&]i~P!(TO|!ZOy'`i~O|&XOy'ii~Oy/YO~O|!Qa}!Qa~P#'YO]%zOj%zO{/`O'Y([O|&^X}&^X~P?rO|*|O}'aa~O]&SOj&SO{)kO'Y&{O|&cX}&cX~O|+PO}'ka~Oy'ji|'ji~P!(TO^$WO!W!tO!_$TO!e/kO!t/iO&{$WO'U$_O'e&gO~O}/nO~P!=UO!S/oO!T/oO'Q$^O'Y([O~O!R/qO!S/oO!T/oO!q/rO'Q$^O'Y([O~O!n/sO!o/sO~P#EXO!O&[O~O!O&[O~P!!iO|'gi!^'gi^'gi&{'gi~P!(TO!t/|O|'gi!^'gi^'gi&{'gi~O|&lO!^'fi~Ot$pO!O$qO!}0OO'P$[O~O#OnaPnaYna^naina![na!]na!_na!ena#Rna#Sna#Tna#Una#Vna#Wna#Xna#Yna#[na#^na#`na#ana&{na']na!^nayna!Ona$wna'_na!Wna~P#3|O#O$TaP$TaY$Ta^$Tai$Tar$Ta![$Ta!]$Ta!_$Ta!e$Ta#R$Ta#S$Ta#T$Ta#U$Ta#V$Ta#W$Ta#X$Ta#Y$Ta#[$Ta#^$Ta#`$Ta#a$Ta&{$Ta']$Ta!^$Tay$Ta!O$Ta$w$Ta'_$Ta!W$Ta~P#4rO#O$VaP$VaY$Va^$Vai$Var$Va![$Va!]$Va!_$Va!e$Va#R$Va#S$Va#T$Va#U$Va#V$Va#W$Va#X$Va#Y$Va#[$Va#^$Va#`$Va#a$Va&{$Va']$Va!^$Vay$Va!O$Va$w$Va'_$Va!W$Va~P#5eO#O$eaP$eaY$ea^$eai$ear$ea|$ea![$ea!]$ea!_$ea!e$ea#R$ea#S$ea#T$ea#U$ea#V$ea#W$ea#X$ea#Y$ea#[$ea#^$ea#`$ea#a$ea&{$ea']$ea!^$eay$ea!O$ea!t$ea$w$ea'_$ea!W$ea~P!!iO^!vq|!vq&{!vqy!vq!^!vq'_!vq!O!vq$w!vq!W!vq~P!(TO|&_X'T&_X~PIoO|+zO'T'ca~O{0WO|&`X!^&`X~P)rO|+}O!^'da~O|+}O!^'da~P!(TO#d!aa}!aa~PBtO#d!Xa|!Xa}!Xa~P#'YO!O0kO#o]O#v0lO~O}0pO~O^$Pq|$Pq&{$Pqy$Pq!^$Pq'_$Pq!O$Pq$w$Pq!W$Pq~P!(TOy0qO~O],cOj,cO~Oq'vOt'wO'm'{O'e$oi'l$oi|$oi!t$oi~O'T$oi#d$oi~P$%SOq'vOt'wO'e$qi'l$qi'm$qi|$qi!t$qi~O'T$qi#d$qi~P$%uO#d0rO~P!!iO{0tO'P$[O|&hX!^&hX~O|,kO!^'ra~O|,kO!W!tO!^'ra~O|,kO!W!tO'e&gO!^'ra~O'T$^i|$^i#d$^i!t$^i~P!!iO{0{O'P(VOy&jX|&jX~P!#WO|,rOy'sa~O|,rOy'sa~P!!iO!W!tO~O!W!tO#X1VO~Oi1ZO!W!tO'e&gO~O|'Wi'T'Wi~P!!iO!t1^O|'Wi'T'Wi~P!!iO!^1aO~O^$Qq|$Qq&{$Qqy$Qq!^$Qq'_$Qq!O$Qq$w$Qq!W$Qq~P!(TO|1eO!O'tX~P!!iO!O&[O$w1hO~O!O&[O$w1hO~P!!iO!O$[X$lZX^$[X&{$[X~P! kO$l1lOqfXtfX!OfX'efX'lfX'mfX^fX&{fX~O$l1lO~O'P)[O|&sX}&sX~O|-tO}'za~O[1uO~O]1xO~OR1zO!O&[O!j1yO$w1hO~O^$WO&{$WO~P!!iO!O#uO~P!!iO|2PO!t2RO}'wX~O}2SO~Ot(`O!R2]O!S2UO!T2UO!m2[O!n2ZO!o2ZO!q2YO'Q$^O'Y([O~O}2XO~P$-{OR2dO!O._O!j2cO$w2bO~OR2dO!O._O!j2cO$w2bO'U$_O~O'P(nO|&rX}&rX~O|.kO}'xa~O'Y2mO~O]2oO~O[2qO~O!^2tO~P)rO^2vO~O^2vO~P)rO#X2xO%i2yO~PE^O_/RO}2}O%w/QO~P]O!W3PO~O%|3QOP%yqQ%yqW%yq]%yq^%yqa%yqb%yqg%yqi%yqj%yqk%yqm%yqo%yqt%yqv%yqw%yqx%yq!O%yq!Y%yq!_%yq!b%yq!c%yq!d%yq!e%yq!f%yq!i%yq#Z%yq#k%yq#o%yq$v%yq$x%yq$z%yq${%yq%O%yq%Q%yq%T%yq%U%yq%W%yq%e%yq%k%yq%m%yq%o%yq%q%yq%t%yq%z%yq&O%yq&Q%yq&S%yq&U%yq&W%yq&v%yq'P%yq']%yq'q%yq}%yq%r%yq_%yq%w%yq~O|!{i}!{i~P#'YO!t3SO|!{i}!{i~O|!Qi}!Qi~P#'YO^$WO!t3ZO&{$WO~O^$WO!W!tO!t3ZO&{$WO~O^$WO!W!tO!_$TO!e3_O!t3ZO&{$WO'U$_O'e&gO~O!S3`O!T3`O'Q$^O'Y([O~O!R3cO!S3`O!T3`O!q3dO'Q$^O'Y([O~O^$WO!W!tO!e3_O!t3ZO&{$WO'e&gO~O|'gq!^'gq^'gq&{'gq~P!(TO|&lO!^'fq~O#O$oiP$oiY$oi^$oii$oir$oi![$oi!]$oi!_$oi!e$oi#R$oi#S$oi#T$oi#U$oi#V$oi#W$oi#X$oi#Y$oi#[$oi#^$oi#`$oi#a$oi&{$oi']$oi!^$oiy$oi!O$oi$w$oi'_$oi!W$oi~P$%SO#O$qiP$qiY$qi^$qii$qir$qi![$qi!]$qi!_$qi!e$qi#R$qi#S$qi#T$qi#U$qi#V$qi#W$qi#X$qi#Y$qi#[$qi#^$qi#`$qi#a$qi&{$qi']$qi!^$qiy$qi!O$qi$w$qi'_$qi!W$qi~P$%uO#O$^iP$^iY$^i^$^ii$^ir$^i|$^i![$^i!]$^i!_$^i!e$^i#R$^i#S$^i#T$^i#U$^i#V$^i#W$^i#X$^i#Y$^i#[$^i#^$^i#`$^i#a$^i&{$^i']$^i!^$^iy$^i!O$^i!t$^i$w$^i'_$^i!W$^i~P!!iO|&_a'T&_a~P!!iO|&`a!^&`a~P!(TO|+}O!^'di~O#d!vi|!vi}!vi~P#'YOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO']QOY#Qii#Qi![#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi#d#Qi'e#Qi'l#Qi'm#Qi|#Qi}#Qi~O#R#Qi~P$?rO#R8fO~P$?rOP#ZOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO']QOY#Qi![#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi#d#Qi'e#Qi'l#Qi'm#Qi|#Qi}#Qi~Oi#Qi~P$AzOi8hO~P$AzOP#ZOi8hOq!xOr!xOt!yO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO#V8iO']QO#[#Qi#^#Qi#`#Qi#a#Qi#d#Qi'e#Qi'l#Qi'm#Qi|#Qi}#Qi~OY#Qi![#Qi#W#Qi#X#Qi#Y#Qi~P$DSOY8sO![8jO#W8jO#X8jO#Y8jO~P$DSOP#ZOY8sOi8hOq!xOr!xOt!yO![8jO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO#V8iO#W8jO#X8jO#Y8jO#[8kO']QO#^#Qi#`#Qi#a#Qi#d#Qi'e#Qi'm#Qi|#Qi}#Qi~O'l#Qi~P$FhO'l!zO~P$FhOP#ZOY8sOi8hOq!xOr!xOt!yO![8jO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO#V8iO#W8jO#X8jO#Y8jO#[8kO#^8mO']QO'l!zO#`#Qi#a#Qi#d#Qi'e#Qi|#Qi}#Qi~O'm#Qi~P$HpO'm!{O~P$HpOP#ZOY8sOi8hOq!xOr!xOt!yO![8jO!]!vO!_!wO!e#ZO#R8fO#S8gO#T8gO#U8gO#V8iO#W8jO#X8jO#Y8jO#[8kO#^8mO#`8oO']QO'l!zO'm!{O~O#a#Qi#d#Qi'e#Qi|#Qi}#Qi~P$JxO^#by|#by&{#byy#by!^#by'_#by!O#by$w#by!W#by~P!(TOP#QiY#Qii#Qir#Qi![#Qi!]#Qi!_#Qi!e#Qi#R#Qi#S#Qi#T#Qi#U#Qi#V#Qi#W#Qi#X#Qi#Y#Qi#[#Qi#^#Qi#`#Qi#a#Qi#d#Qi']#Qi|#Qi}#Qi~P!!iO!]!vOP'XXY'XXi'XXq'XXr'XXt'XX!['XX!_'XX!e'XX#R'XX#S'XX#T'XX#U'XX#V'XX#W'XX#X'XX#Y'XX#['XX#^'XX#`'XX#a'XX#d'XX']'XX'e'XX'l'XX'm'XX|'XX}'XX~O#d#ei|#ei}#ei~P#'YO}3tO~O|&ga}&ga~P#'YO!W!tO'e&gO|&ha!^&ha~O|,kO!^'ri~O|,kO!W!tO!^'ri~Oy&ja|&ja~P!!iO!W3{O~O|,rOy'si~P!!iO|,rOy'si~Oy4RO~O!W!tO#X4XO~Oi4YO!W!tO'e&gO~Oy4[O~O'T$`q|$`q#d$`q!t$`q~P!!iO^$Qy|$Qy&{$Qyy$Qy!^$Qy'_$Qy!O$Qy$w$Qy!W$Qy~P!(TO|1eO!O'ta~O!O&[O$w4aO~O!O&[O$w4aO~P!!iO^!vy|!vy&{!vyy!vy!^!vy'_!vy!O!vy$w!vy!W!vy~P!(TOY4dO~O|-tO}'zi~O]4fO~O[4gO~O'Y&{O|&oX}&oX~O|2PO}'wa~O}4tO~P$-{O!R4wO!S4vO!T4vO!q/rO'Q$^O'Y([O~O!n4xO!o4xO~P%)VO!S4vO!T4vO'Q$^O'Y([O~O!O._O~O!O._O$w4zO~O!O._O$w4zO~P!!iOR5PO!O._O!j5OO$w4zO~OY5UO|&ra}&ra~O|.kO}'xi~O]5XO~O!^5YO~O!^5ZO~O!^5[O~O!^5[O~P)rO^5^O~O!W5aO~O!^5cO~O|'ji}'ji~P#'YO^$WO&{$WO~P!(TO^$WO!t5hO&{$WO~O^$WO!W!tO!t5hO&{$WO~O^$WO!W!tO!e5mO!t5hO&{$WO'e&gO~O!_$TO'U$_O~P%-YO!S5nO!T5nO'Q$^O'Y([O~O|'gy!^'gy^'gy&{'gy~P!(TO#O$`qP$`qY$`q^$`qi$`qr$`q|$`q![$`q!]$`q!_$`q!e$`q#R$`q#S$`q#T$`q#U$`q#V$`q#W$`q#X$`q#Y$`q#[$`q#^$`q#`$`q#a$`q&{$`q']$`q!^$`qy$`q!O$`q!t$`q$w$`q'_$`q!W$`q~P!!iO|&`i!^&`i~P!(TO#d!vq|!vq}!vq~P#'YOq-ZOr-ZOt-[OPnaYnaina![na!]na!_na!ena#Rna#Sna#Tna#Una#Vna#Wna#Xna#Yna#[na#^na#`na#ana#dna']na'ena'lna'mna|na}na~Oq'vOt'wOP$TaY$Tai$Tar$Ta![$Ta!]$Ta!_$Ta!e$Ta#R$Ta#S$Ta#T$Ta#U$Ta#V$Ta#W$Ta#X$Ta#Y$Ta#[$Ta#^$Ta#`$Ta#a$Ta#d$Ta']$Ta'e$Ta'l$Ta'm$Ta|$Ta}$Ta~Oq'vOt'wOP$VaY$Vai$Var$Va![$Va!]$Va!_$Va!e$Va#R$Va#S$Va#T$Va#U$Va#V$Va#W$Va#X$Va#Y$Va#[$Va#^$Va#`$Va#a$Va#d$Va']$Va'e$Va'l$Va'm$Va|$Va}$Va~OP$eaY$eai$ear$ea![$ea!]$ea!_$ea!e$ea#R$ea#S$ea#T$ea#U$ea#V$ea#W$ea#X$ea#Y$ea#[$ea#^$ea#`$ea#a$ea#d$ea']$ea|$ea}$ea~P!!iO#d$Pq|$Pq}$Pq~P#'YO#d$Qq|$Qq}$Qq~P#'YO}5xO~O'T$sy|$sy#d$sy!t$sy~P!!iO!W!tO|&hi!^&hi~O!W!tO'e&gO|&hi!^&hi~O|,kO!^'rq~Oy&ji|&ji~P!!iO|,rOy'sq~Oy6PO~P!!iOy6PO~O|'Wy'T'Wy~P!!iO|&ma!O&ma~P!!iO!O$kq^$kq&{$kq~P!!iO|-tO}'zq~O]6YO~O!O&[O$w6ZO~O!O&[O$w6ZO~P!!iO!t6[O|&oa}&oa~O|2PO}'wi~P#'YO!S6bO!T6bO'Q$^O'Y([O~O!R6dO!S6bO!T6bO!q3dO'Q$^O'Y([O~O!O._O$w6gO~O!O._O$w6gO~P!!iO'Y6mO~O|.kO}'xq~O!^6pO~O!^6pO~P)rO!^6rO~O!^6sO~O|!{y}!{y~P#'YO^$WO!t6xO&{$WO~O^$WO!W!tO!t6xO&{$WO~O^$WO!W!tO!e6|O!t6xO&{$WO'e&gO~O#O$syP$syY$sy^$syi$syr$sy|$sy![$sy!]$sy!_$sy!e$sy#R$sy#S$sy#T$sy#U$sy#V$sy#W$sy#X$sy#Y$sy#[$sy#^$sy#`$sy#a$sy&{$sy']$sy!^$syy$sy!O$sy!t$sy$w$sy'_$sy!W$sy~P!!iO#d#by|#by}#by~P#'YOP$^iY$^ii$^ir$^i![$^i!]$^i!_$^i!e$^i#R$^i#S$^i#T$^i#U$^i#V$^i#W$^i#X$^i#Y$^i#[$^i#^$^i#`$^i#a$^i#d$^i']$^i|$^i}$^i~P!!iOq'vOt'wO'm'{OP$oiY$oii$oir$oi![$oi!]$oi!_$oi!e$oi#R$oi#S$oi#T$oi#U$oi#V$oi#W$oi#X$oi#Y$oi#[$oi#^$oi#`$oi#a$oi#d$oi']$oi'e$oi'l$oi|$oi}$oi~Oq'vOt'wOP$qiY$qii$qir$qi![$qi!]$qi!_$qi!e$qi#R$qi#S$qi#T$qi#U$qi#V$qi#W$qi#X$qi#Y$qi#[$qi#^$qi#`$qi#a$qi#d$qi']$qi'e$qi'l$qi'm$qi|$qi}$qi~O#d$Qy|$Qy}$Qy~P#'YO#d!vy|!vy}!vy~P#'YO!W!tO|&hq!^&hq~O|,kO!^'ry~Oy&jq|&jq~P!!iOy7SO~P!!iO|2PO}'wq~O!S7_O!T7_O'Q$^O'Y([O~O!O._O$w7bO~O!O._O$w7bO~P!!iO!^7eO~O%|7fOP%y!ZQ%y!ZW%y!Z]%y!Z^%y!Za%y!Zb%y!Zg%y!Zi%y!Zj%y!Zk%y!Zm%y!Zo%y!Zt%y!Zv%y!Zw%y!Zx%y!Z!O%y!Z!Y%y!Z!_%y!Z!b%y!Z!c%y!Z!d%y!Z!e%y!Z!f%y!Z!i%y!Z#Z%y!Z#k%y!Z#o%y!Z$v%y!Z$x%y!Z$z%y!Z${%y!Z%O%y!Z%Q%y!Z%T%y!Z%U%y!Z%W%y!Z%e%y!Z%k%y!Z%m%y!Z%o%y!Z%q%y!Z%t%y!Z%z%y!Z&O%y!Z&Q%y!Z&S%y!Z&U%y!Z&W%y!Z&v%y!Z'P%y!Z']%y!Z'q%y!Z}%y!Z%r%y!Z_%y!Z%w%y!Z~O^$WO!t7jO&{$WO~O^$WO!W!tO!t7jO&{$WO~OP$`qY$`qi$`qr$`q![$`q!]$`q!_$`q!e$`q#R$`q#S$`q#T$`q#U$`q#V$`q#W$`q#X$`q#Y$`q#[$`q#^$`q#`$`q#a$`q#d$`q']$`q|$`q}$`q~P!!iO|&oq}&oq~P#'YO^$WO!t8OO&{$WO~OP$syY$syi$syr$sy![$sy!]$sy!_$sy!e$sy#R$sy#S$sy#T$sy#U$sy#V$sy#W$sy#X$sy#Y$sy#[$sy#^$sy#`$sy#a$sy#d$sy']$sy|$sy}$sy~P!!iO'_'ZX~P.ZO'_ZXyZX!^ZX%iZX!OZX$wZX!WZX~P$tO!WcX!^ZX!^cX'ecX~P:xOP8`OQ8`O]bOa9uOb!gOgbOi8`OjbOkbOm8`Oo8`OtROvbOwbOxbO!OSO!Y8bO!_UO!b8`O!c8`O!d8`O!e8`O!f8`O!i!fO#k!iO#o]O'P'ZO']QO'q9sO~O|8qO}$Sa~O]#nOg#zOi#oOj#nOk#nOm#{Oo8vOt#tO!O#uO!Y9xO!_#rO!}8|O#k$PO$U8xO$W8zO$Z$QO'P&sO~O#Z'bO~P&'mO}ZX}cX~P:xO#O8eO~O!W!tO#O8eO~O!t8tO~O!t8}O|'jX}'jX~O!t8tO|'hX}'hX~O#O9OO~O'T9QO~P!!iO#O9VO~O#O9WO~O!W!tO#O9XO~O!W!tO#O9OO~O#d9YO~P#'YO#O9ZO~O#O9[O~O#O9]O~O#O9^O~O#d9_O~P!!iO#d9`O~P!!iO#o~!]!m!o!|!}'q$U$W$Z$l$v$w$x%O%Q%T%U%W%Y~TS#o'q#q'Y'P&}#Sx~\",\n  goto: \"#<v(OPPPPPPP(PP(aP)|PPPP-]PP-r2v4i4|P4|PPP4|P4|P6iPP6nP7VPPPP;fPPPP;f>UPPP>[@_P;fPBrPPPPDj;fPPPPPFc;fPPIbJ_PPPJcPJkKlP;f;fNs!#l!([!([!+iPPP!+p;fPPPPPPPPPP!.dP!/uPP;f!1SP;fP;f;f;f;fP;f!3fPP!6]P!9O!9W!9[!9[P!6YP!9`!9`P!<RP!<V;f;f!<]!>}4|P4|P4|4|P!@Q4|4|!At4|4|4|!Cu4|4|!Dc!F[!F[!F`!F[!FhP!F[P4|!Gd4|!Hm4|4|-]PPP!IyPP!Jc!JcP!JcP!Jx!JcPP!KOP!JuP!Ju!KbJg!Ju!LP!LV!LY(P!L](PP!Ld!Ld!LdP(PP(PP(PP(PPP(PP!Lj!LmP!Lm(PPPP(PP(PP(PP(PP(PP(P(P!Lq!L{!MR!Ma!Mg!Mm!Mw!M}!NX!N_!Nm!Ns!Ny# X# n##P##_##e##k##q##w#$R#$X#$_#$i#$s#$yPPPPPPPP#%PPP#%s#)qPP#+U#+]#+eP#/n#2RP#7{P#8P#8S#8V#8b#8eP#8h#8l#9Z#:O#:S#:fPP#:j#:p#:tP#:w#:{#;O#;n#<U#<Z#<^#<a#<g#<j#<n#<rmgOSi{!k$V%^%a%b%d*a*f.{/OQ$dlQ$knQ%UwS&O!`*|Q&c!gS(_#u(dQ)Y$eQ)f$mQ*Q%OQ+S&VS+Y&[+[Q+j&dQ-R(fQ.j*RU/o+^+_+`S2U._2WS3`/q/sU4v2Z2[2]Q5n3cS6b4w4xR7_6d$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8O!j']#Y#h&P'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vQ(o#|Q)_$gQ*S%RQ*Z%ZQ+t8uQ-n)SQ.r*XQ1r-tQ2k.kR3m8vpdOSiw{!k$V%T%^%a%b%d*a*f.{/OR*U%V&WVOSTijm{!Q!U!Z!h!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9u9vW!aRU!^&PQ$]kQ$clS$hn$mv$rpq!o!r$T$p&X&l&o)j)k)l*_*v+V+o+q/U0OQ$zuQ&`!fQ&b!gS(R#r(]S)X$d$eQ)]$gQ)i$oQ){$|Q*P%OS+i&c&dQ,o(SQ-r)YQ-x)`Q-{)dQ.e)|S.i*Q*RQ/z+jQ0s,kQ1q-tQ1t-wQ1w-}Q2j.jQ3x0tR6W4d!W$al!g$c$d$e%}&b&c&d(^)X)Y*y+X+i+j,{-r/e/l/p/z1Y3^3b5l6{Q)Q$]Q)q$wQ)t$xQ*O%OQ.P)iQ.d){U.h*P*Q*RQ2e.eS2i.i.jQ4q2TQ5T2jS6`4r4uS7]6a6cQ7u7^R8T7vW#x`$_(l9sS$wr%TQ$xsQ$ytR)o$u$T#w`!t!v#a#r#t#}$O$S&_'z'|'}(U(Y(j(k(})P)S)p)s+f+z,r,t-^-h-j.U.X.a.c0r0{1V1^1e1h1l1z2b2d3{4X4a4z5P6Z6g7b8s8w8x8y8z8{8|9R9S9T9U9V9W9Z9[9_9`9s9y9zV(p#|8u8vU&S!`$q+PQ&|!xQ)c$jQ,b'vQ.Y)uQ1_-ZR4m2P&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9v$]#^Y!]!l$Z%r%v&q&x'O'P'Q'R'S'T'U'V'W'X'Y'['_'c'm)b*q*z+T+k+y,P,S,U,a-_/Z/^/{0V0Z0[0]0^0_0`0a0b0c0d0e0f0g0j0o1c1o3U3X3h3k3l3q3r4o5d5g5r5v5w6v7X7h7|8W8a9l&ZbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vQ&Q!`R/a*|Y%z!`&O&V*|+SS(^#u(dS+X&[+[S,{(_(fQ,|(`Q-S(gQ.[)wS/l+Y+^S/p+_+`S/t+a2YQ1Y-RQ1[-TQ1]-US2T._2WS3^/o/qQ3a/rQ3b/sS4r2U2]S4u2Z2[S5l3`3cQ5o3dS6a4v4wQ6c4xQ6{5nS7^6b6dR7v7_lgOSi{!k$V%^%a%b%d*a*f.{/OQ%f!OS&p!s8eQ)V$bQ)y$zQ)z${Q+g&aS+x&u9OS-`(w9XQ-p)WQ.^)xQ/S*hQ/T*iQ/]*wQ/x+hS1d-a9]Q1m-qS1p-s9^Q3T/_Q3W/gQ3f/yQ4c1nQ5b3QQ5e3VQ5i3]Q5p3gQ6t5cQ6w5jQ7i6yQ7z7fR7}7k$W#]Y!]!l%r%v&q&x'O'P'Q'R'S'T'U'V'W'X'Y'['_'c'm)b*q*z+T+k+y,P,S,a-_/Z/^/{0V0Z0[0]0^0_0`0a0b0c0d0e0f0g0j0o1c1o3U3X3h3k3l3q3r4o5d5g5r5v5w6v7X7h7|8W8a9lU(i#v&t0iT({$Z,U$W#[Y!]!l%r%v&q&x'O'P'Q'R'S'T'U'V'W'X'Y'['_'c'm)b*q*z+T+k+y,P,S,a-_/Z/^/{0V0Z0[0]0^0_0`0a0b0c0d0e0f0g0j0o1c1o3U3X3h3k3l3q3r4o5d5g5r5v5w6v7X7h7|8W8a9lQ'^#]S(z$Z,UR-b({&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vQ%ayQ%bzQ%d|Q%e}R.z*dQ&]!fQ(|$]Q+d&`S-g)Q)iS/u+b+cW1g-d-e-f.PS3e/v/wU4`1i1j1kU6U4_4i4jQ7U6VR7q7WT+Z&[+[S+Z&[+[T2V._2WS&j!n.xQ,n(RQ,y(^S/k+X2TQ0x,oS1S,z-SU3_/p/t4uQ3w0sS4V1Z1]U5m3a3b6cQ5z3xQ6T4YR6|5oQ!uXS&i!n.xQ(x$UQ)T$`Q)Z$fQ+m&jQ,m(RQ,x(^Q,}(aQ-o)UQ.f)}S/j+X2TS0w,n,oS1R,y-SQ1U,|Q1X-OQ2g.gW3[/k/p/t4uQ3v0sQ3z0xS4P1S1]Q4W1[Q5R2hW5k3_3a3b6cS5y3w3xQ6O4RQ6R4VQ6^4pQ6k5SS6z5m5oQ7O5zQ7Q6PQ7T6TQ7Z6_Q7d6lQ7l6|Q7o7SQ7s7[Q8R7tQ8Y8SQ8^8ZQ9f9bQ9o9jR9p9k$nWORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8OS!um!h!j9a#Y#h&P'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vR9f9u$nXORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8OQ$Ua!W$`l!g$c$d$e%}&b&c&d(^)X)Y*y+X+i+j,{-r/e/l/p/z1Y3^3b5l6{S$fm!hQ)U$aQ)}%OW.g*O*P*Q*RU2h.h.i.jQ4p2TS5S2i2jU6_4q4r4uQ6l5TU7[6`6a6cS7t7]7^S8S7u7vQ8Z8T!j9b#Y#h&P'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vQ9j9tR9k9u$f[OSTij{!Q!U!Z!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8OU!eRU!^v$rpq!o!r$T$p&X&l&o)j)k)l*_*v+V+o+q/U0OQ*[%Z!h9c#Y#h'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vR9e&PS&T!`$qR/c+P$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8O!j']#Y#h&P'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vR*Z%Z!h#SY!]$Z%r%v&q&x'V'W'X'Y'_'c)b*q+T+k+y,P,a-_/{0V0g1c1o3X3h3k5g6v7h7|8W8a!R8l'['m*z,U/Z/^0Z0c0d0e0f0j0o3U3l3q3r4o5d5r5v5w7X9l!d#UY!]$Z%r%v&q&x'X'Y'_'c)b*q+T+k+y,P,a-_/{0V0g1c1o3X3h3k5g6v7h7|8W8a}8n'['m*z,U/Z/^0Z0e0f0j0o3U3l3q3r4o5d5r5v5w7X9l!`#YY!]$Z%r%v&q&x'_'c)b*q+T+k+y,P,a-_/{0V0g1c1o3X3h3k5g6v7h7|8W8al'}#p&v(v,i,q-V-W0T1b3u4Z9g9q9rx9v'['m*z,U/Z/^0Z0j0o3U3l3q3r4o5d5r5v5w7X9l!^9y&r'a(Q(W+c+w,u-c-f.T.V/w0S0y0}1k1|2O2`3j3|4S4]4b4j4}5q5|6S6iZ9z0h3p5s6}7m&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vS#i_#jR0l,X&a^ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,X,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vS#d]#kT'f#f'jT#e]#kT'h#f'j&a_ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$V$i%V%Y%Z%^%`%a%b%d%h%s%{&P&W&^&h&u&y'o'u(w)O*]*a*f*u*x+e+l+},T,X,Y-[-a-i-s.b.s.t.u.w.{/O/Q/`/i/|0W0k1y2R2c2v2x2y3S3Z5O5^5h6[6x7j8O8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9vT#i_#jQ#l_R'q#j$naORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$V$i%V%Y%Z%^%`%a%b%d%h%s%{&W&^&h&u&y'u(w)O*]*a*f+e+l+},T-[-a-i-s.b.s.t.u.w.{/O/Q/i/|0W1y2c2v2x2y3Z5O5^5h6x7j8O!k9t#Y#h&P'o*u*x,Y/`0k2R3S6[8`8b8e8f8g8h8i8j8k8l8m8n8o8p8q8t8}9O9Q9X9Y9]9^9v#RcOSUi{!Q!U!k!y#h$V%V%Y%Z%^%`%a%b%d%h%{&^'o)O*]*a*f+e,Y-[-i.b.s.t.u.w.{/O/Q0k1y2c2v2x2y5O5^t#v`!v#}$O$S'z'|'}(U(j(k+z-^0r1^9s9y9z!z&t!t#a#r#t&_(Y(})P)S)p)s+f,r,t-h-j.U.X.a.c0{1V1e1h1l1z2b2d3{4X4a4z5P6Z6g7b8w8y8{9R9T9V9Z9_Q(t$Qc0i8s8x8z8|9S9U9W9[9`t#s`!v#}$O$S'z'|'}(U(j(k+z-^0r1^9s9y9zS(a#u(dQ(u$RQ-O(b!z9h!t#a#r#t&_(Y(})P)S)p)s+f,r,t-h-j.U.X.a.c0{1V1e1h1l1z2b2d3{4X4a4z5P6Z6g7b8w8y8{9R9T9V9Z9_b9i8s8x8z8|9S9U9W9[9`Q9m9wR9n9xleOSi{!k$V%^%a%b%d*a*f.{/OQ(X#tQ*m%kQ*n%mR0z,r$S#w`!t!v#a#r#t#}$O$S&_'z'|'}(U(Y(j(k(})P)S)p)s+f+z,r,t-^-h-j.U.X.a.c0r0{1V1^1e1h1l1z2b2d3{4X4a4z5P6Z6g7b8s8w8x8y8z8{8|9R9S9T9U9V9W9Z9[9_9`9s9y9zQ)r$xQ.W)tQ1}.VR4l2OT(c#u(dS(c#u(dT2V._2WQ)T$`Q,}(aQ-o)UQ.f)}Q2g.gQ5R2hQ6^4pQ6k5SQ7Z6_Q7d6lQ7s7[Q8R7tQ8Y8SR8^8Zl'z#p&v(v,i,q-V-W0T1b3u4Z9g9q9r!^9R&r'a(Q(W+c+w,u-c-f.T.V/w0S0y0}1k1|2O2`3j3|4S4]4b4j4}5q5|6S6iZ9S0h3p5s6}7mn'|#p&v(v,g,i,q-V-W0T1b3u4Z9g9q9r!`9T&r'a(Q(W+c+w,u-c-f.T.V/w0Q0S0y0}1k1|2O2`3j3|4S4]4b4j4}5q5|6S6i]9U0h3p5s5t6}7mpdOSiw{!k$V%T%^%a%b%d*a*f.{/OQ%QvR*]%ZpdOSiw{!k$V%T%^%a%b%d*a*f.{/OR%QvQ)v$yR.S)oqdOSiw{!k$V%T%^%a%b%d*a*f.{/OQ.`){S2a.d.eW4y2^2_2`2eU6f4{4|4}U7`6e6h6iQ7w7aR8U7xQ%XwR*V%TR2n.mR6n5US$hn$mR-x)`Q%^xR*a%_R*g%eT.|*f/OQiOQ!kST$Yi!kQ!WQR%p!WQ![RU%t![%u*rQ%u!]R*r%vQ*}&QR/b*}Q+{&vR0U+{Q,O&xS0X,O0YR0Y,PQ+[&[R/m+[Q&Y!cQ*s%wT+W&Y*sQ+Q&TR/d+QQ&m!pQ+n&kU+r&m+n0PR0P+sQ'j#fR,Z'jQ#j_R'p#jQ#`YU'`#`*p8rQ*p8aR8r'mQ,l(RW0u,l0v3y5{U0v,m,n,oS3y0w0xR5{3z#o'x#p&r&v'a(Q(W(q(r(v+c+u+v+w,g,h,i,q,u-V-W-c-f.T.V/w0Q0R0S0T0h0y0}1b1k1|2O2`3j3n3o3p3u3|4S4Z4]4b4j4}5q5s5t5u5|6S6i6}7m9g9q9rQ,s(WU0|,s1O3}Q1O,uR3}0}Q(d#uR-P(dQ(m#yR-Y(mQ1f-cR4^1fQ)m$sR.R)mQ2Q.YS4n2Q6]R6]4oQ)x$zR.])xQ2W._R4s2WQ.l*SS2l.l5VR5V2nQ-u)]S1s-u4eR4e1tQ)a$hR-y)aQ/O*fR2|/OWhOSi!kQ%c{Q(y$VQ*`%^Q*b%aQ*c%bQ*e%dQ.y*aS.|*f/OR2{.{Q$XfQ%g!PQ%j!RQ%l!SQ%n!TQ)h$nQ)n$tQ*U%XQ*k%iS.o*V*YQ/V*jQ/W*mQ/X*nS/h+X2TQ1P,wQ1Q,xQ1W,}Q1v-|Q1{.TQ2f.fQ2p.qQ2z.zY3Y/j/k/p/t4uQ4O1RQ4Q1TQ4T1XQ4h1xQ4k1|Q5Q2gQ5W2o[5f3X3[3_3a3b6cQ5}4PQ6Q4UQ6X4fQ6j5RQ6o5XW6u5g5k5m5oQ7P6OQ7R6RQ7V6YQ7Y6^Q7c6kU7g6v6z6|Q7n7QQ7p7TQ7r7ZQ7y7dS7{7h7lQ8P7oQ8Q7sQ8V7|Q8X8RQ8[8WQ8]8YR8_8^Q$blQ&a!gU)W$c$d$eQ*w%}U+h&b&c&dQ,w(^S-q)X)YQ/_*yQ/g+XS/y+i+jQ1T,{Q1n-rQ3V/eS3]/l/pQ3g/zQ4U1YS5j3^3bQ6y5lR7k6{S#q`9sR)R$_U#y`$_9sR-X(lQ#p`S&r!t)SQ&v!vQ'a#aQ(Q#rQ(W#tQ(q#}Q(r$OQ(v$SQ+c&_Q+u8wQ+v8yQ+w8{Q,g'zQ,h'|Q,i'}Q,q(UQ,u(YQ-V(jQ-W(kd-c(}-h.a1h2b4a4z6Z6g7bQ-f)PQ.T)pQ.V)sQ/w+fQ0Q9RQ0R9TQ0S9VQ0T+zQ0h8sQ0y,rQ0},tQ1b-^Q1k-jQ1|.UQ2O.XQ2`.cQ3j9ZQ3n8xQ3o8zQ3p8|Q3u0rQ3|0{Q4S1VQ4Z1^Q4]1eQ4b1lQ4j1zQ4}2dQ5q9_Q5s9WQ5t9SQ5u9UQ5|3{Q6S4XQ6i5PQ6}9[Q7m9`Q9g9sQ9q9yR9r9zlfOSi{!k$V%^%a%b%d*a*f.{/OS!mU%`Q%i!QQ%o!UQ&}!yQ'n#hS*Y%V%YQ*^%ZQ*j%hQ*t%{Q+b&^Q,_'oQ-e)OQ.v*]Q/v+eQ0n,YQ1`-[Q1j-iQ2_.bQ2r.sQ2s.tQ2u.uQ2w.wQ3O/QQ3s0kQ4i1yQ4|2cQ5]2vQ5_2xQ5`2yQ6h5OR6q5^!vYOSUi{!Q!k!y$V%V%Y%Z%^%`%a%b%d%h%{&^)O*]*a*f+e-[-i.b.s.t.u.w.{/O/Q1y2c2v2x2y5O5^Q!]RQ!lTQ$ZjQ%r!ZQ%v!^Q&q!sQ&x!wQ'O!|Q'P!}Q'Q#OQ'R#PQ'S#QQ'T#RQ'U#SQ'V#TQ'W#UQ'X#VQ'Y#WQ'[#YQ'_#_Q'c#bW'm#h'o,Y0kQ)b$iQ*q%sS*z&P/`Q+T&WQ+k&hQ+y&uQ,P&yQ,S8`Q,U8bQ,a'uQ-_(wQ/Z*uQ/^*xQ/{+lQ0V+}Q0Z8eQ0[8fQ0]8gQ0^8hQ0_8iQ0`8jQ0a8kQ0b8lQ0c8mQ0d8nQ0e8oQ0f8pQ0g,TQ0j8tQ0o8qQ1c-aQ1o-sQ3U8}Q3X/iQ3h/|Q3k0WQ3l9OQ3q9QQ3r9XQ4o2RQ5d3SQ5g3ZQ5r9YQ5v9]Q5w9^Q6v5hQ7X6[Q7h6xQ7|7jQ8W8OQ8a!UR9l9vT!VQ!WR!_RR&R!`S%}!`*|S*y&O&VR/e+SR&w!vR&z!wT!qU$TS!pU$TU$spq*_S&k!o!rQ+p&lQ+s&oQ.Q)lS/}+o+qR3i0O[!bR!^$p&X)j+Vh!nUpq!o!r$T&l&o)l+o+q0OQ.x*_Q/[*vQ3R/UT9d&P)kT!dR$pS!cR$pS%w!^)jS*{&P)kQ+U&XR/f+VT&U!`$qQ#f]R's#kT'i#f'jR0m,XT(T#r(]R(Z#tQ-d(}Q1i-hQ2^.aQ4_1hQ4{2bQ6V4aQ6e4zQ7W6ZQ7a6gR7x7blgOSi{!k$V%^%a%b%d*a*f.{/OQ%WwR*U%TV$tpq*_R.Z)uR*T%RQ$lnR)g$mR)^$gT%[x%_T%]x%_T.}*f/O\",\n  nodeNames: \"⚠ ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyNameDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract PropertyDeclaration readonly Optional TypeAnnotation Equals FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement\",\n  maxTerm: 321,\n  nodeProps: [\n    [NodeProp.group, -26,7,14,16,53,175,179,182,183,185,188,191,202,204,210,212,214,216,219,225,229,231,233,235,237,239,240,\"Statement\",-30,11,13,23,26,27,37,38,39,40,42,47,55,63,69,70,83,84,93,94,110,113,115,116,117,118,120,121,139,140,142,\"Expression\",-21,22,24,28,30,143,145,147,148,150,151,152,154,155,156,158,159,160,169,171,173,174,\"Type\",-2,74,78,\"ClassItem\"],\n    [NodeProp.closedBy, 36,\"]\",46,\"}\",61,\")\",123,\"JSXSelfCloseEndTag JSXEndTag\",137,\"JSXEndTag\"],\n    [NodeProp.openedBy, 41,\"[\",45,\"{\",60,\"(\",122,\"JSXStartTag\",132,\"JSXStartTag JSXStartCloseTag\"]\n  ],\n  skippedNodes: [0,4,5],\n  repeatNodeCount: 27,\n  tokenData: \"!?v~R!ZOX$tX^%S^p$tpq%Sqr&rrs'zst$ttu/wuv2Xvw2|wx3zxy:byz:rz{;S{|<S|}<g}!O<S!O!P<w!P!QAT!Q!R!-s!R![!/Y![!]!4x!]!^!5[!^!_!5l!_!`!6i!`!a!7a!a!b!9W!b!c$t!c!}/w!}#O!:i#O#P$t#P#Q!:y#Q#R!;Z#R#S/w#S#T!;n#T#o/w#o#p!<O#p#q!<T#q#r!<k#r#s!<}#s#y$t#y#z%S#z$f$t$f$g%S$g#BY/w#BY#BZ!=_#BZ$IS/w$IS$I_!=_$I_$I|/w$I|$JO!=_$JO$JT/w$JT$JU!=_$JU$KV/w$KV$KW!=_$KW&FU/w&FU&FV!=_&FV~/wW$yR#{WO!^$t!_#o$t#p~$t,T%Zg#{W&}+{OX$tX^%S^p$tpq%Sq!^$t!_#o$t#p#y$t#y#z%S#z$f$t$f$g%S$g#BY$t#BY#BZ%S#BZ$IS$t$IS$I_%S$I_$I|$t$I|$JO%S$JO$JT$t$JT$JU%S$JU$KV$t$KV$KW%S$KW&FU$t&FU&FV%S&FV~$t$T&yS#{W!e#{O!^$t!_!`'V!`#o$t#p~$t$O'^S#[#v#{WO!^$t!_!`'j!`#o$t#p~$t$O'qR#[#v#{WO!^$t!_#o$t#p~$t'u(RZ#{W]!ROY'zYZ(tZr'zrs*Rs!^'z!^!_*e!_#O'z#O#P,q#P#o'z#o#p*e#p~'z&r(yV#{WOr(trs)`s!^(t!^!_)p!_#o(t#o#p)p#p~(t&r)gR#v&j#{WO!^$t!_#o$t#p~$t&j)sROr)prs)|s~)p&j*RO#v&j'u*[R#v&j#{W]!RO!^$t!_#o$t#p~$t'm*jV]!ROY*eYZ)pZr*ers+Ps#O*e#O#P+W#P~*e'm+WO#v&j]!R'm+ZROr*ers+ds~*e'm+kU#v&j]!ROY+}Zr+}rs,fs#O+}#O#P,k#P~+}!R,SU]!ROY+}Zr+}rs,fs#O+}#O#P,k#P~+}!R,kO]!R!R,nPO~+}'u,vV#{WOr'zrs-]s!^'z!^!_*e!_#o'z#o#p*e#p~'z'u-fZ#v&j#{W]!ROY.XYZ$tZr.Xrs/Rs!^.X!^!_+}!_#O.X#O#P/c#P#o.X#o#p+}#p~.X!Z.`Z#{W]!ROY.XYZ$tZr.Xrs/Rs!^.X!^!_+}!_#O.X#O#P/c#P#o.X#o#p+}#p~.X!Z/YR#{W]!RO!^$t!_#o$t#p~$t!Z/hT#{WO!^.X!^!_+}!_#o.X#o#p+}#p~.X&i0S_#{W#qS'Yp'P%kOt$ttu/wu}$t}!O1R!O!Q$t!Q![/w![!^$t!_!c$t!c!}/w!}#R$t#R#S/w#S#T$t#T#o/w#p$g$t$g~/w[1Y_#{W#qSOt$ttu1Ru}$t}!O1R!O!Q$t!Q![1R![!^$t!_!c$t!c!}1R!}#R$t#R#S1R#S#T$t#T#o1R#p$g$t$g~1R$O2`S#T#v#{WO!^$t!_!`2l!`#o$t#p~$t$O2sR#{W#f#vO!^$t!_#o$t#p~$t%r3TU'm%j#{WOv$tvw3gw!^$t!_!`2l!`#o$t#p~$t$O3nS#{W#`#vO!^$t!_!`2l!`#o$t#p~$t'u4RZ#{W]!ROY3zYZ4tZw3zwx*Rx!^3z!^!_5l!_#O3z#O#P7l#P#o3z#o#p5l#p~3z&r4yV#{WOw4twx)`x!^4t!^!_5`!_#o4t#o#p5`#p~4t&j5cROw5`wx)|x~5`'m5qV]!ROY5lYZ5`Zw5lwx+Px#O5l#O#P6W#P~5l'm6ZROw5lwx6dx~5l'm6kU#v&j]!ROY6}Zw6}wx,fx#O6}#O#P7f#P~6}!R7SU]!ROY6}Zw6}wx,fx#O6}#O#P7f#P~6}!R7iPO~6}'u7qV#{WOw3zwx8Wx!^3z!^!_5l!_#o3z#o#p5l#p~3z'u8aZ#v&j#{W]!ROY9SYZ$tZw9Swx/Rx!^9S!^!_6}!_#O9S#O#P9|#P#o9S#o#p6}#p~9S!Z9ZZ#{W]!ROY9SYZ$tZw9Swx/Rx!^9S!^!_6}!_#O9S#O#P9|#P#o9S#o#p6}#p~9S!Z:RT#{WO!^9S!^!_6}!_#o9S#o#p6}#p~9S%V:iR!_$}#{WO!^$t!_#o$t#p~$tZ:yR!^R#{WO!^$t!_#o$t#p~$t%R;]U'Q!R#U#v#{WOz$tz{;o{!^$t!_!`2l!`#o$t#p~$t$O;vS#R#v#{WO!^$t!_!`2l!`#o$t#p~$t$u<ZSi$m#{WO!^$t!_!`2l!`#o$t#p~$t&i<nR|&a#{WO!^$t!_#o$t#p~$t&i=OVq%n#{WO!O$t!O!P=e!P!Q$t!Q![>Z![!^$t!_#o$t#p~$ty=jT#{WO!O$t!O!P=y!P!^$t!_#o$t#p~$ty>QR{q#{WO!^$t!_#o$t#p~$ty>bZ#{WjqO!Q$t!Q![>Z![!^$t!_!g$t!g!h?T!h#R$t#R#S>Z#S#X$t#X#Y?T#Y#o$t#p~$ty?YZ#{WO{$t{|?{|}$t}!O?{!O!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$ty@QV#{WO!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$ty@nV#{WjqO!Q$t!Q![@g![!^$t!_#R$t#R#S@g#S#o$t#p~$t,TA[`#{W#S#vOYB^YZ$tZzB^z{HT{!PB^!P!Q!*|!Q!^B^!^!_Da!_!`!+u!`!a!,t!a!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^XBe[#{WxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^XCb_#{WxPO!^$t!_#Z$t#Z#[CZ#[#]$t#]#^CZ#^#a$t#a#bCZ#b#g$t#g#hCZ#h#i$t#i#jCZ#j#m$t#m#nCZ#n#o$t#p~$tPDfVxPOYDaZ!PDa!P!QD{!Q!}Da!}#OEd#O#PFP#P~DaPEQUxP#Z#[D{#]#^D{#a#bD{#g#hD{#i#jD{#m#nD{PEgTOYEdZ#OEd#O#PEv#P#QDa#Q~EdPEyQOYEdZ~EdPFSQOYDaZ~DaXF_Y#{WOYFYYZ$tZ!^FY!^!_Ed!_#OFY#O#PF}#P#QB^#Q#oFY#o#pEd#p~FYXGSV#{WOYFYYZ$tZ!^FY!^!_Ed!_#oFY#o#pEd#p~FYXGnV#{WOYB^YZ$tZ!^B^!^!_Da!_#oB^#o#pDa#p~B^,TH[^#{WxPOYHTYZIWZzHTz{Ki{!PHT!P!Q!)j!Q!^HT!^!_Mt!_!}HT!}#O!%e#O#P!(x#P#oHT#o#pMt#p~HT,TI]V#{WOzIWz{Ir{!^IW!^!_Jt!_#oIW#o#pJt#p~IW,TIwX#{WOzIWz{Ir{!PIW!P!QJd!Q!^IW!^!_Jt!_#oIW#o#pJt#p~IW,TJkR#{WT+{O!^$t!_#o$t#p~$t+{JwROzJtz{KQ{~Jt+{KTTOzJtz{KQ{!PJt!P!QKd!Q~Jt+{KiOT+{,TKp^#{WxPOYHTYZIWZzHTz{Ki{!PHT!P!QLl!Q!^HT!^!_Mt!_!}HT!}#O!%e#O#P!(x#P#oHT#o#pMt#p~HT,TLu_#{WT+{xPO!^$t!_#Z$t#Z#[CZ#[#]$t#]#^CZ#^#a$t#a#bCZ#b#g$t#g#hCZ#h#i$t#i#jCZ#j#m$t#m#nCZ#n#o$t#p~$t+{MyYxPOYMtYZJtZzMtz{Ni{!PMt!P!Q!$a!Q!}Mt!}#O! w#O#P!#}#P~Mt+{NnYxPOYMtYZJtZzMtz{Ni{!PMt!P!Q! ^!Q!}Mt!}#O! w#O#P!#}#P~Mt+{! eUT+{xP#Z#[D{#]#^D{#a#bD{#g#hD{#i#jD{#m#nD{+{! zWOY! wYZJtZz! wz{!!d{#O! w#O#P!#k#P#QMt#Q~! w+{!!gYOY! wYZJtZz! wz{!!d{!P! w!P!Q!#V!Q#O! w#O#P!#k#P#QMt#Q~! w+{!#[TT+{OYEdZ#OEd#O#PEv#P#QDa#Q~Ed+{!#nTOY! wYZJtZz! wz{!!d{~! w+{!$QTOYMtYZJtZzMtz{Ni{~Mt+{!$f_xPOzJtz{KQ{#ZJt#Z#[!$a#[#]Jt#]#^!$a#^#aJt#a#b!$a#b#gJt#g#h!$a#h#iJt#i#j!$a#j#mJt#m#n!$a#n~Jt,T!%j[#{WOY!%eYZIWZz!%ez{!&`{!^!%e!^!_! w!_#O!%e#O#P!(W#P#QHT#Q#o!%e#o#p! w#p~!%e,T!&e^#{WOY!%eYZIWZz!%ez{!&`{!P!%e!P!Q!'a!Q!^!%e!^!_! w!_#O!%e#O#P!(W#P#QHT#Q#o!%e#o#p! w#p~!%e,T!'hY#{WT+{OYFYYZ$tZ!^FY!^!_Ed!_#OFY#O#PF}#P#QB^#Q#oFY#o#pEd#p~FY,T!(]X#{WOY!%eYZIWZz!%ez{!&`{!^!%e!^!_! w!_#o!%e#o#p! w#p~!%e,T!(}X#{WOYHTYZIWZzHTz{Ki{!^HT!^!_Mt!_#oHT#o#pMt#p~HT,T!)qc#{WxPOzIWz{Ir{!^IW!^!_Jt!_#ZIW#Z#[!)j#[#]IW#]#^!)j#^#aIW#a#b!)j#b#gIW#g#h!)j#h#iIW#i#j!)j#j#mIW#m#n!)j#n#oIW#o#pJt#p~IW,T!+TV#{WS+{OY!*|YZ$tZ!^!*|!^!_!+j!_#o!*|#o#p!+j#p~!*|+{!+oQS+{OY!+jZ~!+j$P!,O[#{W#f#vxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^]!,}[#nS#{WxPOYB^YZ$tZ!PB^!P!QCZ!Q!^B^!^!_Da!_!}B^!}#OFY#O#PGi#P#oB^#o#pDa#p~B^y!-zd#{WjqO!O$t!O!P>Z!P!Q$t!Q![!/Y![!^$t!_!g$t!g!h?T!h#R$t#R#S!/Y#S#U$t#U#V!0p#V#X$t#X#Y?T#Y#b$t#b#c!0`#c#d!2O#d#l$t#l#m!3W#m#o$t#p~$ty!/a_#{WjqO!O$t!O!P>Z!P!Q$t!Q![!/Y![!^$t!_!g$t!g!h?T!h#R$t#R#S!/Y#S#X$t#X#Y?T#Y#b$t#b#c!0`#c#o$t#p~$ty!0gR#{WjqO!^$t!_#o$t#p~$ty!0uW#{WO!Q$t!Q!R!1_!R!S!1_!S!^$t!_#R$t#R#S!1_#S#o$t#p~$ty!1fW#{WjqO!Q$t!Q!R!1_!R!S!1_!S!^$t!_#R$t#R#S!1_#S#o$t#p~$ty!2TV#{WO!Q$t!Q!Y!2j!Y!^$t!_#R$t#R#S!2j#S#o$t#p~$ty!2qV#{WjqO!Q$t!Q!Y!2j!Y!^$t!_#R$t#R#S!2j#S#o$t#p~$ty!3]Z#{WO!Q$t!Q![!4O![!^$t!_!c$t!c!i!4O!i#R$t#R#S!4O#S#T$t#T#Z!4O#Z#o$t#p~$ty!4VZ#{WjqO!Q$t!Q![!4O![!^$t!_!c$t!c!i!4O!i#R$t#R#S!4O#S#T$t#T#Z!4O#Z#o$t#p~$t%w!5RR!WV#{W#d%hO!^$t!_#o$t#p~$t!P!5cR^w#{WO!^$t!_#o$t#p~$t+c!5wR'Ud![%Y#o&s'qP!P!Q!6Q!^!_!6V!_!`!6dW!6VO#}W#v!6[P#V#v!_!`!6_#v!6dO#f#v#v!6iO#W#v%w!6pT!t%o#{WO!^$t!_!`'V!`!a!7P!a#o$t#p~$t$P!7WR#O#w#{WO!^$t!_#o$t#p~$t%w!7lT'T!s#W#v#xS#{WO!^$t!_!`!7{!`!a!8]!a#o$t#p~$t$O!8SR#W#v#{WO!^$t!_#o$t#p~$t$O!8dT#V#v#{WO!^$t!_!`2l!`!a!8s!a#o$t#p~$t$O!8zS#V#v#{WO!^$t!_!`2l!`#o$t#p~$t%w!9_V'e%o#{WO!O$t!O!P!9t!P!^$t!_!a$t!a!b!:U!b#o$t#p~$t$`!9{Rr$W#{WO!^$t!_#o$t#p~$t$O!:]S#{W#a#vO!^$t!_!`2l!`#o$t#p~$t&e!:pRt&]#{WO!^$t!_#o$t#p~$tZ!;QRyR#{WO!^$t!_#o$t#p~$t$O!;bS#^#v#{WO!^$t!_!`2l!`#o$t#p~$t$P!;uR#{W']#wO!^$t!_#o$t#p~$t~!<TO!O~%r!<[T'l%j#{WO!^$t!_!`2l!`#o$t#p#q!:U#q~$t$u!<tR}$k#{W'_QO!^$t!_#o$t#p~$tX!=UR!fP#{WO!^$t!_#o$t#p~$t,T!=lr#{W#qS'Yp'P%k&}+{OX$tX^%S^p$tpq%Sqt$ttu/wu}$t}!O1R!O!Q$t!Q![/w![!^$t!_!c$t!c!}/w!}#R$t#R#S/w#S#T$t#T#o/w#p#y$t#y#z%S#z$f$t$f$g%S$g#BY/w#BY#BZ!=_#BZ$IS/w$IS$I_!=_$I_$I|/w$I|$JO!=_$JO$JT/w$JT$JU!=_$JU$KV/w$KV$KW!=_$KW&FU/w&FU&FV!=_&FV~/w\",\n  tokenizers: [noSemicolon, incdecToken, template, 0, 1, 2, 3, 4, 5, 6, 7, 8, insertSemicolon],\n  topRules: {\"Script\":[0,6]},\n  dialects: {jsx: 11074, ts: 11076},\n  dynamicPrecedences: {\"140\":1,\"167\":1},\n  specialized: [{term: 277, get: (value, stack) => (tsExtends(value, stack) << 1) | 1},{term: 277, get: value => spec_identifier[value] || -1},{term: 286, get: value => spec_word[value] || -1},{term: 58, get: value => spec_LessThan[value] || -1}],\n  tokenPrec: 11096\n});\n\nexport { parser };\n","import { Annotation, Facet, combineConfig, StateField, Transaction, ChangeSet, ChangeDesc, EditorSelection, StateEffect } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\n\nconst fromHistory = Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = Facet.define();\nconst historyConfig = Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500\n        }, { minDepth: Math.max, newGroupDelay: Math.min });\n    }\n});\nconst historyField_ = StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let item = HistEvent.fromTransaction(tr), from = fromHist.side;\n            let other = from == 0 /* Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* Done */ ? fromHist.rest : other, from == 0 /* Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config.newGroupDelay, config.minDepth);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                if (e.inputType == \"historyUndo\")\n                    return undo(view);\n                if (e.inputType == \"historyRedo\")\n                    return redo(view);\n                return false;\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = cmd(0 /* Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = cmd(1 /* Undone */, false);\n/**\nUndo a selection change.\n*/\nconst undoSelection = cmd(0 /* Done */, true);\n/**\nRedo a selection change.\n*/\nconst redoSelection = cmd(1 /* Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = depth(0 /* Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = depth(1 /* Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, newGroupDelay, maxLen) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes &&\n            time - this.prevTime < newGroupDelay &&\n            !lastEvent.selectionsAfter.length &&\n            !lastEvent.changes.empty && event.changes &&\n            isAdjacent(lastEvent.changes, event.changes)) {\n            done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, maxLen, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == \"keyboardselection\" && this.prevUserEvent == userEvent &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) })\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false\n            });\n        }\n    }\n}\nHistoryState.empty = new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#history.undo).\n- Mod-y (Mod-Shift-z on macOS): [`redo`](https://codemirror.net/6/docs/ref/#history.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#history.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#history.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nexport { history, historyField, historyKeymap, invertedEffects, isolateHistory, redo, redoDepth, redoSelection, undo, undoDepth, undoSelection };\n","export default \"<mat-tab-group>\\n  <mat-tab label=\\\"Default Setting\\\">\\n    Codemirror:\\n    <gewd-codemirror [codemirrorExtensions]=\\\"normalExtensions\\\"\\n                     (changed)=\\\"textarea.value = $event\\\"\\n\\n                     #codemirror></gewd-codemirror>\\n\\n    Twoway Binding to normal Textarea <br/>\\n    <textarea #textarea (keyup)=\\\"updateCodemirror(codemirror, textarea)\\\"></textarea>\\n\\n    <br/>\\n\\n    Current Selection: {{codemirror.selectedRange | json}}\\n\\n    <br>\\n\\n    <button (click)=\\\"insertText(codemirror)\\\">insert text at position</button>\\n  </mat-tab>\\n  <mat-tab label=\\\"Enable CodeMirror Features\\\">\\n    <gewd-codemirror [codemirrorExtensions]=\\\"extensions\\\"></gewd-codemirror>\\n  </mat-tab>\\n</mat-tab-group>\\n\";","import { EditorView, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, Prec } from '@codemirror/state';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\nimport elt from 'crelt';\nimport { codePointAt, fromCodePoint, codePointSize } from '@codemirror/text';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize) {\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        return match;\n    }\n}\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = from;\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = to + (from == to ? 1 : 0);\n                if (from == this.curLine.length)\n                    this.nextLine();\n                if (from < to || from > this.value.to) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = from;\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            // If a match goes almost to the end of a noncomplete chunk, try\n            // again, since it'll likely be able to match more\n            if (match && this.flat.to < this.to && match.index + match[0].length > this.flat.text.length - 10)\n                match = null;\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                this.value = { from, to, match };\n                this.matchPos = to + (from == to ? 1 : 0);\n                return this;\n            }\n            else {\n                if (this.flat.to == this.to) {\n                    this.done = true;\n                    return this;\n                }\n                // Grow the flattened doc\n                this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n            }\n        }\n    }\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom, pos: -10 };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            query = state.sliceDoc(range.from, range.to).trim();\n            if (!query)\n                return Decoration.none;\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.nextOverlapping().done) {\n                let { from, to } = cursor.value;\n                if (!check || ((from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n                    (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word))) {\n                    if (check && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { ranges } = state.selection;\n    let ahead = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to).next();\n    if (!ahead.done)\n        return ahead.value;\n    let cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n    while (!cursor.next().done) {\n        if (!ranges.some(r => r.from === cursor.value.from))\n            return cursor.value;\n    }\n    return null;\n}\n/**\nSelect next occurrence of the current selection.\nExpand selection to the word when selection range is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to)),\n        scrollIntoView: true\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return { top: configs.some(c => c.top) };\n    }\n});\n/**\nConfigure the behavior of the search extension.\n*/\nfunction searchConfig(config) {\n    return searchConfigFacet.of(config);\n}\nclass Query {\n    constructor(search, replace, caseInsensitive) {\n        this.search = search;\n        this.replace = replace;\n        this.caseInsensitive = caseInsensitive;\n    }\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseInsensitive == other.caseInsensitive && this.constructor == other.constructor;\n    }\n}\nclass StringQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.unquoted = search.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new SearchCursor(doc, this.unquoted, from, to, this.caseInsensitive ? x => x.toLowerCase() : undefined);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).nextOverlapping();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(doc, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* ChunkSize */ - this.unquoted.length);\n            let cursor = this.cursor(doc, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* ChunkSize */;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(_result) { return this.replace; }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - this.unquoted.length), Math.min(to + this.unquoted.length, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n    get valid() { return !!this.search; }\n}\nclass RegExpQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.valid = !!search && validRegExp(search);\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new RegExpCursor(doc, this.search, this.caseInsensitive ? { ignoreCase: true } : undefined, from, to);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).next();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(doc, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* ChunkSize */);\n            let cursor = this.cursor(doc, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(result) {\n        return this.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m);\n    }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - 250 /* HighlightMargin */), Math.min(to + 250 /* HighlightMargin */, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nconst setQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state), createSearchPanel);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setQuery))\n                value = new SearchState(effect.value, value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state.doc, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { from, to } = view.state.selection.main;\n    let next = query.nextMatch(view.state.doc, from, to);\n    if (!next || next.from == from && next.to == to)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next)\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    let range = query.prevMatch(state.doc, from, to);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range)\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state.doc, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to)))\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({ selection: EditorSelection.create(ranges, main) }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    let next = query.nextMatch(state.doc, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state.doc, next.from, next.to);\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: next ? announceMatch(view, next) : undefined\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    let changes = query.matchAll(view.state.doc, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    view.dispatch({ changes });\n    return true;\n});\nfunction createSearchPanel(view) {\n    let { query } = view.state.field(searchState);\n    return {\n        dom: buildPanel({\n            view,\n            query,\n            updateQuery(q) {\n                if (!query.eq(q)) {\n                    query = q;\n                    view.dispatch({ effects: setQuery.of(query) });\n                }\n            }\n        }),\n        mount() {\n            this.dom.querySelector(\"[name=search]\").select();\n        },\n        pos: 80,\n        top: view.state.facet(searchConfigFacet).top\n    };\n}\nfunction defaultQuery(state, fallback) {\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    return fallback && !selText ? fallback : new StringQuery(selText.replace(/\\n/g, \"\\\\n\"), \"\", (fallback === null || fallback === void 0 ? void 0 : fallback.caseInsensitive) || false);\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        panel.dom.querySelector(\"[name=search]\").focus();\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setQuery.of(defaultQuery(view.state, state.query)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence },\n];\nfunction buildPanel(conf) {\n    function phrase(phrase) { return conf.view.state.phrase(phrase); }\n    let searchField = elt(\"input\", {\n        value: conf.query.search,\n        placeholder: phrase(\"Find\"),\n        \"aria-label\": phrase(\"Find\"),\n        class: \"cm-textfield\",\n        name: \"search\",\n        onchange: update,\n        onkeyup: update\n    });\n    let replaceField = elt(\"input\", {\n        value: conf.query.replace,\n        placeholder: phrase(\"Replace\"),\n        \"aria-label\": phrase(\"Replace\"),\n        class: \"cm-textfield\",\n        name: \"replace\",\n        onchange: update,\n        onkeyup: update\n    });\n    let caseField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"case\",\n        checked: !conf.query.caseInsensitive,\n        onchange: update\n    });\n    let reField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"re\",\n        checked: conf.query instanceof RegExpQuery,\n        onchange: update\n    });\n    function update() {\n        conf.updateQuery(new (reField.checked ? RegExpQuery : StringQuery)(searchField.value, replaceField.value, !caseField.checked));\n    }\n    function keydown(e) {\n        if (runScopeHandlers(conf.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(conf.view);\n        }\n        else if (e.keyCode == 13 && e.target == replaceField) {\n            e.preventDefault();\n            replaceNext(conf.view);\n        }\n    }\n    function button(name, onclick, content) {\n        return elt(\"button\", { class: \"cm-button\", name, onclick }, content);\n    }\n    let panel = elt(\"div\", { onkeydown: keydown, class: \"cm-search\" }, [\n        searchField,\n        button(\"next\", () => findNext(conf.view), [phrase(\"next\")]),\n        button(\"prev\", () => findPrevious(conf.view), [phrase(\"previous\")]),\n        button(\"select\", () => selectMatches(conf.view), [phrase(\"all\")]),\n        elt(\"label\", null, [caseField, phrase(\"match case\")]),\n        elt(\"label\", null, [reField, phrase(\"regexp\")]),\n        elt(\"br\"),\n        replaceField,\n        button(\"replace\", () => replaceNext(conf.view), [phrase(\"replace\")]),\n        button(\"replaceAll\", () => replaceAll(conf.view), [phrase(\"replace all\")]),\n        elt(\"button\", { name: \"close\", onclick: () => closeSearchPanel(conf.view), \"aria-label\": phrase(\"close\") }, [\"×\"])\n    ]);\n    return panel;\n}\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let lineStart = view.state.doc.lineAt(from).from, lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(lineStart, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != lineStart) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${view.state.doc.lineAt(from).number}`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.override(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, closeSearchPanel, findNext, findPrevious, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, searchConfig, searchKeymap, selectMatches, selectNextOccurrence, selectSelectionMatches };\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    (safari || ie) && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string) → string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: () → string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: () → string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>)\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  static mount(root, modules) {\n    (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = null\n\nclass StyleSet {\n  constructor(root) {\n    if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != \"undefined\") {\n      if (adoptedSet) {\n        root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets)\n        return root[SET] = adoptedSet\n      }\n      this.sheet = new CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets)\n      adoptedSet = this\n    } else {\n      this.styleTag = (root.ownerDocument || root).createElement(\"style\")\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-case—the library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","import { highlightSpecialChars, drawSelection, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nexport { EditorState } from '@codemirror/state';\nimport { history, historyKeymap } from '@codemirror/history';\nimport { foldGutter, foldKeymap } from '@codemirror/fold';\nimport { indentOnInput } from '@codemirror/language';\nimport { lineNumbers, highlightActiveLineGutter } from '@codemirror/gutter';\nimport { defaultKeymap } from '@codemirror/commands';\nimport { bracketMatching } from '@codemirror/matchbrackets';\nimport { closeBrackets, closeBracketsKeymap } from '@codemirror/closebrackets';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { commentKeymap } from '@codemirror/comment';\nimport { rectangularSelection } from '@codemirror/rectangular-selection';\nimport { defaultHighlightStyle } from '@codemirror/highlight';\nimport { lintKeymap } from '@codemirror/lint';\n\n/**\nThis is an extension value that just pulls together a whole lot of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#gutter.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#history.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#fold.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#highlight.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#matchbrackets.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#rectangular-selection.rectangularSelection)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#gutter.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [commenting](https://codemirror.net/6/docs/ref/#comment.commentKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis package does not allow customization. The idea is that, once\nyou decide you want to configure your editor more precisely, you\ntake this package's source (which is just a bunch of imports and\nan array literal), copy it into your own code, and adjust it as\ndesired.\n*/\nconst basicSetup = [\n    /*@__PURE__*/lineNumbers(),\n    /*@__PURE__*/highlightActiveLineGutter(),\n    /*@__PURE__*/highlightSpecialChars(),\n    /*@__PURE__*/history(),\n    /*@__PURE__*/foldGutter(),\n    /*@__PURE__*/drawSelection(),\n    /*@__PURE__*/EditorState.allowMultipleSelections.of(true),\n    /*@__PURE__*/indentOnInput(),\n    defaultHighlightStyle.fallback,\n    /*@__PURE__*/bracketMatching(),\n    /*@__PURE__*/closeBrackets(),\n    /*@__PURE__*/autocompletion(),\n    /*@__PURE__*/rectangularSelection(),\n    /*@__PURE__*/highlightActiveLine(),\n    /*@__PURE__*/highlightSelectionMatches(),\n    /*@__PURE__*/keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...commentKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n];\n\nexport { basicSetup };\n","import { parser } from 'lezer-javascript';\nimport { LezerLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\n\n/// A collection of JavaScript-related\n/// [snippets](#autocomplete.snippet).\nconst snippets = [\n    snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n\n/// A language provider based on the [Lezer JavaScript\n/// parser](https://github.com/lezer-parser/javascript), extended with\n/// highlighting and indentation information.\nconst javascriptLanguage = LezerLanguage.define({\n    parser: parser.configure({\n        props: [\n            indentNodeProp.add({\n                IfStatement: continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: continuedIndent({ except: /^\\s*({|catch|finally)\\b/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => -1,\n                \"Statement Property\": continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.state.doc.lineAt(context.node.from)) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.state.doc.lineAt(context.node.from)) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            }),\n            styleTags({\n                \"get set async static\": tags.modifier,\n                \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n                \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n                \"export import let var const function class extends\": tags.definitionKeyword,\n                \"with debugger from as new\": tags.keyword,\n                TemplateString: tags.special(tags.string),\n                Super: tags.atom,\n                BooleanLiteral: tags.bool,\n                this: tags.self,\n                null: tags.null,\n                Star: tags.modifier,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": tags.function(tags.variableName),\n                VariableDefinition: tags.definition(tags.variableName),\n                Label: tags.labelName,\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": tags.function(tags.propertyName),\n                \"FunctionDeclaration/VariableDefinition\": tags.function(tags.definition(tags.variableName)),\n                \"ClassDeclaration/VariableDefinition\": tags.definition(tags.className),\n                PropertyNameDefinition: tags.definition(tags.propertyName),\n                UpdateOp: tags.updateOperator,\n                LineComment: tags.lineComment,\n                BlockComment: tags.blockComment,\n                Number: tags.number,\n                String: tags.string,\n                ArithOp: tags.arithmeticOperator,\n                LogicOp: tags.logicOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                RegExp: tags.regexp,\n                Equals: tags.definitionOperator,\n                \"Arrow : Spread\": tags.punctuation,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator,\n                TypeName: tags.typeName,\n                TypeDefinition: tags.definition(tags.typeName),\n                \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n                \"abstract global privacy readonly\": tags.modifier,\n                \"is keyof unique infer\": tags.operatorKeyword,\n                JSXAttributeValue: tags.string,\n                JSXText: tags.content,\n                \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n                \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n                \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.propertyName\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\n/// A language provider for TypeScript.\nconst typescriptLanguage = javascriptLanguage.configure({ dialect: \"ts\" });\n/// Language provider for JSX.\nconst jsxLanguage = javascriptLanguage.configure({ dialect: \"jsx\" });\n/// Language provider for JSX + TypeScript.\nconst tsxLanguage = javascriptLanguage.configure({ dialect: \"jsx ts\" });\n/// JavaScript support. Includes [snippet](#lang-javascript.snippets)\n/// completion.\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    return new LanguageSupport(lang, javascriptLanguage.data.of({\n        autocomplete: ifNotIn([\"LineComment\", \"BlockComment\", \"String\"], completeFromList(snippets))\n    }));\n}\n\n/// Connects an [ESLint](https://eslint.org/) linter to CodeMirror's\n/// [lint](#lint) integration. `eslint` should be an instance of the\n/// [`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\n/// class, and `config` an optional ESLint configuration. The return\n/// value of this function can be passed to [`linter`](#lint.linter)\n/// to create a JavaScript linting extension.\n///\n/// Note that ESLint targets node, and is tricky to run in the\n/// browser. The [eslint4b](https://github.com/mysticatea/eslint4b)\n/// and\n/// [eslint4b-prebuilt](https://github.com/marijnh/eslint4b-prebuilt/)\n/// packages may help with that.\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"jshint:\" + input.ruleId : \"jshint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { esLint, javascript, javascriptLanguage, jsxLanguage, snippets, tsxLanguage, typescriptLanguage };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorExampleComponent } from './codemirror-example.component';\nimport { LazyModule, LazyModuleComponentInfo } from '@gewd/lazy/contracts';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { HighlightEditorModule } from '@gewd/components/highlight-editor';\nimport { MarkdownModule } from '@gewd/markdown';\nimport { CodemirrorModule } from '@gewd/components/codemirror';\n\n\n@NgModule({\n  declarations: [CodemirrorExampleComponent],\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    HighlightEditorModule,\n    MarkdownModule,\n    CodemirrorModule\n  ]\n})\nexport class CodemirrorExampleModule implements LazyModule {\n  getComponents (): LazyModuleComponentInfo[] {\n    return [\n      {\n        name: 'CodeMirrorExample',\n        componentType: CodemirrorExampleComponent\n      }\n    ];\n  }\n}\n","// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters, characters\njoined with zero-width joiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos);\n}\nfunction nextClusterBreak(str, pos) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe first character that takes up two positions in a JavaScript\nstring. It is often useful to compare with this after calling\n`codePointAt`, to figure out whether your character takes up 1 or\n2 index positions.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, n, tabSize) {\n    for (let i = 0; i < string.length;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account.\n*/\nfunction findColumn(string, col, tabSize) {\n    let _compat = arguments[3];\n    if (_compat != null) {\n        col = tabSize;\n        tabSize = _compat;\n    } // FIXME remove at next major version\n    for (let i = 0, n = 0; i < string.length;) {\n        if (n >= col)\n            return i;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return string.length;\n}\n\n/**\nThe data structure for documents.\n*/\nclass Text {\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* From */ | 2 /* To */);\n        this.decompose(to, this.length, parts, 1 /* From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (;;) {\n            a.next();\n            b.next();\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            if (a.done)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings, and for long lines, might split lines\n    themselves into multiple chunks as well.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    @internal\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#text.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\nif (typeof Symbol != \"undefined\")\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* From */ : 0) | (end >= to ? 2 /* To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Branch */, lines >> 5 /* BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        this.done = false;\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#text.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\nexport { Line, Text, codePointAt, codePointSize, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","import { NodeProp, NodeType } from 'lezer-tree';\nimport { StyleModule } from 'style-mod';\nimport { EditorView, ViewPlugin, Decoration } from '@codemirror/view';\nimport { Facet, Prec } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\n\nlet nextTagID = 0;\n/**\nHighlighting tags are markers that denote a highlighting category.\nThey are [associated](https://codemirror.net/6/docs/ref/#highlight.styleTags) with parts of a syntax\ntree by a language mode, and then mapped to an actual CSS style by\na [highlight style](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle).\n\nBecause syntax tree node types and highlight styles have to be\nable to talk the same language, CodeMirror uses a mostly _closed_\n[vocabulary](https://codemirror.net/6/docs/ref/#highlight.tags) of syntax tags (as opposed to\ntraditional open string-based systems, which make it hard for\nhighlighting themes to cover all the tokens produced by the\nvarious languages).\n\nIt _is_ possible to [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) your own\nhighlighting tags for system-internal use (where you control both\nthe language package and the highlighter), but such tags will not\nbe picked up by regular highlighters (though you can derive them\nfrom standard tags to allow highlighters to fall back to those).\n*/\nclass Tag {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The set of tags that match this tag, starting with this one\n    itself, sorted in order of decreasing specificity. @internal\n    */\n    set, \n    /**\n    The base unmodified tag that this one is based on, if it's\n    modified @internal\n    */\n    base, \n    /**\n    The modifiers applied to this.base @internal\n    */\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /**\n        @internal\n        */\n        this.id = nextTagID++;\n    }\n    /**\n    Define a new tag. If `parent` is given, the tag is treated as a\n    sub-tag of that parent, and [highlight\n    styles](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle) that don't mention this tag\n    will try to fall back to the parent tag (or grandparent tag,\n    etc).\n    */\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /**\n    Define a tag _modifier_, which is a function that, given a tag,\n    will return a tag that is a subtag of the original. Applying the\n    same modifier to a twice tag will return the same value (`m1(t1)\n    == m1(t1)`) and applying multiple modifiers will, regardless or\n    order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    \n    When multiple modifiers are applied to a given base tag, each\n    smaller set of modifiers is registered as a parent, so that for\n    example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    `m1(m3(t1)`, and so on.\n    */\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = permute(mods);\n        for (let parent of base.set)\n            for (let config of configs)\n                set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction permute(array) {\n    let result = [array];\n    for (let i = 0; i < array.length; i++) {\n        for (let a of permute(array.slice(0, i).concat(array.slice(i + 1))))\n            result.push(a);\n    }\n    return result;\n}\n/**\nThis function is used to add a set of tags to a language syntax\nvia\n[`Parser.configure`](https://lezer.codemirror.net/docs/ref#lezer.Parser.configure).\n\nThe argument object maps node selectors to [highlighting\ntags](https://codemirror.net/6/docs/ref/#highlight.Tag) or arrays of tags.\n\nNode selectors may hold one or more (space-separated) node paths.\nSuch a path can be a [node\nname](https://lezer.codemirror.net/docs/ref#tree.NodeType.name),\nor multiple node names (or `*` wildcards) separated by slash\ncharacters, as in `\"Block/Declaration/VariableName\"`. Such a path\nmatches the final node but only if its direct parent nodes are the\nother nodes mentioned. A `*` in such a path matches any parent,\nbut only a single level—wildcards that match multiple parents\naren't supported, both for efficiency reasons and because Lezer\ntrees make it rather hard to reason about what they would match.)\n\nA path can be ended with `/...` to indicate that the tag assigned\nto the node should also apply to all child nodes, even if they\nmatch their own style (by default, only the innermost style is\nused).\n\nWhen a path ends in `!`, as in `Attribute!`, no further matching\nhappens for the node's child nodes, and the entire node gets the\ngiven style.\n\nIn this notation, node names that contain `/`, `!`, `*`, or `...`\nmust be quoted as JSON strings.\n\nFor example:\n\n```javascript\nparser.withProps(\n  styleTags({\n    // Style Number and BigNumber nodes\n    \"Number BigNumber\": tags.number,\n    // Style Escape nodes whose parent is String\n    \"String/Escape\": tags.escape,\n    // Style anything inside Attributes nodes\n    \"Attributes!\": tags.meta,\n    // Add a style to all content inside Italic nodes\n    \"Italic/...\": tags.emphasis,\n    // Style InvalidString nodes as both `string` and `invalid`\n    \"InvalidString\": [tags.string, tags.invalid],\n    // Style the node named \"/\" as punctuation\n    '\"/\"': tags.punctuation\n  })\n)\n```\n*/\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? null : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = /*@__PURE__*/new NodeProp();\nconst highlightStyle = /*@__PURE__*/Facet.define({\n    combine(stylings) { return stylings.length ? HighlightStyle.combinedMatch(stylings) : null; }\n});\nconst fallbackHighlightStyle = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? values[0].match : null; }\n});\nfunction getHighlightStyle(state) {\n    return state.facet(highlightStyle) || state.facet(fallbackHighlightStyle);\n}\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://codemirror.net/6/docs/ref/#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(spec, options) {\n        this.map = Object.create(null);\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        this.all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : null;\n        for (let style of spec) {\n            let cls = (style.class || def(Object.assign({}, style, { tag: null }))) +\n                (this.all ? \" \" + this.all : \"\");\n            let tags = style.tag;\n            if (!Array.isArray(tags))\n                this.map[tags.id] = cls;\n            else\n                for (let tag of tags)\n                    this.map[tag.id] = cls;\n        }\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.scope = options.scope || null;\n        this.match = this.match.bind(this);\n        let ext = [treeHighlighter];\n        if (this.module)\n            ext.push(EditorView.styleModule.of(this.module));\n        this.extension = ext.concat(highlightStyle.of(this));\n        this.fallback = ext.concat(fallbackHighlightStyle.of(this));\n    }\n    /**\n    Returns the CSS class associated with the given tag, if any.\n    This method is bound to the instance by the constructor.\n    */\n    match(tag, scope) {\n        if (this.scope && scope != this.scope)\n            return null;\n        for (let t of tag.set) {\n            let match = this.map[t.id];\n            if (match !== undefined) {\n                if (t != tag)\n                    this.map[tag.id] = match;\n                return match;\n            }\n        }\n        return this.map[tag.id] = this.all;\n    }\n    /**\n    Combines an array of highlight styles into a single match\n    function that returns all of the classes assigned by the styles\n    for a given tag.\n    */\n    static combinedMatch(styles) {\n        if (styles.length == 1)\n            return styles[0].match;\n        let cache = styles.some(s => s.scope) ? undefined : Object.create(null);\n        return (tag, scope) => {\n            let cached = cache && cache[tag.id];\n            if (cached !== undefined)\n                return cached;\n            let result = null;\n            for (let style of styles) {\n                let value = style.match(tag, scope);\n                if (value)\n                    result = result ? result + \" \" + value : value;\n            }\n            if (cache)\n                cache[tag.id] = result;\n            return result;\n        };\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The spec must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighters\n    like [`classHighlightStyle`](https://codemirror.net/6/docs/ref/#highlight.classHighlightStyle)\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n    /**\n    Returns the CSS classes (if any) that the highlight styles\n    active in the given state would assign to the given a style\n    [tag](https://codemirror.net/6/docs/ref/#highlight.Tag) and (optional) language\n    [scope](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle^define^options.scope).\n    */\n    static get(state, tag, scope) {\n        let style = getHighlightStyle(state);\n        return style && style(tag, scope || NodeType.none);\n    }\n}\n/**\nGiven a string of code and a language, parse the code in that\nlanguage and run the tree highlighter over the resulting syntax\ntree.\n*/\nfunction highlightTree(tree, \n/**\nGet the CSS classes used to style a given [tag](https://codemirror.net/6/docs/ref/#highlight.Tag),\nor `null` if it isn't styled. (You'll often want to pass a\nhighlight style's [`match`](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle.match)\nmethod here.)\n*/\ngetStyle, \n/**\nAssign styling to a region of the text. Will be called, in order\nof position, for any ranges where more than zero classes apply.\n`classes` is a space separated string of CSS classes.\n*/\nputStyle) {\n    highlightTreeRange(tree, 0, tree.length, getStyle, putStyle);\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlightStyle(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), style = getHighlightStyle(update.state);\n        let styleChange = style != update.startState.facet(highlightStyle);\n        if (tree.length < update.view.viewport.to && !styleChange) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, style);\n        }\n    }\n    buildDeco(view, match) {\n        if (!match || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTreeRange(this.tree, from, to, match, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            });\n        }\n        return builder.finish();\n    }\n}\n// This extension installs a highlighter that highlights based on the\n// syntax tree and highlight style.\nconst treeHighlighter = /*@__PURE__*/Prec.fallback(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\nconst nodeStack = [\"\"];\nfunction highlightTreeRange(tree, from, to, style, span) {\n    let spanStart = from, spanClass = \"\";\n    let cursor = tree.topNode.cursor;\n    function flush(at, newClass) {\n        if (spanClass)\n            span(spanStart, at, spanClass);\n        spanStart = at;\n        spanClass = newClass;\n    }\n    function node(inheritedClass, depth, scope) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        nodeStack[depth] = type.name;\n        if (type.isTop)\n            scope = type;\n        let cls = inheritedClass;\n        let rule = type.prop(ruleNodeProp), opaque = false;\n        while (rule) {\n            if (!rule.context || matchContext(rule.context, nodeStack, depth)) {\n                for (let tag of rule.tags) {\n                    let st = style(tag, scope);\n                    if (st) {\n                        if (cls)\n                            cls += \" \";\n                        cls += st;\n                        if (rule.mode == 1 /* Inherit */)\n                            inheritedClass += (inheritedClass ? \" \" : \"\") + st;\n                        else if (rule.mode == 0 /* Opaque */)\n                            opaque = true;\n                    }\n                }\n                break;\n            }\n            rule = rule.next;\n        }\n        let upto = start;\n        if (!opaque && cursor.firstChild()) {\n            do {\n                if (cursor.from > upto && spanClass != cls)\n                    flush(upto, cls);\n                upto = cursor.to;\n                node(inheritedClass, depth + 1, scope);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n        if (end > upto && spanClass != cls)\n            flush(upto, cls);\n    }\n    node(\"\", 0, tree.type);\n    flush(to, \"\");\n}\nfunction matchContext(context, stack, depth) {\n    if (context.length > depth - 1)\n        return false;\n    for (let d = depth - 1, i = context.length - 1; i >= 0; i--, d--) {\n        let check = context[i];\n        if (check && check != stack[d])\n            return false;\n    }\n    return true;\n}\nconst t = Tag.define;\nconst comment = /*@__PURE__*/t(), name = /*@__PURE__*/t(), typeName = /*@__PURE__*/t(name), literal = /*@__PURE__*/t(), string = /*@__PURE__*/t(literal), number = /*@__PURE__*/t(literal), content = /*@__PURE__*/t(), heading = /*@__PURE__*/t(content), keyword = /*@__PURE__*/t(), operator = /*@__PURE__*/t(), punctuation = /*@__PURE__*/t(), bracket = /*@__PURE__*/t(punctuation), meta = /*@__PURE__*/t();\n/**\nThe default set of highlighting [tags](https://codemirror.net/6/docs/ref/#highlight.Tag^define) used\nby regular language packages and themes.\n\nThis collection is heavily biased towards programming languages,\nand necessarily incomplete. A full ontology of syntactic\nconstructs would fill a stack of books, and be impractical to\nwrite themes for. So try to make do with this set. If all else\nfails, [open an\nissue](https://github.com/codemirror/codemirror.next) to propose a\nnew tag, or [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) a local custom tag for\nyour use case.\n\nNote that it is not obligatory to always attach the most specific\ntag possible to an element—if your grammar can't easily\ndistinguish a certain type of element (such as a local variable),\nit is okay to style it as its more general variant (a variable).\n\nFor tags that extend some parent tag, the documentation links to\nthe parent.\n*/\nconst tags = {\n    /**\n    A comment.\n    */\n    comment,\n    /**\n    A line [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    lineComment: /*@__PURE__*/t(comment),\n    /**\n    A block [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    blockComment: /*@__PURE__*/t(comment),\n    /**\n    A documentation [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    docComment: /*@__PURE__*/t(comment),\n    /**\n    Any kind of identifier.\n    */\n    name,\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a variable.\n    */\n    variableName: /*@__PURE__*/t(name),\n    /**\n    A type [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    typeName: typeName,\n    /**\n    A tag name (subtag of [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)).\n    */\n    tagName: /*@__PURE__*/t(typeName),\n    /**\n    A property, field, or attribute [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    propertyName: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a class.\n    */\n    className: /*@__PURE__*/t(name),\n    /**\n    A label [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    labelName: /*@__PURE__*/t(name),\n    /**\n    A namespace [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    namespace: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a macro.\n    */\n    macroName: /*@__PURE__*/t(name),\n    /**\n    A literal value.\n    */\n    literal,\n    /**\n    A string [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    string,\n    /**\n    A documentation [string](https://codemirror.net/6/docs/ref/#highlight.tags.string).\n    */\n    docString: /*@__PURE__*/t(string),\n    /**\n    A character literal (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    character: /*@__PURE__*/t(string),\n    /**\n    A number [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    number,\n    /**\n    An integer [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    integer: /*@__PURE__*/t(number),\n    /**\n    A floating-point [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    float: /*@__PURE__*/t(number),\n    /**\n    A boolean [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    bool: /*@__PURE__*/t(literal),\n    /**\n    Regular expression [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    regexp: /*@__PURE__*/t(literal),\n    /**\n    An escape [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal), for example a\n    backslash escape in a string.\n    */\n    escape: /*@__PURE__*/t(literal),\n    /**\n    A color [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    color: /*@__PURE__*/t(literal),\n    /**\n    A URL [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    url: /*@__PURE__*/t(literal),\n    /**\n    A language keyword.\n    */\n    keyword,\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for the self or this\n    object.\n    */\n    self: /*@__PURE__*/t(keyword),\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for null.\n    */\n    null: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) denoting some atomic value.\n    */\n    atom: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that represents a unit.\n    */\n    unit: /*@__PURE__*/t(keyword),\n    /**\n    A modifier [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    modifier: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that acts as an operator.\n    */\n    operatorKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A control-flow related [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    controlKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that defines something.\n    */\n    definitionKeyword: /*@__PURE__*/t(keyword),\n    /**\n    An operator.\n    */\n    operator,\n    /**\n    An [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    derefOperator: /*@__PURE__*/t(operator),\n    /**\n    Arithmetic-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    arithmeticOperator: /*@__PURE__*/t(operator),\n    /**\n    Logical [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    logicOperator: /*@__PURE__*/t(operator),\n    /**\n    Bit [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    bitwiseOperator: /*@__PURE__*/t(operator),\n    /**\n    Comparison [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    compareOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that updates its operand.\n    */\n    updateOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    definitionOperator: /*@__PURE__*/t(operator),\n    /**\n    Type-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    typeOperator: /*@__PURE__*/t(operator),\n    /**\n    Control-flow [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    controlOperator: /*@__PURE__*/t(operator),\n    /**\n    Program or markup punctuation.\n    */\n    punctuation,\n    /**\n    [Punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation) that separates\n    things.\n    */\n    separator: /*@__PURE__*/t(punctuation),\n    /**\n    Bracket-style [punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation).\n    */\n    bracket,\n    /**\n    Angle [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `<` and `>`\n    tokens).\n    */\n    angleBracket: /*@__PURE__*/t(bracket),\n    /**\n    Square [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `[` and `]`\n    tokens).\n    */\n    squareBracket: /*@__PURE__*/t(bracket),\n    /**\n    Parentheses (usually `(` and `)` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    paren: /*@__PURE__*/t(bracket),\n    /**\n    Braces (usually `{` and `}` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    brace: /*@__PURE__*/t(bracket),\n    /**\n    Content, for example plain text in XML or markup documents.\n    */\n    content,\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a heading.\n    */\n    heading,\n    /**\n    A level 1 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading1: /*@__PURE__*/t(heading),\n    /**\n    A level 2 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading2: /*@__PURE__*/t(heading),\n    /**\n    A level 3 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading3: /*@__PURE__*/t(heading),\n    /**\n    A level 4 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading4: /*@__PURE__*/t(heading),\n    /**\n    A level 5 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading5: /*@__PURE__*/t(heading),\n    /**\n    A level 6 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading6: /*@__PURE__*/t(heading),\n    /**\n    A prose separator (such as a horizontal rule).\n    */\n    contentSeparator: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a list.\n    */\n    list: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a quote.\n    */\n    quote: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is emphasized.\n    */\n    emphasis: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled strong.\n    */\n    strong: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is part of a link.\n    */\n    link: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled as code or\n    monospace.\n    */\n    monospace: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that has a strike-through\n    style.\n    */\n    strikethrough: /*@__PURE__*/t(content),\n    /**\n    Inserted text in a change-tracking format.\n    */\n    inserted: /*@__PURE__*/t(),\n    /**\n    Deleted text.\n    */\n    deleted: /*@__PURE__*/t(),\n    /**\n    Changed text.\n    */\n    changed: /*@__PURE__*/t(),\n    /**\n    An invalid or unsyntactic element.\n    */\n    invalid: /*@__PURE__*/t(),\n    /**\n    Metadata or meta-instruction.\n    */\n    meta,\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that applies to the entire\n    document.\n    */\n    documentMeta: /*@__PURE__*/t(meta),\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that annotates or adds\n    attributes to a given syntactic element.\n    */\n    annotation: /*@__PURE__*/t(meta),\n    /**\n    Processing instruction or preprocessor directive. Subtag of\n    [meta](https://codemirror.net/6/docs/ref/#highlight.tags.meta).\n    */\n    processingInstruction: /*@__PURE__*/t(meta),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that a\n    given element is being defined. Expected to be used with the\n    various [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) tags.\n    */\n    definition: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that\n    something is constant. Mostly expected to be used with\n    [variable names](https://codemirror.net/6/docs/ref/#highlight.tags.variableName).\n    */\n    constant: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) used to indicate that\n    a [variable](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) or [property\n    name](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName) is being called or defined\n    as a function.\n    */\n    function: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that can be applied to\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) to indicate that they belong to\n    the language's standard environment.\n    */\n    standard: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates a given\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) is local to some scope.\n    */\n    local: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    A generic variant [modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that\n    can be used to tag language-specific alternative variants of\n    some common tag. It is recommended for themes to define special\n    forms of at least the [string](https://codemirror.net/6/docs/ref/#highlight.tags.string) and\n    [variable name](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) tags, since those\n    come up a lot.\n    */\n    special: /*@__PURE__*/Tag.defineModifier()\n};\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.meta,\n        color: \"#7a757a\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n/**\nThis is a highlight style that adds stable, predictable classes to\ntokens, for styling with external CSS.\n\nThese tags are mapped to their name prefixed with `\"cmt-\"` (for\nexample `\"cmt-comment\"`):\n\n* [`link`](https://codemirror.net/6/docs/ref/#highlight.tags.link)\n* [`heading`](https://codemirror.net/6/docs/ref/#highlight.tags.heading)\n* [`emphasis`](https://codemirror.net/6/docs/ref/#highlight.tags.emphasis)\n* [`strong`](https://codemirror.net/6/docs/ref/#highlight.tags.strong)\n* [`keyword`](https://codemirror.net/6/docs/ref/#highlight.tags.keyword)\n* [`atom`](https://codemirror.net/6/docs/ref/#highlight.tags.atom) [`bool`](https://codemirror.net/6/docs/ref/#highlight.tags.bool)\n* [`url`](https://codemirror.net/6/docs/ref/#highlight.tags.url)\n* [`labelName`](https://codemirror.net/6/docs/ref/#highlight.tags.labelName)\n* [`inserted`](https://codemirror.net/6/docs/ref/#highlight.tags.inserted)\n* [`deleted`](https://codemirror.net/6/docs/ref/#highlight.tags.deleted)\n* [`literal`](https://codemirror.net/6/docs/ref/#highlight.tags.literal)\n* [`string`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n* [`number`](https://codemirror.net/6/docs/ref/#highlight.tags.number)\n* [`variableName`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n* [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)\n* [`namespace`](https://codemirror.net/6/docs/ref/#highlight.tags.namespace)\n* [`macroName`](https://codemirror.net/6/docs/ref/#highlight.tags.macroName)\n* [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)\n* [`operator`](https://codemirror.net/6/docs/ref/#highlight.tags.operator)\n* [`comment`](https://codemirror.net/6/docs/ref/#highlight.tags.comment)\n* [`meta`](https://codemirror.net/6/docs/ref/#highlight.tags.meta)\n* [`punctuation`](https://codemirror.net/6/docs/ref/#highlight.tags.puncutation)\n* [`invalid`](https://codemirror.net/6/docs/ref/#highlight.tags.invalid)\n\nIn addition, these mappings are provided:\n\n* [`regexp`](https://codemirror.net/6/docs/ref/#highlight.tags.regexp),\n  [`escape`](https://codemirror.net/6/docs/ref/#highlight.tags.escape), and\n  [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(string)`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n  are mapped to `\"cmt-string2\"`\n* [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName2\"`\n* [`local`](https://codemirror.net/6/docs/ref/#highlight.tags.local)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-local\"`\n* [`definition`](https://codemirror.net/6/docs/ref/#highlight.tags.definition)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-definition\"`\n*/\nconst classHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link, class: \"cmt-link\" },\n    { tag: tags.heading, class: \"cmt-heading\" },\n    { tag: tags.emphasis, class: \"cmt-emphasis\" },\n    { tag: tags.strong, class: \"cmt-strong\" },\n    { tag: tags.keyword, class: \"cmt-keyword\" },\n    { tag: tags.atom, class: \"cmt-atom\" },\n    { tag: tags.bool, class: \"cmt-bool\" },\n    { tag: tags.url, class: \"cmt-url\" },\n    { tag: tags.labelName, class: \"cmt-labelName\" },\n    { tag: tags.inserted, class: \"cmt-inserted\" },\n    { tag: tags.deleted, class: \"cmt-deleted\" },\n    { tag: tags.literal, class: \"cmt-literal\" },\n    { tag: tags.string, class: \"cmt-string\" },\n    { tag: tags.number, class: \"cmt-number\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)], class: \"cmt-string2\" },\n    { tag: tags.variableName, class: \"cmt-variableName\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName), class: \"cmt-variableName cmt-local\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName), class: \"cmt-variableName cmt-definition\" },\n    { tag: /*@__PURE__*/tags.special(tags.variableName), class: \"cmt-variableName2\" },\n    { tag: tags.typeName, class: \"cmt-typeName\" },\n    { tag: tags.namespace, class: \"cmt-namespace\" },\n    { tag: tags.macroName, class: \"cmt-macroName\" },\n    { tag: tags.propertyName, class: \"cmt-propertyName\" },\n    { tag: tags.operator, class: \"cmt-operator\" },\n    { tag: tags.comment, class: \"cmt-comment\" },\n    { tag: tags.meta, class: \"cmt-meta\" },\n    { tag: tags.invalid, class: \"cmt-invalid\" },\n    { tag: tags.punctuation, class: \"cmt-punctuation\" }\n]);\n\nexport { HighlightStyle, Tag, classHighlightStyle, defaultHighlightStyle, highlightTree, styleTags, tags };\n","import { MapMode } from '@codemirror/state';\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. The default\n    implementation compares by identity.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#rangeset.Range) with this value.\n    */\n    range(from, to = from) { return new Range(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* Far */, true), e = this.findIndex(to, 1000000000 /* Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#rangeset.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer = RangeSet.empty, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (The extra type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(new Range(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.length == 0 || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration. `from` and\n    `to` are coordinates in the _new_ space, after these changes.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && newSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && oldSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* Far */;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to >= to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#rangeset.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let open = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                iterator.point(pos, curTo, cursor.point, cursor.activeForPoint(cursor.to), open);\n                open = cursor.openEnd(curTo) + (cursor.to > curTo ? 1 : 0);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, open);\n                open = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                break;\n            pos = cursor.to;\n            cursor.next();\n        }\n        return open;\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range) objects.\n*/\nclass RangeSetBuilder {\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* Far */;\n        this.lastTo = -1000000000 /* Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = new RangeSet(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint < 500 /* BigPointSize */)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (inA.get(set.chunk[i]) == set.chunkPos[i])\n                shared.add(set.chunk[i]);\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        let rangeIndex = this.chunkIndex == this.layer.chunk.length ? 0\n            : this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n        if (!forward || this.rangeIndex < rangeIndex)\n            this.rangeIndex = rangeIndex;\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                if (++this.rangeIndex == chunk.value.length) {\n                    this.chunkIndex++;\n                    if (this.skip) {\n                        while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                            this.chunkIndex++;\n                    }\n                    this.rangeIndex = 0;\n                }\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* Far */;\n        this.endSide = 0;\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null, trackExtra = 0;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to && nextVal.endSide == this.endSide) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    if (this.cursor.from < from)\n                        trackExtra = 1;\n                    this.cursor.next();\n                    if (this.to > from)\n                        this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            let openStart = 0;\n            while (openStart < trackOpen.length && trackOpen[openStart] < from)\n                openStart++;\n            this.openStart = openStart + trackExtra;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\nexport { Range, RangeSet, RangeSetBuilder, RangeValue };\n","import { NodeProp, Tree, TreeFragment, NodeType } from 'lezer-tree';\nimport { Text, countColumn } from '@codemirror/text';\nimport { Facet, EditorState, StateEffect, StateField, Transaction } from '@codemirror/state';\nimport { ViewPlugin } from '@codemirror/view';\n\n/**\nNode prop stored in a grammar's top syntax node to provide the\nfacet that stores language data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. You'll\nwant to subclass this class for custom parsers, or use the\n[`LezerLanguage`](https://codemirror.net/6/docs/ref/#language.LezerLanguage) or\n[`StreamLanguage`](https://codemirror.net/6/docs/ref/#stream-parser.StreamLanguage) abstractions for\n[Lezer](https://lezer.codemirror.net/) or stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. You usually don't need to invoke\n    this directly. But when you do, make sure you use\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet) to create\n    the first argument.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) data\n    facet used for this language.\n    */\n    data, parser, \n    /**\n    The node type of the top node of trees produced by this parser.\n    */\n    topNode, extraExtensions = []) {\n        this.data = data;\n        this.topNode = topNode;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos) => state.facet(languageDataFacetAt(state, pos)))\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos) {\n        return languageDataFacetAt(state, pos) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        syntaxTree(state).iterate({\n            enter: (type, from, to) => {\n                if (type.isTop && type.prop(languageDataProp) == this.data) {\n                    result.push({ from, to });\n                    return false;\n                }\n                return undefined;\n            }\n        });\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n    /**\n    Use this language to parse the given string into a tree.\n    */\n    parseString(code) {\n        let doc = Text.of(code.split(\"\\n\"));\n        let parse = this.parser.startParse(new DocInput(doc), 0, new EditorParseContext(this.parser, EditorState.create({ doc }), [], Tree.empty, { from: 0, to: code.length }, [], null));\n        let tree;\n        while (!(tree = parse.advance())) { }\n        return tree;\n    }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction languageDataFacetAt(state, pos) {\n    let topLang = state.facet(language);\n    if (!topLang)\n        return null;\n    if (!topLang.allowsNesting)\n        return topLang.data;\n    let tree = syntaxTree(state);\n    let target = tree.resolve(pos, -1);\n    while (target) {\n        let facet = target.type.prop(languageDataProp);\n        if (facet)\n            return facet;\n        target = target.parent;\n    }\n    return topLang.data;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with\n[Lezer](https://lezer.codemirror.net/docs/ref#lezer.Parser)\nparsers.\n*/\nclass LezerLanguage extends Language {\n    constructor(data, parser) {\n        super(data, parser, parser.topNode);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LezerLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }));\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser.\n    */\n    configure(options) {\n        return new LezerLanguage(this.data, this.parser.configure(options));\n    }\n    get allowsNesting() { return this.parser.hasNested; }\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of active [language](https://codemirror.net/6/docs/ref/#language.Language),\nor the empty tree if there is no language available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    return !parse ? null : parse.tree.length >= upto || parse.work(timeout, upto) ? parse.tree : null;\n}\n// Lezer-style Input object for a Text document.\nclass DocInput {\n    constructor(doc, length = doc.length) {\n        this.doc = doc;\n        this.length = length;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.prevString = \"\";\n        this.cursor = doc.iter();\n    }\n    syncTo(pos) {\n        if (pos < this.cursorPos) { // Reset the cursor if we have to go back\n            this.cursor = this.doc.iter();\n            this.cursorPos = 0;\n        }\n        this.prevString = pos == this.cursorPos ? this.string : \"\";\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    get(pos) {\n        if (pos >= this.length)\n            return -1;\n        let stringStart = this.cursorPos - this.string.length;\n        if (pos < stringStart || pos >= this.cursorPos) {\n            if (pos < stringStart && pos >= stringStart - this.prevString.length)\n                return this.prevString.charCodeAt(pos - (stringStart - this.prevString.length));\n            stringStart = this.syncTo(pos);\n        }\n        return this.string.charCodeAt(pos - stringStart);\n    }\n    lineAfter(pos) {\n        if (pos >= this.length || pos < 0)\n            return \"\";\n        let stringStart = this.cursorPos - this.string.length;\n        if (pos < stringStart || pos >= this.cursorPos)\n            stringStart = this.syncTo(pos);\n        return this.cursor.lineBreak ? \"\" : this.string.slice(pos - stringStart, Math.min(this.length - stringStart, this.string.length));\n    }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n    clip(at) {\n        return new DocInput(this.doc, at);\n    }\n}\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass EditorParseContext {\n    /**\n    @internal\n    */\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.EditorParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    /**\n    @internal\n    */\n    work(time, upto) {\n        if (this.tree != Tree.empty && (upto == null ? this.tree.length == this.state.doc.length : this.tree.length >= upto)) {\n            this.takeTree();\n            return true;\n        }\n        if (!this.parse)\n            this.parse = this.parser.startParse(new DocInput(this.state.doc), 0, this);\n        let endTime = Date.now() + time;\n        for (;;) {\n            let done = this.parse.advance();\n            if (done) {\n                this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done));\n                this.parse = null;\n                this.tree = done;\n                return true;\n            }\n            else if (upto != null && this.parse.pos >= upto) {\n                this.takeTree();\n                return true;\n            }\n            if (Date.now() > endTime)\n                return false;\n        }\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        if (this.parse && this.parse.pos > this.tree.length) {\n            this.tree = this.parse.forceFinish();\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new EditorParseContext(this.parser, newState, fragments, tree, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        return this.skipped.length < startLen;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return {\n            startParse(input, startPos, context) {\n                return {\n                    pos: startPos,\n                    advance() {\n                        let ecx = context;\n                        ecx.tempSkipped.push({ from: startPos, to: input.length });\n                        if (until)\n                            ecx.scheduleOn = ecx.scheduleOn ? Promise.all([ecx.scheduleOn, until]) : until;\n                        this.pos = input.length;\n                        return new Tree(NodeType.none, [], [], input.length - startPos);\n                    },\n                    forceFinish() { return this.advance(); }\n                };\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    movedPast(pos) {\n        return this.tree.length < pos && this.parse && this.parse.pos >= pos;\n    }\n}\n/**\nFIXME backwards compatible shim, remove on next major @internal\n*/\nEditorParseContext.skippingParser = /*@__PURE__*/EditorParseContext.getSkippingParser();\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.tree.length == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.tree.length), newCx.viewport.to);\n        if (!newCx.work(25 /* Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let parseState = new EditorParseContext(state.facet(language).parser, state, [], Tree.empty, { from: 0, to: state.doc.length }, [], null);\n        if (!parseState.work(25 /* Apply */))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = typeof window != \"undefined\" && window.requestIdleCallback ||\n    ((callback, { timeout }) => setTimeout(callback, timeout));\nlet cancelIdle = typeof window != \"undefined\" && window.cancelIdleCallback || clearTimeout;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = -1;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (update.viewportChanged) {\n            if (cx.updateViewport(update.view.viewport))\n                cx.reset();\n            if (this.view.viewport.to > cx.tree.length)\n                this.scheduleWork();\n        }\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working > -1)\n            return;\n        let { state } = this.view, field = state.field(Language.state), frags = field.context.fragments;\n        if (field.tree.length >= state.doc.length && frags.length && frags[0].from == 0 && frags[0].to >= state.doc.length)\n            return;\n        this.working = requestIdle(this.work, { timeout: 500 /* Pause */ });\n    }\n    work(deadline) {\n        this.working = -1;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* ChunkTime */;\n            this.chunkBudget = 3000 /* ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree.length >= vpTo + 1000000 /* MaxParseAhead */)\n            return;\n        let time = Math.min(this.chunkBudget, deadline ? Math.max(25 /* MinSlice */, deadline.timeRemaining()) : 100 /* Slice */);\n        let done = field.context.work(time, vpTo + 1000000 /* MaxParseAhead */);\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0 || field.context.movedPast(vpTo)) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (!done && this.chunkBudget > 0)\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            cx.scheduleOn.then(() => this.scheduleWork());\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working >= 0)\n            cancelIdle(this.working);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: [Language.state, parseWorker]\n});\n/**\nThis class bundles a [language object](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        /**\n        If the language has been loaded, this will hold its value.\n        */\n        this.support = undefined;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, spec.load);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth at the start of a given line, or\n`null` to indicate no appropriate indentation could be determined.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens.\nShould be a string consisting either entirely of spaces or\nentirely of tabs. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        if (!/^(?: +|\\t+)$/.test(values[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return values[0];\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize;\n    if (state.facet(indentUnit).charCodeAt(0) == 9)\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n    for (let i = 0; i < cols; i++)\n        result += \" \";\n    return result;\n}\n/**\nGet the indentation at the given position. Will first consult any\n[indent services](https://codemirror.net/6/docs/ref/#language.indentService) that are registered,\nand if none of those return an indentation, this will check the\nsyntax tree for the [indent node prop](https://codemirror.net/6/docs/ref/#language.indentNodeProp)\nand use that if found. Returns a number when an indentation could\nbe determined, and null otherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result != null)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos) {\n        var _a, _b;\n        let sim = (_a = this.options) === null || _a === void 0 ? void 0 : _a.simulateBreak;\n        if (pos == sim && ((_b = this.options) === null || _b === void 0 ? void 0 : _b.simulateDoubleBreak))\n            return \"\";\n        return this.state.sliceDoc(pos, Math.min(pos + 100, sim != null && sim > pos ? sim : 1e9, this.state.doc.lineAt(pos).to));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos) {\n        var _a;\n        let line = this.state.doc.lineAt(pos), text = line.text.slice(0, pos - line.from);\n        let result = this.countColumn(text, pos - line.from);\n        let override = ((_a = this.options) === null || _a === void 0 ? void 0 : _a.overrideIndentation) ? this.options.overrideIndentation(line.from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S/));\n        return result;\n    }\n    /**\n    find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos) {\n        return countColumn(pos < 0 ? line : line.slice(0, pos), 0, this.state.tabSize);\n    }\n    /**\n    Find the indentation column of the given document line.\n    */\n    lineIndent(line) {\n        var _a;\n        let override = (_a = this.options) === null || _a === void 0 ? void 0 : _a.overrideIndentation;\n        if (override) {\n            let overriden = override(line.from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(line.text, line.text.search(/\\S/));\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number or null, where null indicates that no\ndefinitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    let tree = ast.resolve(pos);\n    // Enter previous nodes that end in empty error terms, which means\n    // they were broken off by error recovery, so that indentation\n    // works even if the constructs haven't been finished.\n    for (let scan = tree, scanPos = pos;;) {\n        let last = scan.childBefore(scanPos);\n        if (!last)\n            break;\n        if (last.type.isError && last.from == last.to) {\n            tree = scan;\n            scanPos = last.from;\n        }\n        else {\n            scan = last;\n            scanPos = scan.to + 1;\n        }\n    }\n    return indentFrom(tree, pos, cx);\n}\nfunction ignoreClosed(cx) {\n    var _a, _b;\n    return cx.pos == ((_a = cx.options) === null || _a === void 0 ? void 0 : _a.simulateBreak) && ((_b = cx.options) === null || _b === void 0 ? void 0 : _b.simulateDoubleBreak);\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(new TreeIndentContext(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions.\n*/\nclass TreeIndentContext extends IndentContext {\n    /**\n    @internal\n    */\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        let line = this.state.doc.lineAt(this.node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = this.node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, this.node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    var _a;\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = (_a = context.options) === null || _a === void 0 ? void 0 : _a.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || tr.annotation(Transaction.userEvent) != \"input\")\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length == 0)\n        return null;\n    let inner = tree.resolve(end);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\n\nexport { EditorParseContext, IndentContext, Language, LanguageDescription, LanguageSupport, LezerLanguage, TreeIndentContext, continuedIndent, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldInside, foldNodeProp, foldService, foldable, getIndentUnit, getIndentation, indentNodeProp, indentOnInput, indentService, indentString, indentUnit, language, languageDataProp, syntaxTree };\n"]}